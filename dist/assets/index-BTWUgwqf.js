var nS=Object.defineProperty;var rS=(t,e,n)=>e in t?nS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ms=(t,e,n)=>rS(t,typeof e!="symbol"?e+"":e,n);function iS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ew={exports:{}},wp={},Sw={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.element"),oS=Symbol.for("react.portal"),aS=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),uS=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),hS=Symbol.for("react.context"),dS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),pS=Symbol.for("react.memo"),mS=Symbol.for("react.lazy"),vv=Symbol.iterator;function gS(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var Aw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xw=Object.assign,Iw={};function lc(t,e,n){this.props=t,this.context=e,this.refs=Iw,this.updater=n||Aw}lc.prototype.isReactComponent={};lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tw(){}Tw.prototype=lc.prototype;function Xg(t,e,n){this.props=t,this.context=e,this.refs=Iw,this.updater=n||Aw}var Jg=Xg.prototype=new Tw;Jg.constructor=Xg;xw(Jg,lc.prototype);Jg.isPureReactComponent=!0;var yv=Array.isArray,Nw=Object.prototype.hasOwnProperty,Zg={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function Pw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Nw.call(e,r)&&!kw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Uh,type:t,key:s,ref:o,props:i,_owner:Zg.current}}function vS(t,e){return{$$typeof:Uh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function e1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uh}function yS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function y0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yS(""+t.key):e.toString(36)}function nf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uh:case oS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+y0(o,0):r,yv(i)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),nf(i,e,n,"",function(h){return h})):i!=null&&(e1(i)&&(i=vS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+y0(s,a);o+=nf(s,e,n,l,i)}else if(l=gS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+y0(s,a++),o+=nf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Td(t,e,n){if(t==null)return t;var r=[],i=0;return nf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function wS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lr={current:null},rf={transition:null},_S={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:rf,ReactCurrentOwner:Zg};function Lw(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Td,forEach:function(t,e,n){Td(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Td(t,function(){e++}),e},toArray:function(t){return Td(t,function(e){return e})||[]},only:function(t){if(!e1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=lc;bt.Fragment=aS;bt.Profiler=uS;bt.PureComponent=Xg;bt.StrictMode=lS;bt.Suspense=fS;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_S;bt.act=Lw;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Nw.call(e,l)&&!kw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Uh,type:t.type,key:i,ref:s,props:r,_owner:o}};bt.createContext=function(t){return t={$$typeof:hS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cS,_context:t},t.Consumer=t};bt.createElement=Pw;bt.createFactory=function(t){var e=Pw.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:dS,render:t}};bt.isValidElement=e1;bt.lazy=function(t){return{$$typeof:mS,_payload:{_status:-1,_result:t},_init:wS}};bt.memo=function(t,e){return{$$typeof:pS,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=rf.transition;rf.transition={};try{t()}finally{rf.transition=e}};bt.unstable_act=Lw;bt.useCallback=function(t,e){return Lr.current.useCallback(t,e)};bt.useContext=function(t){return Lr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Lr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Lr.current.useEffect(t,e)};bt.useId=function(){return Lr.current.useId()};bt.useImperativeHandle=function(t,e,n){return Lr.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return Lr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Lr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Lr.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return Lr.current.useReducer(t,e,n)};bt.useRef=function(t){return Lr.current.useRef(t)};bt.useState=function(t){return Lr.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return Lr.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return Lr.current.useTransition()};bt.version="18.3.1";Sw.exports=bt;var Ve=Sw.exports;const t1=bw(Ve),bS=iS({__proto__:null,default:t1},[Ve]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=Ve,SS=Symbol.for("react.element"),AS=Symbol.for("react.fragment"),xS=Object.prototype.hasOwnProperty,IS=ES.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TS={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xS.call(e,r)&&!TS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SS,type:t,key:s,ref:o,props:i,_owner:IS.current}}wp.Fragment=AS;wp.jsx=Cw;wp.jsxs=Cw;Ew.exports=wp;var Z=Ew.exports,fm={},Rw={exports:{}},ui={},Dw={exports:{}},Ow={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ce){var de=X.length;X.push(ce);e:for(;0<de;){var Le=de-1>>>1,R=X[Le];if(0<i(R,ce))X[Le]=ce,X[de]=R,de=Le;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ce=X[0],de=X.pop();if(de!==ce){X[0]=de;e:for(var Le=0,R=X.length,$=R>>>1;Le<$;){var q=2*(Le+1)-1,K=X[q],ee=q+1,oe=X[ee];if(0>i(K,de))ee<R&&0>i(oe,K)?(X[Le]=oe,X[ee]=de,Le=ee):(X[Le]=K,X[q]=de,Le=q);else if(ee<R&&0>i(oe,de))X[Le]=oe,X[ee]=de,Le=ee;else break e}}return ce}function i(X,ce){var de=X.sortIndex-ce.sortIndex;return de!==0?de:X.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],p=1,v=null,w=3,g=!1,L=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(X){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=X)r(h),ce.sortIndex=ce.expirationTime,e(l,ce);else break;ce=n(h)}}function W(X){if(T=!1,D(X),!L)if(n(l)!==null)L=!0,ve(J);else{var ce=n(h);ce!==null&&we(W,ce.startTime-X)}}function J(X,ce){L=!1,T&&(T=!1,_(A),A=-1),g=!0;var de=w;try{for(D(ce),v=n(l);v!==null&&(!(v.expirationTime>ce)||X&&!x());){var Le=v.callback;if(typeof Le=="function"){v.callback=null,w=v.priorityLevel;var R=Le(v.expirationTime<=ce);ce=t.unstable_now(),typeof R=="function"?v.callback=R:v===n(l)&&r(l),D(ce)}else r(l);v=n(l)}if(v!==null)var $=!0;else{var q=n(h);q!==null&&we(W,q.startTime-ce),$=!1}return $}finally{v=null,w=de,g=!1}}var ie=!1,C=null,A=-1,O=5,B=-1;function x(){return!(t.unstable_now()-B<O)}function I(){if(C!==null){var X=t.unstable_now();B=X;var ce=!0;try{ce=C(!0,X)}finally{ce?N():(ie=!1,C=null)}}else ie=!1}var N;if(typeof S=="function")N=function(){S(I)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ye=Q.port2;Q.port1.onmessage=I,N=function(){ye.postMessage(null)}}else N=function(){j(I,0)};function ve(X){C=X,ie||(ie=!0,N())}function we(X,ce){A=j(function(){X(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){L||g||(L=!0,ve(J))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var de=w;w=ce;try{return X()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=w;w=X;try{return ce()}finally{w=de}},t.unstable_scheduleCallback=function(X,ce,de){var Le=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Le+de:Le):de=Le,X){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=de+R,X={id:p++,callback:ce,priorityLevel:X,startTime:de,expirationTime:R,sortIndex:-1},de>Le?(X.sortIndex=de,e(h,X),n(l)===null&&X===n(h)&&(T?(_(A),A=-1):T=!0,we(W,de-Le))):(X.sortIndex=R,e(l,X),L||g||(L=!0,ve(J))),X},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(X){var ce=w;return function(){var de=w;w=ce;try{return X.apply(this,arguments)}finally{w=de}}}})(Ow);Dw.exports=Ow;var NS=Dw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=Ve,li=NS;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,ph={};function Pl(t,e){qu(t,e),qu(t+"Capture",e)}function qu(t,e){for(ph[t]=e,t=0;t<e.length;t++)Mw.add(e[t])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,PS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_v={},bv={};function LS(t){return pm.call(bv,t)?!0:pm.call(_v,t)?!1:PS.test(t)?bv[t]=!0:(_v[t]=!0,!1)}function CS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RS(t,e,n,r){if(e===null||typeof e>"u"||CS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new Cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new Cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new Cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new Cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new Cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new Cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new Cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new Cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new Cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var n1=/[\-:]([a-z])/g;function r1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n1,r1);rr[e]=new Cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n1,r1);rr[e]=new Cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n1,r1);rr[e]=new Cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new Cr(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new Cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function i1(t,e,n,r){var i=rr.hasOwnProperty(e)?rr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RS(e,n,i,r)&&(n=null),r||i===null?LS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yo=kS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),du=Symbol.for("react.portal"),fu=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),o1=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),a1=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),Vw=Symbol.for("react.offscreen"),Ev=Symbol.iterator;function Oc(t){return t===null||typeof t!="object"?null:(t=Ev&&t[Ev]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,w0;function Wc(t){if(w0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);w0=e&&e[1]||""}return`
`+w0+t}var _0=!1;function b0(t,e){if(!t||_0)return"";_0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wc(t):""}function DS(t){switch(t.tag){case 5:return Wc(t.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return t=b0(t.type,!1),t;case 11:return t=b0(t.type.render,!1),t;case 1:return t=b0(t.type,!0),t;default:return""}}function ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fu:return"Fragment";case du:return"Portal";case mm:return"Profiler";case s1:return"StrictMode";case gm:return"Suspense";case vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jw:return(t.displayName||"Context")+".Consumer";case Fw:return(t._context.displayName||"Context")+".Provider";case o1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a1:return e=t.displayName||null,e!==null?e:ym(t.type)||"Memo";case ea:e=t._payload,t=t._init;try{return ym(t(e))}catch{}}return null}function OS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ym(e);case 8:return e===s1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ia(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MS(t){var e=Uw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kd(t){t._valueTracker||(t._valueTracker=MS(t))}function Bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ia(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zw(t,e){e=e.checked,e!=null&&i1(t,"checked",e,!1)}function _m(t,e){zw(t,e);var n=Ia(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&bm(t,e.type,Ia(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Av(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bm(t,e,n){(e!=="number"||Pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gc=Array.isArray;function Tu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ia(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(Gc(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ia(n)}}function qw(t,e){var n=Ia(e.value),r=Ia(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pd,Hw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FS=["Webkit","ms","Moz","O"];Object.keys(Zc).forEach(function(t){FS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zc[e]=Zc[t]})});function Ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zc.hasOwnProperty(t)&&Zc[t]?(""+e).trim():e+"px"}function Gw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ww(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jS=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Am(t,e){if(e){if(jS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function xm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function l1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tm=null,Nu=null,ku=null;function Tv(t){if(t=qh(t)){if(typeof Tm!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Ap(e),Tm(t.stateNode,t.type,e))}}function Kw(t){Nu?ku?ku.push(t):ku=[t]:Nu=t}function Yw(){if(Nu){var t=Nu,e=ku;if(ku=Nu=null,Tv(t),e)for(t=0;t<e.length;t++)Tv(e[t])}}function Qw(t,e){return t(e)}function Xw(){}var E0=!1;function Jw(t,e,n){if(E0)return t(e,n);E0=!0;try{return Qw(t,e,n)}finally{E0=!1,(Nu!==null||ku!==null)&&(Xw(),Yw())}}function gh(t,e){var n=t.stateNode;if(n===null)return null;var r=Ap(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var Nm=!1;if(lo)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Nm=!1}function VS(t,e,n,r,i,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var eh=!1,Lf=null,Cf=!1,km=null,US={onError:function(t){eh=!0,Lf=t}};function BS(t,e,n,r,i,s,o,a,l){eh=!1,Lf=null,VS.apply(US,arguments)}function zS(t,e,n,r,i,s,o,a,l){if(BS.apply(this,arguments),eh){if(eh){var h=Lf;eh=!1,Lf=null}else throw Error(De(198));Cf||(Cf=!0,km=h)}}function Ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(Ll(t)!==t)throw Error(De(188))}function qS(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nv(i),t;if(s===r)return Nv(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function e_(t){return t=qS(t),t!==null?t_(t):null}function t_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t_(t);if(e!==null)return e;t=t.sibling}return null}var n_=li.unstable_scheduleCallback,kv=li.unstable_cancelCallback,$S=li.unstable_shouldYield,HS=li.unstable_requestPaint,An=li.unstable_now,WS=li.unstable_getCurrentPriorityLevel,u1=li.unstable_ImmediatePriority,r_=li.unstable_UserBlockingPriority,Rf=li.unstable_NormalPriority,GS=li.unstable_LowPriority,i_=li.unstable_IdlePriority,_p=null,Es=null;function KS(t){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(_p,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:XS,YS=Math.log,QS=Math.LN2;function XS(t){return t>>>=0,t===0?32:31-(YS(t)/QS|0)|0}var Ld=64,Cd=4194304;function Kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Df(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kc(a):(s&=o,s!==0&&(r=Kc(s)))}else o=n&~i,o!==0?r=Kc(o):s!==0&&(r=Kc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function JS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=JS(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s_(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function S0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function eA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function c1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $t=0;function o_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a_,h1,l_,u_,c_,Lm=!1,Rd=[],ma=null,ga=null,va=null,vh=new Map,yh=new Map,na=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(t,e){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function Fc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qh(e),e!==null&&h1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nA(t,e,n,r,i){switch(e){case"focusin":return ma=Fc(ma,t,e,n,r,i),!0;case"dragenter":return ga=Fc(ga,t,e,n,r,i),!0;case"mouseover":return va=Fc(va,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vh.set(s,Fc(vh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yh.set(s,Fc(yh.get(s)||null,t,e,n,r,i)),!0}return!1}function h_(t){var e=ll(t.target);if(e!==null){var n=Ll(e);if(n!==null){if(e=n.tag,e===13){if(e=Zw(n),e!==null){t.blockedOn=e,c_(t.priority,function(){l_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Im=r,n.target.dispatchEvent(r),Im=null}else return e=qh(n),e!==null&&h1(e),t.blockedOn=n,!1;e.shift()}return!0}function Lv(t,e,n){sf(t)&&n.delete(e)}function rA(){Lm=!1,ma!==null&&sf(ma)&&(ma=null),ga!==null&&sf(ga)&&(ga=null),va!==null&&sf(va)&&(va=null),vh.forEach(Lv),yh.forEach(Lv)}function jc(t,e){t.blockedOn===e&&(t.blockedOn=null,Lm||(Lm=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,rA)))}function wh(t){function e(i){return jc(i,t)}if(0<Rd.length){jc(Rd[0],t);for(var n=1;n<Rd.length;n++){var r=Rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ma!==null&&jc(ma,t),ga!==null&&jc(ga,t),va!==null&&jc(va,t),vh.forEach(e),yh.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)h_(n),n.blockedOn===null&&na.shift()}var Pu=yo.ReactCurrentBatchConfig,Of=!0;function iA(t,e,n,r){var i=$t,s=Pu.transition;Pu.transition=null;try{$t=1,d1(t,e,n,r)}finally{$t=i,Pu.transition=s}}function sA(t,e,n,r){var i=$t,s=Pu.transition;Pu.transition=null;try{$t=4,d1(t,e,n,r)}finally{$t=i,Pu.transition=s}}function d1(t,e,n,r){if(Of){var i=Cm(t,e,n,r);if(i===null)R0(t,e,r,Mf,n),Pv(t,r);else if(nA(i,t,e,n,r))r.stopPropagation();else if(Pv(t,r),e&4&&-1<tA.indexOf(t)){for(;i!==null;){var s=qh(i);if(s!==null&&a_(s),s=Cm(t,e,n,r),s===null&&R0(t,e,r,Mf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else R0(t,e,r,null,n)}}var Mf=null;function Cm(t,e,n,r){if(Mf=null,t=l1(r),t=ll(t),t!==null)if(e=Ll(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mf=t,null}function d_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WS()){case u1:return 1;case r_:return 4;case Rf:case GS:return 16;case i_:return 536870912;default:return 16}default:return 16}}var ua=null,f1=null,of=null;function f_(){if(of)return of;var t,e=f1,n=e.length,r,i="value"in ua?ua.value:ua.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return of=i.slice(t,1<r?1-r:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dd(){return!0}function Cv(){return!1}function ci(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:Cv,this.isPropagationStopped=Cv,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),e}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p1=ci(uc),zh=hn({},uc,{view:0,detail:0}),oA=ci(zh),A0,x0,Vc,bp=hn({},zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vc&&(Vc&&t.type==="mousemove"?(A0=t.screenX-Vc.screenX,x0=t.screenY-Vc.screenY):x0=A0=0,Vc=t),A0)},movementY:function(t){return"movementY"in t?t.movementY:x0}}),Rv=ci(bp),aA=hn({},bp,{dataTransfer:0}),lA=ci(aA),uA=hn({},zh,{relatedTarget:0}),I0=ci(uA),cA=hn({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),hA=ci(cA),dA=hn({},uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fA=ci(dA),pA=hn({},uc,{data:0}),Dv=ci(pA),mA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vA[t])?!!e[t]:!1}function m1(){return yA}var wA=hn({},zh,{key:function(t){if(t.key){var e=mA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m1,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_A=ci(wA),bA=hn({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=ci(bA),EA=hn({},zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m1}),SA=ci(EA),AA=hn({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),xA=ci(AA),IA=hn({},bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TA=ci(IA),NA=[9,13,27,32],g1=lo&&"CompositionEvent"in window,th=null;lo&&"documentMode"in document&&(th=document.documentMode);var kA=lo&&"TextEvent"in window&&!th,p_=lo&&(!g1||th&&8<th&&11>=th),Mv=" ",Fv=!1;function m_(t,e){switch(t){case"keyup":return NA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pu=!1;function PA(t,e){switch(t){case"compositionend":return g_(e);case"keypress":return e.which!==32?null:(Fv=!0,Mv);case"textInput":return t=e.data,t===Mv&&Fv?null:t;default:return null}}function LA(t,e){if(pu)return t==="compositionend"||!g1&&m_(t,e)?(t=f_(),of=f1=ua=null,pu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p_&&e.locale!=="ko"?null:e.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CA[t.type]:e==="textarea"}function v_(t,e,n,r){Kw(r),e=Ff(e,"onChange"),0<e.length&&(n=new p1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nh=null,_h=null;function RA(t){N_(t,0)}function Ep(t){var e=vu(t);if(Bw(e))return t}function DA(t,e){if(t==="change")return e}var y_=!1;if(lo){var T0;if(lo){var N0="oninput"in document;if(!N0){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),N0=typeof Vv.oninput=="function"}T0=N0}else T0=!1;y_=T0&&(!document.documentMode||9<document.documentMode)}function Uv(){nh&&(nh.detachEvent("onpropertychange",w_),_h=nh=null)}function w_(t){if(t.propertyName==="value"&&Ep(_h)){var e=[];v_(e,_h,t,l1(t)),Jw(RA,e)}}function OA(t,e,n){t==="focusin"?(Uv(),nh=e,_h=n,nh.attachEvent("onpropertychange",w_)):t==="focusout"&&Uv()}function MA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ep(_h)}function FA(t,e){if(t==="click")return Ep(e)}function jA(t,e){if(t==="input"||t==="change")return Ep(e)}function VA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:VA;function bh(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function __(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?__(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b_(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pf(t.document)}return e}function v1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UA(t){var e=b_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&__(n.ownerDocument.documentElement,n)){if(r!==null&&v1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zv(n,s);var o=zv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BA=lo&&"documentMode"in document&&11>=document.documentMode,mu=null,Rm=null,rh=null,Dm=!1;function qv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dm||mu==null||mu!==Pf(r)||(r=mu,"selectionStart"in r&&v1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rh&&bh(rh,r)||(rh=r,r=Ff(Rm,"onSelect"),0<r.length&&(e=new p1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mu)))}function Od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gu={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},k0={},E_={};lo&&(E_=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function Sp(t){if(k0[t])return k0[t];if(!gu[t])return t;var e=gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E_)return k0[t]=e[n];return t}var S_=Sp("animationend"),A_=Sp("animationiteration"),x_=Sp("animationstart"),I_=Sp("transitionend"),T_=new Map,$v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(t,e){T_.set(t,e),Pl(e,[t])}for(var P0=0;P0<$v.length;P0++){var L0=$v[P0],zA=L0.toLowerCase(),qA=L0[0].toUpperCase()+L0.slice(1);Ra(zA,"on"+qA)}Ra(S_,"onAnimationEnd");Ra(A_,"onAnimationIteration");Ra(x_,"onAnimationStart");Ra("dblclick","onDoubleClick");Ra("focusin","onFocus");Ra("focusout","onBlur");Ra(I_,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function Hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zS(r,e,void 0,t),t.currentTarget=null}function N_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Hv(i,a,h),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Hv(i,a,h),s=l}}}if(Cf)throw t=km,Cf=!1,km=null,t}function rn(t,e){var n=e[Vm];n===void 0&&(n=e[Vm]=new Set);var r=t+"__bubble";n.has(r)||(k_(e,t,2,!1),n.add(r))}function C0(t,e,n){var r=0;e&&(r|=4),k_(n,t,r,e)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[Md]){t[Md]=!0,Mw.forEach(function(n){n!=="selectionchange"&&($A.has(n)||C0(n,!1,t),C0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Md]||(e[Md]=!0,C0("selectionchange",!1,e))}}function k_(t,e,n,r){switch(d_(e)){case 1:var i=iA;break;case 4:i=sA;break;default:i=d1}n=i.bind(null,e,n,t),i=void 0,!Nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function R0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ll(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jw(function(){var h=s,p=l1(n),v=[];e:{var w=T_.get(t);if(w!==void 0){var g=p1,L=t;switch(t){case"keypress":if(af(n)===0)break e;case"keydown":case"keyup":g=_A;break;case"focusin":L="focus",g=I0;break;case"focusout":L="blur",g=I0;break;case"beforeblur":case"afterblur":g=I0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=SA;break;case S_:case A_:case x_:g=hA;break;case I_:g=xA;break;case"scroll":g=oA;break;case"wheel":g=TA;break;case"copy":case"cut":case"paste":g=fA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ov}var T=(e&4)!==0,j=!T&&t==="scroll",_=T?w!==null?w+"Capture":null:w;T=[];for(var S=h,D;S!==null;){D=S;var W=D.stateNode;if(D.tag===5&&W!==null&&(D=W,_!==null&&(W=gh(S,_),W!=null&&T.push(Sh(S,W,D)))),j)break;S=S.return}0<T.length&&(w=new g(w,L,null,n,p),v.push({event:w,listeners:T}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",w&&n!==Im&&(L=n.relatedTarget||n.fromElement)&&(ll(L)||L[uo]))break e;if((g||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,g?(L=n.relatedTarget||n.toElement,g=h,L=L?ll(L):null,L!==null&&(j=Ll(L),L!==j||L.tag!==5&&L.tag!==6)&&(L=null)):(g=null,L=h),g!==L)){if(T=Rv,W="onMouseLeave",_="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(T=Ov,W="onPointerLeave",_="onPointerEnter",S="pointer"),j=g==null?w:vu(g),D=L==null?w:vu(L),w=new T(W,S+"leave",g,n,p),w.target=j,w.relatedTarget=D,W=null,ll(p)===h&&(T=new T(_,S+"enter",L,n,p),T.target=D,T.relatedTarget=j,W=T),j=W,g&&L)t:{for(T=g,_=L,S=0,D=T;D;D=iu(D))S++;for(D=0,W=_;W;W=iu(W))D++;for(;0<S-D;)T=iu(T),S--;for(;0<D-S;)_=iu(_),D--;for(;S--;){if(T===_||_!==null&&T===_.alternate)break t;T=iu(T),_=iu(_)}T=null}else T=null;g!==null&&Wv(v,w,g,T,!1),L!==null&&j!==null&&Wv(v,j,L,T,!0)}}e:{if(w=h?vu(h):window,g=w.nodeName&&w.nodeName.toLowerCase(),g==="select"||g==="input"&&w.type==="file")var J=DA;else if(jv(w))if(y_)J=jA;else{J=MA;var ie=OA}else(g=w.nodeName)&&g.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(J=FA);if(J&&(J=J(t,h))){v_(v,J,n,p);break e}ie&&ie(t,w,h),t==="focusout"&&(ie=w._wrapperState)&&ie.controlled&&w.type==="number"&&bm(w,"number",w.value)}switch(ie=h?vu(h):window,t){case"focusin":(jv(ie)||ie.contentEditable==="true")&&(mu=ie,Rm=h,rh=null);break;case"focusout":rh=Rm=mu=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,qv(v,n,p);break;case"selectionchange":if(BA)break;case"keydown":case"keyup":qv(v,n,p)}var C;if(g1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else pu?m_(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(p_&&n.locale!=="ko"&&(pu||A!=="onCompositionStart"?A==="onCompositionEnd"&&pu&&(C=f_()):(ua=p,f1="value"in ua?ua.value:ua.textContent,pu=!0)),ie=Ff(h,A),0<ie.length&&(A=new Dv(A,t,null,n,p),v.push({event:A,listeners:ie}),C?A.data=C:(C=g_(n),C!==null&&(A.data=C)))),(C=kA?PA(t,n):LA(t,n))&&(h=Ff(h,"onBeforeInput"),0<h.length&&(p=new Dv("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=C))}N_(v,e)})}function Sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gh(t,n),s!=null&&r.unshift(Sh(t,s,i)),s=gh(t,e),s!=null&&r.push(Sh(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=gh(n,s),l!=null&&o.unshift(Sh(n,l,a))):i||(l=gh(n,s),l!=null&&o.push(Sh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(HA,`
`).replace(WA,"")}function Fd(t,e,n){if(e=Gv(e),Gv(t)!==e&&n)throw Error(De(425))}function jf(){}var Om=null,Mm=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(YA)}:jm;function YA(t){setTimeout(function(){throw t})}function D0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wh(e)}function ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cc=Math.random().toString(36).slice(2),ws="__reactFiber$"+cc,Ah="__reactProps$"+cc,uo="__reactContainer$"+cc,Vm="__reactEvents$"+cc,QA="__reactListeners$"+cc,XA="__reactHandles$"+cc;function ll(t){var e=t[ws];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uo]||n[ws]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[ws])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function qh(t){return t=t[ws]||t[uo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Ap(t){return t[Ah]||null}var Um=[],yu=-1;function Da(t){return{current:t}}function on(t){0>yu||(t.current=Um[yu],Um[yu]=null,yu--)}function Zt(t,e){yu++,Um[yu]=t.current,t.current=e}var Ta={},br=Da(Ta),$r=Da(!1),_l=Ta;function $u(t,e){var n=t.type.contextTypes;if(!n)return Ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function Vf(){on($r),on(br)}function Qv(t,e,n){if(br.current!==Ta)throw Error(De(168));Zt(br,e),Zt($r,n)}function P_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,OS(t)||"Unknown",i));return hn({},n,r)}function Uf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ta,_l=br.current,Zt(br,t),Zt($r,$r.current),!0}function Xv(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=P_(t,e,_l),r.__reactInternalMemoizedMergedChildContext=t,on($r),on(br),Zt(br,t)):on($r),Zt($r,n)}var to=null,xp=!1,O0=!1;function L_(t){to===null?to=[t]:to.push(t)}function JA(t){xp=!0,L_(t)}function Oa(){if(!O0&&to!==null){O0=!0;var t=0,e=$t;try{var n=to;for($t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}to=null,xp=!1}catch(i){throw to!==null&&(to=to.slice(t+1)),n_(u1,Oa),i}finally{$t=e,O0=!1}}return null}var wu=[],_u=0,Bf=null,zf=0,Ei=[],Si=0,bl=null,no=1,ro="";function rl(t,e){wu[_u++]=zf,wu[_u++]=Bf,Bf=t,zf=e}function C_(t,e,n){Ei[Si++]=no,Ei[Si++]=ro,Ei[Si++]=bl,bl=t;var r=no;t=ro;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,no=1<<32-Yi(e)+i|n<<i|r,ro=s+t}else no=1<<s|n<<i|r,ro=t}function y1(t){t.return!==null&&(rl(t,1),C_(t,1,0))}function w1(t){for(;t===Bf;)Bf=wu[--_u],wu[_u]=null,zf=wu[--_u],wu[_u]=null;for(;t===bl;)bl=Ei[--Si],Ei[Si]=null,ro=Ei[--Si],Ei[Si]=null,no=Ei[--Si],Ei[Si]=null}var ai=null,ii=null,an=!1,Ki=null;function R_(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ai=t,ii=ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ai=t,ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bl!==null?{id:no,overflow:ro}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ai=t,ii=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(an){var e=ii;if(e){var n=e;if(!Jv(t,e)){if(Bm(t))throw Error(De(418));e=ya(n.nextSibling);var r=ai;e&&Jv(t,e)?R_(r,n):(t.flags=t.flags&-4097|2,an=!1,ai=t)}}else{if(Bm(t))throw Error(De(418));t.flags=t.flags&-4097|2,an=!1,ai=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ai=t}function jd(t){if(t!==ai)return!1;if(!an)return Zv(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=ii)){if(Bm(t))throw D_(),Error(De(418));for(;e;)R_(t,e),e=ya(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ii=ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ii=null}}else ii=ai?ya(t.stateNode.nextSibling):null;return!0}function D_(){for(var t=ii;t;)t=ya(t.nextSibling)}function Hu(){ii=ai=null,an=!1}function _1(t){Ki===null?Ki=[t]:Ki.push(t)}var ZA=yo.ReactCurrentBatchConfig;function Uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Vd(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ey(t){var e=t._init;return e(t._payload)}function O_(t){function e(_,S){if(t){var D=_.deletions;D===null?(_.deletions=[S],_.flags|=16):D.push(S)}}function n(_,S){if(!t)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=Ea(_,S),_.index=0,_.sibling=null,_}function s(_,S,D){return _.index=D,t?(D=_.alternate,D!==null?(D=D.index,D<S?(_.flags|=2,S):D):(_.flags|=2,S)):(_.flags|=1048576,S)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,S,D,W){return S===null||S.tag!==6?(S=z0(D,_.mode,W),S.return=_,S):(S=i(S,D),S.return=_,S)}function l(_,S,D,W){var J=D.type;return J===fu?p(_,S,D.props.children,W,D.key):S!==null&&(S.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ea&&ey(J)===S.type)?(W=i(S,D.props),W.ref=Uc(_,S,D),W.return=_,W):(W=pf(D.type,D.key,D.props,null,_.mode,W),W.ref=Uc(_,S,D),W.return=_,W)}function h(_,S,D,W){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=q0(D,_.mode,W),S.return=_,S):(S=i(S,D.children||[]),S.return=_,S)}function p(_,S,D,W,J){return S===null||S.tag!==7?(S=pl(D,_.mode,W,J),S.return=_,S):(S=i(S,D),S.return=_,S)}function v(_,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return S=z0(""+S,_.mode,D),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nd:return D=pf(S.type,S.key,S.props,null,_.mode,D),D.ref=Uc(_,null,S),D.return=_,D;case du:return S=q0(S,_.mode,D),S.return=_,S;case ea:var W=S._init;return v(_,W(S._payload),D)}if(Gc(S)||Oc(S))return S=pl(S,_.mode,D,null),S.return=_,S;Vd(_,S)}return null}function w(_,S,D,W){var J=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return J!==null?null:a(_,S,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Nd:return D.key===J?l(_,S,D,W):null;case du:return D.key===J?h(_,S,D,W):null;case ea:return J=D._init,w(_,S,J(D._payload),W)}if(Gc(D)||Oc(D))return J!==null?null:p(_,S,D,W,null);Vd(_,D)}return null}function g(_,S,D,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return _=_.get(D)||null,a(S,_,""+W,J);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Nd:return _=_.get(W.key===null?D:W.key)||null,l(S,_,W,J);case du:return _=_.get(W.key===null?D:W.key)||null,h(S,_,W,J);case ea:var ie=W._init;return g(_,S,D,ie(W._payload),J)}if(Gc(W)||Oc(W))return _=_.get(D)||null,p(S,_,W,J,null);Vd(S,W)}return null}function L(_,S,D,W){for(var J=null,ie=null,C=S,A=S=0,O=null;C!==null&&A<D.length;A++){C.index>A?(O=C,C=null):O=C.sibling;var B=w(_,C,D[A],W);if(B===null){C===null&&(C=O);break}t&&C&&B.alternate===null&&e(_,C),S=s(B,S,A),ie===null?J=B:ie.sibling=B,ie=B,C=O}if(A===D.length)return n(_,C),an&&rl(_,A),J;if(C===null){for(;A<D.length;A++)C=v(_,D[A],W),C!==null&&(S=s(C,S,A),ie===null?J=C:ie.sibling=C,ie=C);return an&&rl(_,A),J}for(C=r(_,C);A<D.length;A++)O=g(C,_,A,D[A],W),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?A:O.key),S=s(O,S,A),ie===null?J=O:ie.sibling=O,ie=O);return t&&C.forEach(function(x){return e(_,x)}),an&&rl(_,A),J}function T(_,S,D,W){var J=Oc(D);if(typeof J!="function")throw Error(De(150));if(D=J.call(D),D==null)throw Error(De(151));for(var ie=J=null,C=S,A=S=0,O=null,B=D.next();C!==null&&!B.done;A++,B=D.next()){C.index>A?(O=C,C=null):O=C.sibling;var x=w(_,C,B.value,W);if(x===null){C===null&&(C=O);break}t&&C&&x.alternate===null&&e(_,C),S=s(x,S,A),ie===null?J=x:ie.sibling=x,ie=x,C=O}if(B.done)return n(_,C),an&&rl(_,A),J;if(C===null){for(;!B.done;A++,B=D.next())B=v(_,B.value,W),B!==null&&(S=s(B,S,A),ie===null?J=B:ie.sibling=B,ie=B);return an&&rl(_,A),J}for(C=r(_,C);!B.done;A++,B=D.next())B=g(C,_,A,B.value,W),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?A:B.key),S=s(B,S,A),ie===null?J=B:ie.sibling=B,ie=B);return t&&C.forEach(function(I){return e(_,I)}),an&&rl(_,A),J}function j(_,S,D,W){if(typeof D=="object"&&D!==null&&D.type===fu&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Nd:e:{for(var J=D.key,ie=S;ie!==null;){if(ie.key===J){if(J=D.type,J===fu){if(ie.tag===7){n(_,ie.sibling),S=i(ie,D.props.children),S.return=_,_=S;break e}}else if(ie.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ea&&ey(J)===ie.type){n(_,ie.sibling),S=i(ie,D.props),S.ref=Uc(_,ie,D),S.return=_,_=S;break e}n(_,ie);break}else e(_,ie);ie=ie.sibling}D.type===fu?(S=pl(D.props.children,_.mode,W,D.key),S.return=_,_=S):(W=pf(D.type,D.key,D.props,null,_.mode,W),W.ref=Uc(_,S,D),W.return=_,_=W)}return o(_);case du:e:{for(ie=D.key;S!==null;){if(S.key===ie)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){n(_,S.sibling),S=i(S,D.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else e(_,S);S=S.sibling}S=q0(D,_.mode,W),S.return=_,_=S}return o(_);case ea:return ie=D._init,j(_,S,ie(D._payload),W)}if(Gc(D))return L(_,S,D,W);if(Oc(D))return T(_,S,D,W);Vd(_,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,D),S.return=_,_=S):(n(_,S),S=z0(D,_.mode,W),S.return=_,_=S),o(_)):n(_,S)}return j}var Wu=O_(!0),M_=O_(!1),qf=Da(null),$f=null,bu=null,b1=null;function E1(){b1=bu=$f=null}function S1(t){var e=qf.current;on(qf),t._currentValue=e}function qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lu(t,e){$f=t,b1=bu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qr=!0),t.firstContext=null)}function Ti(t){var e=t._currentValue;if(b1!==t)if(t={context:t,memoizedValue:e,next:null},bu===null){if($f===null)throw Error(De(308));bu=t,$f.dependencies={lanes:0,firstContext:t}}else bu=bu.next=t;return e}var ul=null;function A1(t){ul===null?ul=[t]:ul.push(t)}function F_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,A1(e)):(n.next=i.next,i.next=n),e.interleaved=n,co(t,r)}function co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ta=!1;function x1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ao(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,co(t,n)}return i=r.interleaved,i===null?(e.next=e,A1(r)):(e.next=i.next,i.next=e),r.interleaved=e,co(t,n)}function lf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,c1(t,n)}}function ty(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hf(t,e,n,r){var i=t.updateQueue;ta=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=h:a.next=h,p.lastBaseUpdate=l))}if(s!==null){var v=i.baseState;o=0,p=h=l=null,a=s;do{var w=a.lane,g=a.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var L=t,T=a;switch(w=e,g=n,T.tag){case 1:if(L=T.payload,typeof L=="function"){v=L.call(g,v,w);break e}v=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=T.payload,w=typeof L=="function"?L.call(g,v,w):L,w==null)break e;v=hn({},v,w);break e;case 2:ta=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[a]:w.push(a))}else g={eventTime:g,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(h=p=g,l=v):p=p.next=g,o|=w;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;w=a,a=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(p===null&&(l=v),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Sl|=o,t.lanes=o,t.memoizedState=v}}function ny(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var $h={},Ss=Da($h),xh=Da($h),Ih=Da($h);function cl(t){if(t===$h)throw Error(De(174));return t}function I1(t,e){switch(Zt(Ih,e),Zt(xh,t),Zt(Ss,$h),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sm(e,t)}on(Ss),Zt(Ss,e)}function Gu(){on(Ss),on(xh),on(Ih)}function V_(t){cl(Ih.current);var e=cl(Ss.current),n=Sm(e,t.type);e!==n&&(Zt(xh,t),Zt(Ss,n))}function T1(t){xh.current===t&&(on(Ss),on(xh))}var ln=Da(0);function Wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var M0=[];function N1(){for(var t=0;t<M0.length;t++)M0[t]._workInProgressVersionPrimary=null;M0.length=0}var uf=yo.ReactCurrentDispatcher,F0=yo.ReactCurrentBatchConfig,El=0,cn=null,Vn=null,$n=null,Gf=!1,ih=!1,Th=0,ex=0;function ur(){throw Error(De(321))}function k1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}function P1(t,e,n,r,i,s){if(El=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uf.current=t===null||t.memoizedState===null?ix:sx,t=n(r,i),ih){s=0;do{if(ih=!1,Th=0,25<=s)throw Error(De(301));s+=1,$n=Vn=null,e.updateQueue=null,uf.current=ox,t=n(r,i)}while(ih)}if(uf.current=Kf,e=Vn!==null&&Vn.next!==null,El=0,$n=Vn=cn=null,Gf=!1,e)throw Error(De(300));return t}function L1(){var t=Th!==0;return Th=0,t}function ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?cn.memoizedState=$n=t:$n=$n.next=t,$n}function Ni(){if(Vn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=$n===null?cn.memoizedState:$n.next;if(e!==null)$n=e,Vn=t;else{if(t===null)throw Error(De(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},$n===null?cn.memoizedState=$n=t:$n=$n.next=t}return $n}function Nh(t,e){return typeof e=="function"?e(t):e}function j0(t){var e=Ni(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=Vn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,h=s;do{var p=h.lane;if((El&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=v,o=r):l=l.next=v,cn.lanes|=p,Sl|=p}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=a,Xi(r,e.memoizedState)||(qr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,Sl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function V0(t){var e=Ni(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xi(s,e.memoizedState)||(qr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U_(){}function B_(t,e){var n=cn,r=Ni(),i=e(),s=!Xi(r.memoizedState,i);if(s&&(r.memoizedState=i,qr=!0),r=r.queue,C1($_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$n!==null&&$n.memoizedState.tag&1){if(n.flags|=2048,kh(9,q_.bind(null,n,r,i,e),void 0,null),Wn===null)throw Error(De(349));El&30||z_(n,e,i)}return i}function z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q_(t,e,n,r){e.value=n,e.getSnapshot=r,H_(e)&&W_(t)}function $_(t,e,n){return n(function(){H_(e)&&W_(t)})}function H_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xi(t,n)}catch{return!0}}function W_(t){var e=co(t,1);e!==null&&Qi(e,t,1,-1)}function ry(t){var e=ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:t},e.queue=t,t=t.dispatch=rx.bind(null,cn,t),[e.memoizedState,t]}function kh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G_(){return Ni().memoizedState}function cf(t,e,n,r){var i=ys();cn.flags|=t,i.memoizedState=kh(1|e,n,void 0,r===void 0?null:r)}function Ip(t,e,n,r){var i=Ni();r=r===void 0?null:r;var s=void 0;if(Vn!==null){var o=Vn.memoizedState;if(s=o.destroy,r!==null&&k1(r,o.deps)){i.memoizedState=kh(e,n,s,r);return}}cn.flags|=t,i.memoizedState=kh(1|e,n,s,r)}function iy(t,e){return cf(8390656,8,t,e)}function C1(t,e){return Ip(2048,8,t,e)}function K_(t,e){return Ip(4,2,t,e)}function Y_(t,e){return Ip(4,4,t,e)}function Q_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X_(t,e,n){return n=n!=null?n.concat([t]):null,Ip(4,4,Q_.bind(null,e,t),n)}function R1(){}function J_(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Z_(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function e4(t,e,n){return El&21?(Xi(n,e)||(n=s_(),cn.lanes|=n,Sl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qr=!0),t.memoizedState=n)}function tx(t,e){var n=$t;$t=n!==0&&4>n?n:4,t(!0);var r=F0.transition;F0.transition={};try{t(!1),e()}finally{$t=n,F0.transition=r}}function t4(){return Ni().memoizedState}function nx(t,e,n){var r=ba(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n4(t))r4(e,n);else if(n=F_(t,e,n,r),n!==null){var i=Pr();Qi(n,t,r,i),i4(n,e,r)}}function rx(t,e,n){var r=ba(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n4(t))r4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xi(a,o)){var l=e.interleaved;l===null?(i.next=i,A1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=F_(t,e,i,r),n!==null&&(i=Pr(),Qi(n,t,r,i),i4(n,e,r))}}function n4(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function r4(t,e){ih=Gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,c1(t,n)}}var Kf={readContext:Ti,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},ix={readContext:Ti,useCallback:function(t,e){return ys().memoizedState=[t,e===void 0?null:e],t},useContext:Ti,useEffect:iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cf(4194308,4,Q_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return cf(4,2,t,e)},useMemo:function(t,e){var n=ys();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ys();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nx.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=ys();return t={current:t},e.memoizedState=t},useState:ry,useDebugValue:R1,useDeferredValue:function(t){return ys().memoizedState=t},useTransition:function(){var t=ry(!1),e=t[0];return t=tx.bind(null,t[1]),ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=ys();if(an){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),Wn===null)throw Error(De(349));El&30||z_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iy($_.bind(null,r,s,t),[t]),r.flags|=2048,kh(9,q_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ys(),e=Wn.identifierPrefix;if(an){var n=ro,r=no;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Th++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ex++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sx={readContext:Ti,useCallback:J_,useContext:Ti,useEffect:C1,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Y_,useMemo:Z_,useReducer:j0,useRef:G_,useState:function(){return j0(Nh)},useDebugValue:R1,useDeferredValue:function(t){var e=Ni();return e4(e,Vn.memoizedState,t)},useTransition:function(){var t=j0(Nh)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:B_,useId:t4,unstable_isNewReconciler:!1},ox={readContext:Ti,useCallback:J_,useContext:Ti,useEffect:C1,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Y_,useMemo:Z_,useReducer:V0,useRef:G_,useState:function(){return V0(Nh)},useDebugValue:R1,useDeferredValue:function(t){var e=Ni();return Vn===null?e.memoizedState=t:e4(e,Vn.memoizedState,t)},useTransition:function(){var t=V0(Nh)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:B_,useId:t4,unstable_isNewReconciler:!1};function $i(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $m(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tp={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=ba(t),s=ao(r,i);s.payload=e,n!=null&&(s.callback=n),e=wa(t,s,i),e!==null&&(Qi(e,t,i,r),lf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=ba(t),s=ao(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wa(t,s,i),e!==null&&(Qi(e,t,i,r),lf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pr(),r=ba(t),i=ao(n,r);i.tag=2,e!=null&&(i.callback=e),e=wa(t,i,r),e!==null&&(Qi(e,t,r,n),lf(e,t,r))}};function sy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bh(n,r)||!bh(i,s):!0}function s4(t,e,n){var r=!1,i=Ta,s=e.contextType;return typeof s=="object"&&s!==null?s=Ti(s):(i=Hr(e)?_l:br.current,r=e.contextTypes,s=(r=r!=null)?$u(t,i):Ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function oy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tp.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},x1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ti(s):(s=Hr(e)?_l:br.current,i.context=$u(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($m(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tp.enqueueReplaceState(i,i.state,null),Hf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ku(t,e){try{var n="",r=e;do n+=DS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function U0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ax=typeof WeakMap=="function"?WeakMap:Map;function o4(t,e,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qf||(Qf=!0,ng=r),Wm(t,e)},n}function a4(t,e,n){n=ao(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wm(t,e),typeof r!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ay(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ax;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bx.bind(null,t,e,n),e.then(t,t))}function ly(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ao(-1,1),e.tag=2,wa(n,e,1))),n.lanes|=1),t)}var lx=yo.ReactCurrentOwner,qr=!1;function kr(t,e,n,r){e.child=t===null?M_(e,null,n,r):Wu(e,t.child,n,r)}function cy(t,e,n,r,i){n=n.render;var s=e.ref;return Lu(e,i),r=P1(t,e,n,r,s,i),n=L1(),t!==null&&!qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ho(t,e,i)):(an&&n&&y1(e),e.flags|=1,kr(t,e,r,i),e.child)}function hy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!B1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,l4(t,e,s,r,i)):(t=pf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(o,r)&&t.ref===e.ref)return ho(t,e,i)}return e.flags|=1,t=Ea(s,r),t.ref=e.ref,t.return=e,e.child=t}function l4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bh(s,r)&&t.ref===e.ref)if(qr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qr=!0);else return e.lanes=t.lanes,ho(t,e,i)}return Gm(t,e,n,r,i)}function u4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Su,ri),ri|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(Su,ri),ri|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Zt(Su,ri),ri|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Zt(Su,ri),ri|=r;return kr(t,e,i,n),e.child}function c4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,i){var s=Hr(n)?_l:br.current;return s=$u(e,s),Lu(e,i),n=P1(t,e,n,r,s,i),r=L1(),t!==null&&!qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ho(t,e,i)):(an&&r&&y1(e),e.flags|=1,kr(t,e,n,i),e.child)}function dy(t,e,n,r,i){if(Hr(n)){var s=!0;Uf(e)}else s=!1;if(Lu(e,i),e.stateNode===null)hf(t,e),s4(e,n,r),Hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ti(h):(h=Hr(n)?_l:br.current,h=$u(e,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==h)&&oy(e,o,r,h),ta=!1;var w=e.memoizedState;o.state=w,Hf(e,r,o,i),l=e.memoizedState,a!==r||w!==l||$r.current||ta?(typeof p=="function"&&($m(e,n,p,r),l=e.memoizedState),(a=ta||sy(e,n,a,r,w,l,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,j_(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:$i(e.type,a),o.props=h,v=e.pendingProps,w=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ti(l):(l=Hr(n)?_l:br.current,l=$u(e,l));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==v||w!==l)&&oy(e,o,r,l),ta=!1,w=e.memoizedState,o.state=w,Hf(e,r,o,i);var L=e.memoizedState;a!==v||w!==L||$r.current||ta?(typeof g=="function"&&($m(e,n,g,r),L=e.memoizedState),(h=ta||sy(e,n,h,r,w,L,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,L,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,L,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),o.props=r,o.state=L,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return Km(t,e,n,r,s,i)}function Km(t,e,n,r,i,s){c4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xv(e,n,!1),ho(t,e,s);r=e.stateNode,lx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wu(e,t.child,null,s),e.child=Wu(e,null,a,s)):kr(t,e,a,s),e.memoizedState=r.state,i&&Xv(e,n,!0),e.child}function h4(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),I1(t,e.containerInfo)}function fy(t,e,n,r,i){return Hu(),_1(i),e.flags|=256,kr(t,e,n,r),e.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Qm(t){return{baseLanes:t,cachePool:null,transitions:null}}function d4(t,e,n){var r=e.pendingProps,i=ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(ln,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pp(o,r,0,null),t=pl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qm(n),e.memoizedState=Ym,t):D1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ux(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ea(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ea(a,s):(s=pl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ym,r}return s=t.child,t=s.sibling,r=Ea(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D1(t,e){return e=Pp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ud(t,e,n,r){return r!==null&&_1(r),Wu(e,t.child,null,n),t=D1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ux(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=U0(Error(De(422))),Ud(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pp({mode:"visible",children:r.children},i,0,null),s=pl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wu(e,t.child,null,o),e.child.memoizedState=Qm(o),e.memoizedState=Ym,s);if(!(e.mode&1))return Ud(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(De(419)),r=U0(s,r,void 0),Ud(t,e,o,r)}if(a=(o&t.childLanes)!==0,qr||a){if(r=Wn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,co(t,i),Qi(r,t,i,-1))}return U1(),r=U0(Error(De(421))),Ud(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ex.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ii=ya(i.nextSibling),ai=e,an=!0,Ki=null,t!==null&&(Ei[Si++]=no,Ei[Si++]=ro,Ei[Si++]=bl,no=t.id,ro=t.overflow,bl=e),e=D1(e,r.children),e.flags|=4096,e)}function py(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qm(t.return,e,n)}function B0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function f4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,n,e);else if(t.tag===19)py(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),B0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}B0(e,!0,n,null,s);break;case"together":B0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ho(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cx(t,e,n){switch(e.tag){case 3:h4(e),Hu();break;case 5:V_(e);break;case 1:Hr(e.type)&&Uf(e);break;case 4:I1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(qf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?d4(t,e,n):(Zt(ln,ln.current&1),t=ho(t,e,n),t!==null?t.sibling:null);Zt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,u4(t,e,n)}return ho(t,e,n)}var p4,Xm,m4,g4;p4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};m4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cl(Ss.current);var s=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),s=[];break;case"select":i=hn({},i,{value:void 0}),r=hn({},r,{value:void 0}),s=[];break;case"textarea":i=Em(t,i),r=Em(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jf)}Am(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ph.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ph.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&rn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};g4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bc(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hx(t,e,n){var r=e.pendingProps;switch(w1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return Hr(e.type)&&Vf(),cr(e),null;case 3:return r=e.stateNode,Gu(),on($r),on(br),N1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ki!==null&&(sg(Ki),Ki=null))),Xm(t,e),cr(e),null;case 5:T1(e);var i=cl(Ih.current);if(n=e.type,t!==null&&e.stateNode!=null)m4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return cr(e),null}if(t=cl(Ss.current),jd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ws]=e,r[Ah]=s,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(i=0;i<Yc.length;i++)rn(Yc[i],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":Sv(r,s),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rn("invalid",r);break;case"textarea":xv(r,s),rn("invalid",r)}Am(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",""+a]):ph.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rn("scroll",r)}switch(n){case"input":kd(r),Av(r,s,!0);break;case"textarea":kd(r),Iv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ws]=e,t[Ah]=r,p4(t,e,!1,!1),e.stateNode=t;e:{switch(o=xm(n,r),n){case"dialog":rn("cancel",t),rn("close",t),i=r;break;case"iframe":case"object":case"embed":rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yc.length;i++)rn(Yc[i],t);i=r;break;case"source":rn("error",t),i=r;break;case"img":case"image":case"link":rn("error",t),rn("load",t),i=r;break;case"details":rn("toggle",t),i=r;break;case"input":Sv(t,r),i=wm(t,r),rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hn({},r,{value:void 0}),rn("invalid",t);break;case"textarea":xv(t,r),i=Em(t,r),rn("invalid",t);break;default:i=r}Am(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Gw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mh(t,l):typeof l=="number"&&mh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ph.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rn("scroll",t):l!=null&&i1(t,s,l,o))}switch(n){case"input":kd(t),Av(t,r,!1);break;case"textarea":kd(t),Iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ia(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Tu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Tu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)g4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=cl(Ih.current),cl(Ss.current),jd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ws]=e,(s=r.nodeValue!==n)&&(t=ai,t!==null))switch(t.tag){case 3:Fd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ws]=e,e.stateNode=r}return cr(e),null;case 13:if(on(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&ii!==null&&e.mode&1&&!(e.flags&128))D_(),Hu(),e.flags|=98560,s=!1;else if(s=jd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[ws]=e}else Hu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else Ki!==null&&(sg(Ki),Ki=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Un===0&&(Un=3):U1())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return Gu(),Xm(t,e),t===null&&Eh(e.stateNode.containerInfo),cr(e),null;case 10:return S1(e.type._context),cr(e),null;case 17:return Hr(e.type)&&Vf(),cr(e),null;case 19:if(on(ln),s=e.memoizedState,s===null)return cr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bc(s,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wf(t),o!==null){for(e.flags|=128,Bc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(ln,ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&An()>Yu&&(e.flags|=128,r=!0,Bc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return cr(e),null}else 2*An()-s.renderingStartTime>Yu&&n!==1073741824&&(e.flags|=128,r=!0,Bc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=An(),e.sibling=null,n=ln.current,Zt(ln,r?n&1|2:n&1),e):(cr(e),null);case 22:case 23:return V1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ri&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function dx(t,e){switch(w1(e),e.tag){case 1:return Hr(e.type)&&Vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gu(),on($r),on(br),N1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T1(e),null;case 13:if(on(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Hu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(ln),null;case 4:return Gu(),null;case 10:return S1(e.type._context),null;case 22:case 23:return V1(),null;case 24:return null;default:return null}}var Bd=!1,vr=!1,fx=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){vn(t,e,r)}}var my=!1;function px(t,e){if(Om=Of,t=b_(),v1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,p=0,v=t,w=null;t:for(;;){for(var g;v!==n||i!==0&&v.nodeType!==3||(a=o+i),v!==s||r!==0&&v.nodeType!==3||(l=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(g=v.firstChild)!==null;)w=v,v=g;for(;;){if(v===t)break t;if(w===n&&++h===i&&(a=o),w===s&&++p===r&&(l=o),(g=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},Of=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var L=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var T=L.memoizedProps,j=L.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:$i(e.type,T),j);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(W){vn(e,e.return,W)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return L=my,my=!1,L}function sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jm(e,n,s)}i=i.next}while(i!==r)}}function Np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v4(t){var e=t.alternate;e!==null&&(t.alternate=null,v4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ws],delete e[Ah],delete e[Vm],delete e[QA],delete e[XA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y4(t){return t.tag===5||t.tag===3||t.tag===4}function gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jf));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Zn=null,Wi=!1;function Qo(t,e,n){for(n=n.child;n!==null;)w4(t,e,n),n=n.sibling}function w4(t,e,n){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(_p,n)}catch{}switch(n.tag){case 5:vr||Eu(n,e);case 6:var r=Zn,i=Wi;Zn=null,Qo(t,e,n),Zn=r,Wi=i,Zn!==null&&(Wi?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&(Wi?(t=Zn,n=n.stateNode,t.nodeType===8?D0(t.parentNode,n):t.nodeType===1&&D0(t,n),wh(t)):D0(Zn,n.stateNode));break;case 4:r=Zn,i=Wi,Zn=n.stateNode.containerInfo,Wi=!0,Qo(t,e,n),Zn=r,Wi=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jm(n,e,o),i=i.next}while(i!==r)}Qo(t,e,n);break;case 1:if(!vr&&(Eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vn(n,e,a)}Qo(t,e,n);break;case 21:Qo(t,e,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,Qo(t,e,n),vr=r):Qo(t,e,n);break;default:Qo(t,e,n)}}function vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fx),e.forEach(function(r){var i=Sx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zn=a.stateNode,Wi=!1;break e;case 3:Zn=a.stateNode.containerInfo,Wi=!0;break e;case 4:Zn=a.stateNode.containerInfo,Wi=!0;break e}a=a.return}if(Zn===null)throw Error(De(160));w4(s,o,i),Zn=null,Wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){vn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_4(e,t),e=e.sibling}function _4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ui(e,t),gs(t),r&4){try{sh(3,t,t.return),Np(3,t)}catch(T){vn(t,t.return,T)}try{sh(5,t,t.return)}catch(T){vn(t,t.return,T)}}break;case 1:Ui(e,t),gs(t),r&512&&n!==null&&Eu(n,n.return);break;case 5:if(Ui(e,t),gs(t),r&512&&n!==null&&Eu(n,n.return),t.flags&32){var i=t.stateNode;try{mh(i,"")}catch(T){vn(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zw(i,s),xm(a,o);var h=xm(a,s);for(o=0;o<l.length;o+=2){var p=l[o],v=l[o+1];p==="style"?Gw(i,v):p==="dangerouslySetInnerHTML"?Hw(i,v):p==="children"?mh(i,v):i1(i,p,v,h)}switch(a){case"input":_m(i,s);break;case"textarea":qw(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Tu(i,!!s.multiple,g,!1):w!==!!s.multiple&&(s.defaultValue!=null?Tu(i,!!s.multiple,s.defaultValue,!0):Tu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ah]=s}catch(T){vn(t,t.return,T)}}break;case 6:if(Ui(e,t),gs(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){vn(t,t.return,T)}}break;case 3:if(Ui(e,t),gs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wh(e.containerInfo)}catch(T){vn(t,t.return,T)}break;case 4:Ui(e,t),gs(t);break;case 13:Ui(e,t),gs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F1=An())),r&4&&vy(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(vr=(h=vr)||p,Ui(e,t),vr=h):Ui(e,t),gs(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Ke=t,p=t.child;p!==null;){for(v=Ke=p;Ke!==null;){switch(w=Ke,g=w.child,w.tag){case 0:case 11:case 14:case 15:sh(4,w,w.return);break;case 1:Eu(w,w.return);var L=w.stateNode;if(typeof L.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(T){vn(r,n,T)}}break;case 5:Eu(w,w.return);break;case 22:if(w.memoizedState!==null){wy(v);continue}}g!==null?(g.return=w,Ke=g):wy(v)}p=p.sibling}e:for(p=null,v=t;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=v.stateNode,l=v.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ww("display",o))}catch(T){vn(t,t.return,T)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(T){vn(t,t.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ui(e,t),gs(t),r&4&&vy(t);break;case 21:break;default:Ui(e,t),gs(t)}}function gs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y4(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var s=gy(t);tg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gy(t);eg(t,a,o);break;default:throw Error(De(161))}}catch(l){vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mx(t,e,n){Ke=t,b4(t)}function b4(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=Bd;var h=vr;if(Bd=o,(vr=l)&&!h)for(Ke=i;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?_y(i):l!==null?(l.return=o,Ke=l):_y(i);for(;s!==null;)Ke=s,b4(s),s=s.sibling;Ke=i,Bd=a,vr=h}yy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):yy(t)}}function yy(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||Np(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ny(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ny(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&wh(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}vr||e.flags&512&&Zm(e)}catch(w){vn(e,e.return,w)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function wy(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function _y(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Np(4,e)}catch(l){vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vn(e,i,l)}}var s=e.return;try{Zm(e)}catch(l){vn(e,s,l)}break;case 5:var o=e.return;try{Zm(e)}catch(l){vn(e,o,l)}}}catch(l){vn(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var gx=Math.ceil,Yf=yo.ReactCurrentDispatcher,O1=yo.ReactCurrentOwner,xi=yo.ReactCurrentBatchConfig,Rt=0,Wn=null,On=null,tr=0,ri=0,Su=Da(0),Un=0,Ph=null,Sl=0,kp=0,M1=0,oh=null,zr=null,F1=0,Yu=1/0,eo=null,Qf=!1,ng=null,_a=null,zd=!1,ca=null,Xf=0,ah=0,rg=null,df=-1,ff=0;function Pr(){return Rt&6?An():df!==-1?df:df=An()}function ba(t){return t.mode&1?Rt&2&&tr!==0?tr&-tr:ZA.transition!==null?(ff===0&&(ff=s_()),ff):(t=$t,t!==0||(t=window.event,t=t===void 0?16:d_(t.type)),t):1}function Qi(t,e,n,r){if(50<ah)throw ah=0,rg=null,Error(De(185));Bh(t,n,r),(!(Rt&2)||t!==Wn)&&(t===Wn&&(!(Rt&2)&&(kp|=n),Un===4&&ra(t,tr)),Wr(t,r),n===1&&Rt===0&&!(e.mode&1)&&(Yu=An()+500,xp&&Oa()))}function Wr(t,e){var n=t.callbackNode;ZS(t,e);var r=Df(t,t===Wn?tr:0);if(r===0)n!==null&&kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kv(n),e===1)t.tag===0?JA(by.bind(null,t)):L_(by.bind(null,t)),KA(function(){!(Rt&6)&&Oa()}),n=null;else{switch(o_(r)){case 1:n=u1;break;case 4:n=r_;break;case 16:n=Rf;break;case 536870912:n=i_;break;default:n=Rf}n=k4(n,E4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E4(t,e){if(df=-1,ff=0,Rt&6)throw Error(De(327));var n=t.callbackNode;if(Cu()&&t.callbackNode!==n)return null;var r=Df(t,t===Wn?tr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jf(t,r);else{e=r;var i=Rt;Rt|=2;var s=A4();(Wn!==t||tr!==e)&&(eo=null,Yu=An()+500,fl(t,e));do try{wx();break}catch(a){S4(t,a)}while(!0);E1(),Yf.current=s,Rt=i,On!==null?e=0:(Wn=null,tr=0,e=Un)}if(e!==0){if(e===2&&(i=Pm(t),i!==0&&(r=i,e=ig(t,i))),e===1)throw n=Ph,fl(t,0),ra(t,r),Wr(t,An()),n;if(e===6)ra(t,r);else{if(i=t.current.alternate,!(r&30)&&!vx(i)&&(e=Jf(t,r),e===2&&(s=Pm(t),s!==0&&(r=s,e=ig(t,s))),e===1))throw n=Ph,fl(t,0),ra(t,r),Wr(t,An()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:il(t,zr,eo);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=F1+500-An(),10<e)){if(Df(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jm(il.bind(null,t,zr,eo),e);break}il(t,zr,eo);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=An()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gx(r/1960))-r,10<r){t.timeoutHandle=jm(il.bind(null,t,zr,eo),r);break}il(t,zr,eo);break;case 5:il(t,zr,eo);break;default:throw Error(De(329))}}}return Wr(t,An()),t.callbackNode===n?E4.bind(null,t):null}function ig(t,e){var n=oh;return t.current.memoizedState.isDehydrated&&(fl(t,e).flags|=256),t=Jf(t,e),t!==2&&(e=zr,zr=n,e!==null&&sg(e)),t}function sg(t){zr===null?zr=t:zr.push.apply(zr,t)}function vx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~M1,e&=~kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function by(t){if(Rt&6)throw Error(De(327));Cu();var e=Df(t,0);if(!(e&1))return Wr(t,An()),null;var n=Jf(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=ig(t,r))}if(n===1)throw n=Ph,fl(t,0),ra(t,e),Wr(t,An()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,il(t,zr,eo),Wr(t,An()),null}function j1(t,e){var n=Rt;Rt|=1;try{return t(e)}finally{Rt=n,Rt===0&&(Yu=An()+500,xp&&Oa())}}function Al(t){ca!==null&&ca.tag===0&&!(Rt&6)&&Cu();var e=Rt;Rt|=1;var n=xi.transition,r=$t;try{if(xi.transition=null,$t=1,t)return t()}finally{$t=r,xi.transition=n,Rt=e,!(Rt&6)&&Oa()}}function V1(){ri=Su.current,on(Su)}function fl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GA(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(w1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vf();break;case 3:Gu(),on($r),on(br),N1();break;case 5:T1(r);break;case 4:Gu();break;case 13:on(ln);break;case 19:on(ln);break;case 10:S1(r.type._context);break;case 22:case 23:V1()}n=n.return}if(Wn=t,On=t=Ea(t.current,null),tr=ri=e,Un=0,Ph=null,M1=kp=Sl=0,zr=oh=null,ul!==null){for(e=0;e<ul.length;e++)if(n=ul[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ul=null}return t}function S4(t,e){do{var n=On;try{if(E1(),uf.current=Kf,Gf){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gf=!1}if(El=0,$n=Vn=cn=null,ih=!1,Th=0,O1.current=null,n===null||n.return===null){Un=1,Ph=e,On=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=tr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=a,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=ly(o);if(g!==null){g.flags&=-257,uy(g,o,a,s,e),g.mode&1&&ay(s,h,e),e=g,l=h;var L=e.updateQueue;if(L===null){var T=new Set;T.add(l),e.updateQueue=T}else L.add(l);break e}else{if(!(e&1)){ay(s,h,e),U1();break e}l=Error(De(426))}}else if(an&&a.mode&1){var j=ly(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),uy(j,o,a,s,e),_1(Ku(l,a));break e}}s=l=Ku(l,a),Un!==4&&(Un=2),oh===null?oh=[s]:oh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=o4(s,l,e);ty(s,_);break e;case 1:a=l;var S=s.type,D=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(_a===null||!_a.has(D)))){s.flags|=65536,e&=-e,s.lanes|=e;var W=a4(s,a,e);ty(s,W);break e}}s=s.return}while(s!==null)}I4(n)}catch(J){e=J,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function A4(){var t=Yf.current;return Yf.current=Kf,t===null?Kf:t}function U1(){(Un===0||Un===3||Un===2)&&(Un=4),Wn===null||!(Sl&268435455)&&!(kp&268435455)||ra(Wn,tr)}function Jf(t,e){var n=Rt;Rt|=2;var r=A4();(Wn!==t||tr!==e)&&(eo=null,fl(t,e));do try{yx();break}catch(i){S4(t,i)}while(!0);if(E1(),Rt=n,Yf.current=r,On!==null)throw Error(De(261));return Wn=null,tr=0,Un}function yx(){for(;On!==null;)x4(On)}function wx(){for(;On!==null&&!$S();)x4(On)}function x4(t){var e=N4(t.alternate,t,ri);t.memoizedProps=t.pendingProps,e===null?I4(t):On=e,O1.current=null}function I4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dx(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,On=null;return}}else if(n=hx(n,e,ri),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Un===0&&(Un=5)}function il(t,e,n){var r=$t,i=xi.transition;try{xi.transition=null,$t=1,_x(t,e,n,r)}finally{xi.transition=i,$t=r}return null}function _x(t,e,n,r){do Cu();while(ca!==null);if(Rt&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eA(t,s),t===Wn&&(On=Wn=null,tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zd||(zd=!0,k4(Rf,function(){return Cu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xi.transition,xi.transition=null;var o=$t;$t=1;var a=Rt;Rt|=4,O1.current=null,px(t,n),_4(n,t),UA(Mm),Of=!!Om,Mm=Om=null,t.current=n,mx(n),HS(),Rt=a,$t=o,xi.transition=s}else t.current=n;if(zd&&(zd=!1,ca=t,Xf=i),s=t.pendingLanes,s===0&&(_a=null),KS(n.stateNode),Wr(t,An()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qf)throw Qf=!1,t=ng,ng=null,t;return Xf&1&&t.tag!==0&&Cu(),s=t.pendingLanes,s&1?t===rg?ah++:(ah=0,rg=t):ah=0,Oa(),null}function Cu(){if(ca!==null){var t=o_(Xf),e=xi.transition,n=$t;try{if(xi.transition=null,$t=16>t?16:t,ca===null)var r=!1;else{if(t=ca,ca=null,Xf=0,Rt&6)throw Error(De(331));var i=Rt;for(Rt|=4,Ke=t.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(Ke=h;Ke!==null;){var p=Ke;switch(p.tag){case 0:case 11:case 15:sh(8,p,s)}var v=p.child;if(v!==null)v.return=p,Ke=v;else for(;Ke!==null;){p=Ke;var w=p.sibling,g=p.return;if(v4(p),p===h){Ke=null;break}if(w!==null){w.return=g,Ke=w;break}Ke=g}}}var L=s.alternate;if(L!==null){var T=L.child;if(T!==null){L.child=null;do{var j=T.sibling;T.sibling=null,T=j}while(T!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ke=_;break e}Ke=s.return}}var S=t.current;for(Ke=S;Ke!==null;){o=Ke;var D=o.child;if(o.subtreeFlags&2064&&D!==null)D.return=o,Ke=D;else e:for(o=S;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Np(9,a)}}catch(J){vn(a,a.return,J)}if(a===o){Ke=null;break e}var W=a.sibling;if(W!==null){W.return=a.return,Ke=W;break e}Ke=a.return}}if(Rt=i,Oa(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(_p,t)}catch{}r=!0}return r}finally{$t=n,xi.transition=e}}return!1}function Ey(t,e,n){e=Ku(n,e),e=o4(t,e,1),t=wa(t,e,1),e=Pr(),t!==null&&(Bh(t,1,e),Wr(t,e))}function vn(t,e,n){if(t.tag===3)Ey(t,t,n);else for(;e!==null;){if(e.tag===3){Ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_a===null||!_a.has(r))){t=Ku(n,t),t=a4(e,t,1),e=wa(e,t,1),t=Pr(),e!==null&&(Bh(e,1,t),Wr(e,t));break}}e=e.return}}function bx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pr(),t.pingedLanes|=t.suspendedLanes&n,Wn===t&&(tr&n)===n&&(Un===4||Un===3&&(tr&130023424)===tr&&500>An()-F1?fl(t,0):M1|=n),Wr(t,e)}function T4(t,e){e===0&&(t.mode&1?(e=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):e=1);var n=Pr();t=co(t,e),t!==null&&(Bh(t,e,n),Wr(t,n))}function Ex(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T4(t,n)}function Sx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),T4(t,n)}var N4;N4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$r.current)qr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qr=!1,cx(t,e,n);qr=!!(t.flags&131072)}else qr=!1,an&&e.flags&1048576&&C_(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hf(t,e),t=e.pendingProps;var i=$u(e,br.current);Lu(e,n),i=P1(null,e,r,t,i,n);var s=L1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(r)?(s=!0,Uf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x1(e),i.updater=Tp,e.stateNode=i,i._reactInternals=e,Hm(e,r,t,n),e=Km(null,e,r,!0,s,n)):(e.tag=0,an&&s&&y1(e),kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xx(r),t=$i(r,t),i){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=dy(null,e,r,t,n);break e;case 11:e=cy(null,e,r,t,n);break e;case 14:e=hy(null,e,r,$i(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Gm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),dy(t,e,r,i,n);case 3:e:{if(h4(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,j_(t,e),Hf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ku(Error(De(423)),e),e=fy(t,e,r,n,i);break e}else if(r!==i){i=Ku(Error(De(424)),e),e=fy(t,e,r,n,i);break e}else for(ii=ya(e.stateNode.containerInfo.firstChild),ai=e,an=!0,Ki=null,n=M_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hu(),r===i){e=ho(t,e,n);break e}kr(t,e,r,n)}e=e.child}return e;case 5:return V_(e),t===null&&zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fm(r,i)?o=null:s!==null&&Fm(r,s)&&(e.flags|=32),c4(t,e),kr(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return d4(t,e,n);case 4:return I1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wu(e,null,r,n):kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),cy(t,e,r,i,n);case 7:return kr(t,e,e.pendingProps,n),e.child;case 8:return kr(t,e,e.pendingProps.children,n),e.child;case 12:return kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(qf,r._currentValue),r._currentValue=o,s!==null)if(Xi(s.value,o)){if(s.children===i.children&&!$r.current){e=ho(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ao(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lu(e,n),i=Ti(i),r=r(i),e.flags|=1,kr(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),hy(t,e,r,i,n);case 15:return l4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),hf(t,e),e.tag=1,Hr(r)?(t=!0,Uf(e)):t=!1,Lu(e,n),s4(e,r,i),Hm(e,r,i,n),Km(null,e,r,!0,t,n);case 19:return f4(t,e,n);case 22:return u4(t,e,n)}throw Error(De(156,e.tag))};function k4(t,e){return n_(t,e)}function Ax(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new Ax(t,e,n,r)}function B1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xx(t){if(typeof t=="function")return B1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o1)return 11;if(t===a1)return 14}return 2}function Ea(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")B1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fu:return pl(n.children,i,s,e);case s1:o=8,i|=8;break;case mm:return t=Ai(12,n,e,i|2),t.elementType=mm,t.lanes=s,t;case gm:return t=Ai(13,n,e,i),t.elementType=gm,t.lanes=s,t;case vm:return t=Ai(19,n,e,i),t.elementType=vm,t.lanes=s,t;case Vw:return Pp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fw:o=10;break e;case jw:o=9;break e;case o1:o=11;break e;case a1:o=14;break e;case ea:o=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=Ai(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function pl(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Pp(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=Vw,t.lanes=n,t.stateNode={isHidden:!1},t}function z0(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function q0(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ix(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S0(0),this.expirationTimes=S0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z1(t,e,n,r,i,s,o,a,l){return t=new Ix(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x1(s),t}function Tx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function P4(t){if(!t)return Ta;t=t._reactInternals;e:{if(Ll(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(Hr(n))return P_(t,n,e)}return e}function L4(t,e,n,r,i,s,o,a,l){return t=z1(n,r,!0,t,i,s,o,a,l),t.context=P4(null),n=t.current,r=Pr(),i=ba(n),s=ao(r,i),s.callback=e??null,wa(n,s,i),t.current.lanes=i,Bh(t,i,r),Wr(t,r),t}function Lp(t,e,n,r){var i=e.current,s=Pr(),o=ba(i);return n=P4(n),e.context===null?e.context=n:e.pendingContext=n,e=ao(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wa(i,e,o),t!==null&&(Qi(t,i,o,s),lf(t,i,o)),o}function Zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q1(t,e){Sy(t,e),(t=t.alternate)&&Sy(t,e)}function Nx(){return null}var C4=typeof reportError=="function"?reportError:function(t){console.error(t)};function $1(t){this._internalRoot=t}Cp.prototype.render=$1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));Lp(t,e,null,null)};Cp.prototype.unmount=$1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Al(function(){Lp(null,t,null,null)}),e[uo]=null}};function Cp(t){this._internalRoot=t}Cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=u_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&h_(t)}};function H1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ay(){}function kx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Zf(o);s.call(h)}}var o=L4(e,r,t,0,null,!1,!1,"",Ay);return t._reactRootContainer=o,t[uo]=o.current,Eh(t.nodeType===8?t.parentNode:t),Al(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Zf(l);a.call(h)}}var l=z1(t,0,!1,null,null,!1,!1,"",Ay);return t._reactRootContainer=l,t[uo]=l.current,Eh(t.nodeType===8?t.parentNode:t),Al(function(){Lp(e,l,n,r)}),l}function Dp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zf(o);a.call(l)}}Lp(e,o,t,i)}else o=kx(n,e,t,i,r);return Zf(o)}a_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kc(e.pendingLanes);n!==0&&(c1(e,n|1),Wr(e,An()),!(Rt&6)&&(Yu=An()+500,Oa()))}break;case 13:Al(function(){var r=co(t,1);if(r!==null){var i=Pr();Qi(r,t,1,i)}}),q1(t,1)}};h1=function(t){if(t.tag===13){var e=co(t,134217728);if(e!==null){var n=Pr();Qi(e,t,134217728,n)}q1(t,134217728)}};l_=function(t){if(t.tag===13){var e=ba(t),n=co(t,e);if(n!==null){var r=Pr();Qi(n,t,e,r)}q1(t,e)}};u_=function(){return $t};c_=function(t,e){var n=$t;try{return $t=t,e()}finally{$t=n}};Tm=function(t,e,n){switch(e){case"input":if(_m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ap(r);if(!i)throw Error(De(90));Bw(r),_m(r,i)}}}break;case"textarea":qw(t,n);break;case"select":e=n.value,e!=null&&Tu(t,!!n.multiple,e,!1)}};Qw=j1;Xw=Al;var Px={usingClientEntryPoint:!1,Events:[qh,vu,Ap,Kw,Yw,j1]},zc={findFiberByHostInstance:ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e_(t),t===null?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||Nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{_p=qd.inject(Lx),Es=qd}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H1(e))throw Error(De(200));return Tx(t,e,null,n)};ui.createRoot=function(t,e){if(!H1(t))throw Error(De(299));var n=!1,r="",i=C4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z1(t,1,!1,null,null,n,!1,r,i),t[uo]=e.current,Eh(t.nodeType===8?t.parentNode:t),new $1(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=e_(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Al(t)};ui.hydrate=function(t,e,n){if(!Rp(e))throw Error(De(200));return Dp(null,t,e,!0,n)};ui.hydrateRoot=function(t,e,n){if(!H1(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=C4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=L4(e,null,t,1,n??null,i,!1,s,o),t[uo]=e.current,Eh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cp(e)};ui.render=function(t,e,n){if(!Rp(e))throw Error(De(200));return Dp(null,t,e,!1,n)};ui.unmountComponentAtNode=function(t){if(!Rp(t))throw Error(De(40));return t._reactRootContainer?(Al(function(){Dp(null,null,t,!1,function(){t._reactRootContainer=null,t[uo]=null})}),!0):!1};ui.unstable_batchedUpdates=j1;ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rp(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return Dp(t,e,n,!1,r)};ui.version="18.3.1-next-f1338f8080-20240426";function R4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R4)}catch(t){console.error(t)}}R4(),Rw.exports=ui;var Cx=Rw.exports,xy=Cx;fm.createRoot=xy.createRoot,fm.hydrateRoot=xy.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}var hl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hl||(hl={}));const Iy="popstate";function Rx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return og("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:O4(i)}return Ox(e,n,null,t)}function D4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dx(){return Math.random().toString(36).substr(2,8)}function Ty(t,e){return{usr:t.state,key:t.key,idx:e}}function og(t,e,n,r){return n===void 0&&(n=null),ep({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?M4(e):e,{state:n,key:e&&e.key||r||Dx()})}function O4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function M4(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ox(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hl.Pop,l=null,h=p();h==null&&(h=0,o.replaceState(ep({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function v(){a=hl.Pop;let j=p(),_=j==null?null:j-h;h=j,l&&l({action:a,location:T.location,delta:_})}function w(j,_){a=hl.Push;let S=og(T.location,j,_);h=p()+1;let D=Ty(S,h),W=T.createHref(S);try{o.pushState(D,"",W)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(W)}s&&l&&l({action:a,location:T.location,delta:1})}function g(j,_){a=hl.Replace;let S=og(T.location,j,_);h=p();let D=Ty(S,h),W=T.createHref(S);o.replaceState(D,"",W),s&&l&&l({action:a,location:T.location,delta:0})}function L(j){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof j=="string"?j:O4(j);return S=S.replace(/ $/,"%20"),D4(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let T={get action(){return a},get location(){return t(i,o)},listen(j){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Iy,v),l=j,()=>{i.removeEventListener(Iy,v),l=null}},createHref(j){return e(i,j)},createURL:L,encodeLocation(j){let _=L(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:g,go(j){return o.go(j)}};return T}var Ny;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ny||(Ny={}));function Mx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const F4=["post","put","patch","delete"];new Set(F4);const Fx=["get",...F4];new Set(Fx);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}const jx=Ve.createContext(null),j4=Ve.createContext(null);function Vx(){return Ve.useContext(j4)!=null}const ky={};function Ux(t,e){ky[e]||(ky[e]=!0,console.warn(e))}const Py=(t,e,n)=>Ux(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Bx(t,e){t!=null&&t.v7_startTransition||Py("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Py("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function zx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hl.Pop,navigator:s,static:o=!1,future:a}=t;Vx()&&D4(!1);let l=e.replace(/^\/*/,"/"),h=Ve.useMemo(()=>({basename:l,navigator:s,static:o,future:ag({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=M4(r));let{pathname:p="/",search:v="",hash:w="",state:g=null,key:L="default"}=r,T=Ve.useMemo(()=>{let j=Mx(p,l);return j==null?null:{location:{pathname:j,search:v,hash:w,state:g,key:L},navigationType:i}},[l,p,v,w,g,L,i]);return T==null?null:Ve.createElement(jx.Provider,{value:h},Ve.createElement(j4.Provider,{children:n,value:T}))}new Promise(()=>{});/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qx="6";try{window.__reactRouterVersion=qx}catch{}const $x="startTransition",Ly=bS[$x];function Hx(t){let{basename:e,children:n,future:r,window:i}=t,s=Ve.useRef();s.current==null&&(s.current=Rx({window:i,v5Compat:!0}));let o=s.current,[a,l]=Ve.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=Ve.useCallback(v=>{h&&Ly?Ly(()=>l(v)):l(v)},[l,h]);return Ve.useLayoutEffect(()=>o.listen(p),[o,p]),Ve.useEffect(()=>Bx(r),[r]),Ve.createElement(zx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Cy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cy||(Cy={}));var Ry;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));let Wx={data:""},Gx=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Wx,Kx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Yx=/\/\*[^]*?\*\/|  +/g,Dy=/\n+/g,ia=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ia(o,s):s+"{"+ia(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ia(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ia.p?ia.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ys={},V4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+V4(t[n]);return e}return t},Qx=(t,e,n,r,i)=>{let s=V4(t),o=Ys[s]||(Ys[s]=(l=>{let h=0,p=11;for(;h<l.length;)p=101*p+l.charCodeAt(h++)>>>0;return"go"+p})(s));if(!Ys[o]){let l=s!==t?t:(h=>{let p,v,w=[{}];for(;p=Kx.exec(h.replace(Yx,""));)p[4]?w.shift():p[3]?(v=p[3].replace(Dy," ").trim(),w.unshift(w[0][v]=w[0][v]||{})):w[0][p[1]]=p[2].replace(Dy," ").trim();return w[0]})(t);Ys[o]=ia(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Ys.g?Ys.g:null;return n&&(Ys.g=Ys[o]),((l,h,p,v)=>{v?h.data=h.data.replace(v,l):h.data.indexOf(l)===-1&&(h.data=p?l+h.data:h.data+l)})(Ys[o],e,r,a),o},Xx=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ia(a,""):a===!1?"":a}return r+i+(o??"")},"");function Op(t){let e=this||{},n=t.call?t(e.p):t;return Qx(n.unshift?n.raw?Xx(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Gx(e.target),e.g,e.o,e.k)}let U4,lg,ug;Op.bind({g:1});let fo=Op.bind({k:1});function Jx(t,e,n,r){ia.p=e,U4=t,lg=n,ug=r}function Ma(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:lg&&lg()},a),n.o=/ *go\d+/.test(l),a.className=Op.apply(n,r)+(l?" "+l:"");let h=t;return t[0]&&(h=a.as||t,delete a.as),ug&&h[0]&&ug(a),U4(h,a)}return i}}var Zx=t=>typeof t=="function",tp=(t,e)=>Zx(t)?t(e):t,eI=(()=>{let t=0;return()=>(++t).toString()})(),B4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),tI=20,mf=new Map,nI=1e3,Oy=t=>{if(mf.has(t))return;let e=setTimeout(()=>{mf.delete(t),Cl({type:4,toastId:t})},nI);mf.set(t,e)},rI=t=>{let e=mf.get(t);e&&clearTimeout(e)},cg=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,tI)};case 1:return e.toast.id&&rI(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?cg(t,{type:1,toast:n}):cg(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Oy(r):t.toasts.forEach(s=>{Oy(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},gf=[],vf={toasts:[],pausedAt:void 0},Cl=t=>{vf=cg(vf,t),gf.forEach(e=>{e(vf)})},iI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sI=(t={})=>{let[e,n]=Ve.useState(vf);Ve.useEffect(()=>(gf.push(n),()=>{let i=gf.indexOf(n);i>-1&&gf.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||iI[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},oI=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||eI()}),Hh=t=>(e,n)=>{let r=oI(e,t,n);return Cl({type:2,toast:r}),r.id},si=(t,e)=>Hh("blank")(t,e);si.error=Hh("error");si.success=Hh("success");si.loading=Hh("loading");si.custom=Hh("custom");si.dismiss=t=>{Cl({type:3,toastId:t})};si.remove=t=>Cl({type:4,toastId:t});si.promise=(t,e,n)=>{let r=si.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(si.success(tp(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{si.error(tp(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var aI=(t,e)=>{Cl({type:1,toast:{id:t,height:e}})},lI=()=>{Cl({type:5,time:Date.now()})},uI=t=>{let{toasts:e,pausedAt:n}=sI(t);Ve.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&si.dismiss(a.id);return}return setTimeout(()=>si.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=Ve.useCallback(()=>{n&&Cl({type:6,time:Date.now()})},[n]),i=Ve.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:h}=o||{},p=e.filter(g=>(g.position||h)===(s.position||h)&&g.height),v=p.findIndex(g=>g.id===s.id),w=p.filter((g,L)=>L<v&&g.visible).length;return p.filter(g=>g.visible).slice(...a?[w+1]:[0,w]).reduce((g,L)=>g+(L.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:aI,startPause:lI,endPause:r,calculateOffset:i}}},cI=fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,hI=fo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dI=fo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fI=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${hI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pI=fo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mI=Ma("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${pI} 1s linear infinite;
`,gI=fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vI=fo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yI=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wI=Ma("div")`
  position: absolute;
`,_I=Ma("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bI=fo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EI=Ma("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SI=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Ve.createElement(EI,null,e):e:n==="blank"?null:Ve.createElement(_I,null,Ve.createElement(mI,{...r}),n!=="loading"&&Ve.createElement(wI,null,n==="error"?Ve.createElement(fI,{...r}):Ve.createElement(yI,{...r})))},AI=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xI=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,II="0%{opacity:0;} 100%{opacity:1;}",TI="0%{opacity:1;} 100%{opacity:0;}",NI=Ma("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kI=Ma("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,PI=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=B4()?[II,TI]:[AI(n),xI(n)];return{animation:e?`${fo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},LI=Ve.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?PI(t.position||e||"top-center",t.visible):{opacity:0},s=Ve.createElement(SI,{toast:t}),o=Ve.createElement(kI,{...t.ariaProps},tp(t.message,t));return Ve.createElement(NI,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):Ve.createElement(Ve.Fragment,null,s,o))});Jx(Ve.createElement);var CI=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=Ve.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Ve.createElement("div",{ref:s,className:e,style:n},i)},RI=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:B4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},DI=Op`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$d=16,OI=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=uI(n);return Ve.createElement("div",{style:{position:"fixed",zIndex:9999,top:$d,left:$d,right:$d,bottom:$d,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(h=>{let p=h.position||e,v=l.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),w=RI(p,v);return Ve.createElement(CI,{id:h.id,key:h.id,onHeightUpdate:l.updateHeight,className:h.visible?DI:"",style:w},h.type==="custom"?tp(h.message,h):i?i(h):Ve.createElement(LI,{toast:h,position:p}))}))},bi=si;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rr=(t,e)=>{const n=Ve.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...h},p)=>Ve.createElement("svg",{ref:p,...MI,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${FI(t)}`,a].join(" "),...h},[...e.map(([v,w])=>Ve.createElement(v,w)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Rr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Rr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Rr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Rr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Rr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Rr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Rr("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Rr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Rr("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Rr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Rr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Rr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Rr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Rr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Rr("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,p=s>>2,v=(s&3)<<4|a>>4;let w=(a&15)<<2|h>>6,g=h&63;l||(g=64,o||(w=64)),r.push(n[p],n[v],n[w],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||v==null)throw new KI;const w=s<<2|a>>4;if(r.push(w),h!==64){const g=a<<4&240|h>>2;if(r.push(g),v!==64){const L=h<<6&192|v;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(t){const e=q4(t);return $4.encodeByteArray(e,!0)},np=function(t){return YI(t).replace(/\./g,"")},H4=function(t){try{return $4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>QI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process>"u"||typeof My>"u")return;const t=My.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H4(t[1]);return e&&JSON.parse(e)},Mp=()=>{try{return XI()||JI()||ZI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W4=t=>{var e,n;return(n=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eT=t=>{const e=W4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G4=()=>{var t;return(t=Mp())===null||t===void 0?void 0:t.config},K4=t=>{var e;return(e=Mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[np(JSON.stringify(n)),np(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function iT(){var t;const e=(t=Mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lT(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uT(){return!iT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function hT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="FirebaseError";class wo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dT,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wo(i,a,r)}}function fT(t,e){return t.replace(pT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pT=/\{\$([^}]+)}/g;function mT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fy(s)&&Fy(o)){if(!rp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gT(t,e){const n=new vT(t,e);return n.subscribe.bind(n)}class vT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$0),i.error===void 0&&(i.error=$0),i.complete===void 0&&(i.complete=$0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){return t&&t._delegate?t._delegate:t}class xl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bT(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(t){return t===sl?void 0:t}function bT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const ST={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},AT=xt.INFO,xT={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},IT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K1{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=IT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ST[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const TT=(t,e)=>e.some(n=>t instanceof n);let jy,Vy;function NT(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kT(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y4=new WeakMap,dg=new WeakMap,Q4=new WeakMap,H0=new WeakMap,Y1=new WeakMap;function PT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Y4.set(n,t)}).catch(()=>{}),Y1.set(e,t),e}function LT(t){if(dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dg.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CT(t){fg=t(fg)}function RT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(W0(this),e,...n);return Q4.set(r,e.sort?e.sort():[e]),Sa(r)}:kT().includes(t)?function(...e){return t.apply(W0(this),e),Sa(Y4.get(this))}:function(...e){return Sa(t.apply(W0(this),e))}}function DT(t){return typeof t=="function"?RT(t):(t instanceof IDBTransaction&&LT(t),TT(t,NT())?new Proxy(t,fg):t)}function Sa(t){if(t instanceof IDBRequest)return PT(t);if(H0.has(t))return H0.get(t);const e=DT(t);return e!==t&&(H0.set(t,e),Y1.set(e,t)),e}const W0=t=>Y1.get(t);function OT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Sa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sa(o.result),l.oldVersion,l.newVersion,Sa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const MT=["get","getKey","getAll","getAllKeys","count"],FT=["put","add","delete","clear"],G0=new Map;function Uy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(G0.get(e))return G0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MT.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return G0.set(e,s),s}CT(t=>({...t,get:(e,n,r)=>Uy(e,n)||t.get(e,n,r),has:(e,n)=>!!Uy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pg="@firebase/app",By="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new K1("@firebase/app"),UT="@firebase/app-compat",BT="@firebase/analytics-compat",zT="@firebase/analytics",qT="@firebase/app-check-compat",$T="@firebase/app-check",HT="@firebase/auth",WT="@firebase/auth-compat",GT="@firebase/database",KT="@firebase/data-connect",YT="@firebase/database-compat",QT="@firebase/functions",XT="@firebase/functions-compat",JT="@firebase/installations",ZT="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",rN="@firebase/performance-compat",iN="@firebase/remote-config",sN="@firebase/remote-config-compat",oN="@firebase/storage",aN="@firebase/storage-compat",lN="@firebase/firestore",uN="@firebase/vertexai-preview",cN="@firebase/firestore-compat",hN="firebase",dN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",fN={[pg]:"fire-core",[UT]:"fire-core-compat",[zT]:"fire-analytics",[BT]:"fire-analytics-compat",[$T]:"fire-app-check",[qT]:"fire-app-check-compat",[HT]:"fire-auth",[WT]:"fire-auth-compat",[GT]:"fire-rtdb",[KT]:"fire-data-connect",[YT]:"fire-rtdb-compat",[QT]:"fire-fn",[XT]:"fire-fn-compat",[JT]:"fire-iid",[ZT]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[rN]:"fire-perf-compat",[iN]:"fire-rc",[sN]:"fire-rc-compat",[oN]:"fire-gcs",[aN]:"fire-gcs-compat",[lN]:"fire-fst",[cN]:"fire-fst-compat",[uN]:"fire-vertex","fire-js":"fire-js",[hN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,pN=new Map,gg=new Map;function zy(t,e){try{t.container.addComponent(e)}catch(n){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qu(t){const e=t.name;if(gg.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(const n of ip.values())zy(n,t);for(const n of pN.values())zy(n,t);return!0}function Q1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ha(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Wh("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=dN;function X4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=G4()),!n)throw Aa.create("no-options");const s=ip.get(i);if(s){if(rp(n,s.options)&&rp(r,s.config))return s;throw Aa.create("duplicate-app",{appName:i})}const o=new ET(i);for(const l of gg.values())o.addComponent(l);const a=new gN(n,r,o);return ip.set(i,a),a}function J4(t=mg){const e=ip.get(t);if(!e&&t===mg&&G4())return X4();if(!e)throw Aa.create("no-app",{appName:t});return e}function xa(t,e,n){var r;let i=(r=fN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(a.join(" "));return}Qu(new xl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",yN=1,Ch="firebase-heartbeat-store";let K0=null;function Z4(){return K0||(K0=OT(vN,yN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw Aa.create("idb-open",{originalErrorMessage:t.message})})),K0}async function wN(t){try{const n=(await Z4()).transaction(Ch),r=await n.objectStore(Ch).get(eb(t));return await n.done,r}catch(e){if(e instanceof wo)po.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(n.message)}}}async function qy(t,e){try{const r=(await Z4()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,eb(t)),await r.done}catch(n){if(n instanceof wo)po.warn(n.message);else{const r=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});po.warn(r.message)}}}function eb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1024,bN=30*24*60*60*1e3;class EN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$y();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=bN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$y(),{heartbeatsToSend:r,unsentEntries:i}=SN(this._heartbeatsCache.heartbeats),s=np(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return po.warn(n),""}}}function $y(){return new Date().toISOString().substring(0,10)}function SN(t,e=_N){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?hT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hy(t){return np(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){Qu(new xl("platform-logger",e=>new jT(e),"PRIVATE")),Qu(new xl("heartbeat",e=>new EN(e),"PRIVATE")),xa(pg,By,t),xa(pg,By,"esm2017"),xa("fire-js","")}xN("");var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ml,tb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function O(){}O.prototype=A.prototype,C.D=A.prototype,C.prototype=new O,C.prototype.constructor=C,C.C=function(B,x,I){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return A.prototype[x].apply(B,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,A,O){O||(O=0);var B=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)B[x]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(x=0;16>x;++x)B[x]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=C.g[0],O=C.g[1],x=C.g[2];var I=C.g[3],N=A+(I^O&(x^I))+B[0]+3614090360&4294967295;A=O+(N<<7&4294967295|N>>>25),N=I+(x^A&(O^x))+B[1]+3905402710&4294967295,I=A+(N<<12&4294967295|N>>>20),N=x+(O^I&(A^O))+B[2]+606105819&4294967295,x=I+(N<<17&4294967295|N>>>15),N=O+(A^x&(I^A))+B[3]+3250441966&4294967295,O=x+(N<<22&4294967295|N>>>10),N=A+(I^O&(x^I))+B[4]+4118548399&4294967295,A=O+(N<<7&4294967295|N>>>25),N=I+(x^A&(O^x))+B[5]+1200080426&4294967295,I=A+(N<<12&4294967295|N>>>20),N=x+(O^I&(A^O))+B[6]+2821735955&4294967295,x=I+(N<<17&4294967295|N>>>15),N=O+(A^x&(I^A))+B[7]+4249261313&4294967295,O=x+(N<<22&4294967295|N>>>10),N=A+(I^O&(x^I))+B[8]+1770035416&4294967295,A=O+(N<<7&4294967295|N>>>25),N=I+(x^A&(O^x))+B[9]+2336552879&4294967295,I=A+(N<<12&4294967295|N>>>20),N=x+(O^I&(A^O))+B[10]+4294925233&4294967295,x=I+(N<<17&4294967295|N>>>15),N=O+(A^x&(I^A))+B[11]+2304563134&4294967295,O=x+(N<<22&4294967295|N>>>10),N=A+(I^O&(x^I))+B[12]+1804603682&4294967295,A=O+(N<<7&4294967295|N>>>25),N=I+(x^A&(O^x))+B[13]+4254626195&4294967295,I=A+(N<<12&4294967295|N>>>20),N=x+(O^I&(A^O))+B[14]+2792965006&4294967295,x=I+(N<<17&4294967295|N>>>15),N=O+(A^x&(I^A))+B[15]+1236535329&4294967295,O=x+(N<<22&4294967295|N>>>10),N=A+(x^I&(O^x))+B[1]+4129170786&4294967295,A=O+(N<<5&4294967295|N>>>27),N=I+(O^x&(A^O))+B[6]+3225465664&4294967295,I=A+(N<<9&4294967295|N>>>23),N=x+(A^O&(I^A))+B[11]+643717713&4294967295,x=I+(N<<14&4294967295|N>>>18),N=O+(I^A&(x^I))+B[0]+3921069994&4294967295,O=x+(N<<20&4294967295|N>>>12),N=A+(x^I&(O^x))+B[5]+3593408605&4294967295,A=O+(N<<5&4294967295|N>>>27),N=I+(O^x&(A^O))+B[10]+38016083&4294967295,I=A+(N<<9&4294967295|N>>>23),N=x+(A^O&(I^A))+B[15]+3634488961&4294967295,x=I+(N<<14&4294967295|N>>>18),N=O+(I^A&(x^I))+B[4]+3889429448&4294967295,O=x+(N<<20&4294967295|N>>>12),N=A+(x^I&(O^x))+B[9]+568446438&4294967295,A=O+(N<<5&4294967295|N>>>27),N=I+(O^x&(A^O))+B[14]+3275163606&4294967295,I=A+(N<<9&4294967295|N>>>23),N=x+(A^O&(I^A))+B[3]+4107603335&4294967295,x=I+(N<<14&4294967295|N>>>18),N=O+(I^A&(x^I))+B[8]+1163531501&4294967295,O=x+(N<<20&4294967295|N>>>12),N=A+(x^I&(O^x))+B[13]+2850285829&4294967295,A=O+(N<<5&4294967295|N>>>27),N=I+(O^x&(A^O))+B[2]+4243563512&4294967295,I=A+(N<<9&4294967295|N>>>23),N=x+(A^O&(I^A))+B[7]+1735328473&4294967295,x=I+(N<<14&4294967295|N>>>18),N=O+(I^A&(x^I))+B[12]+2368359562&4294967295,O=x+(N<<20&4294967295|N>>>12),N=A+(O^x^I)+B[5]+4294588738&4294967295,A=O+(N<<4&4294967295|N>>>28),N=I+(A^O^x)+B[8]+2272392833&4294967295,I=A+(N<<11&4294967295|N>>>21),N=x+(I^A^O)+B[11]+1839030562&4294967295,x=I+(N<<16&4294967295|N>>>16),N=O+(x^I^A)+B[14]+4259657740&4294967295,O=x+(N<<23&4294967295|N>>>9),N=A+(O^x^I)+B[1]+2763975236&4294967295,A=O+(N<<4&4294967295|N>>>28),N=I+(A^O^x)+B[4]+1272893353&4294967295,I=A+(N<<11&4294967295|N>>>21),N=x+(I^A^O)+B[7]+4139469664&4294967295,x=I+(N<<16&4294967295|N>>>16),N=O+(x^I^A)+B[10]+3200236656&4294967295,O=x+(N<<23&4294967295|N>>>9),N=A+(O^x^I)+B[13]+681279174&4294967295,A=O+(N<<4&4294967295|N>>>28),N=I+(A^O^x)+B[0]+3936430074&4294967295,I=A+(N<<11&4294967295|N>>>21),N=x+(I^A^O)+B[3]+3572445317&4294967295,x=I+(N<<16&4294967295|N>>>16),N=O+(x^I^A)+B[6]+76029189&4294967295,O=x+(N<<23&4294967295|N>>>9),N=A+(O^x^I)+B[9]+3654602809&4294967295,A=O+(N<<4&4294967295|N>>>28),N=I+(A^O^x)+B[12]+3873151461&4294967295,I=A+(N<<11&4294967295|N>>>21),N=x+(I^A^O)+B[15]+530742520&4294967295,x=I+(N<<16&4294967295|N>>>16),N=O+(x^I^A)+B[2]+3299628645&4294967295,O=x+(N<<23&4294967295|N>>>9),N=A+(x^(O|~I))+B[0]+4096336452&4294967295,A=O+(N<<6&4294967295|N>>>26),N=I+(O^(A|~x))+B[7]+1126891415&4294967295,I=A+(N<<10&4294967295|N>>>22),N=x+(A^(I|~O))+B[14]+2878612391&4294967295,x=I+(N<<15&4294967295|N>>>17),N=O+(I^(x|~A))+B[5]+4237533241&4294967295,O=x+(N<<21&4294967295|N>>>11),N=A+(x^(O|~I))+B[12]+1700485571&4294967295,A=O+(N<<6&4294967295|N>>>26),N=I+(O^(A|~x))+B[3]+2399980690&4294967295,I=A+(N<<10&4294967295|N>>>22),N=x+(A^(I|~O))+B[10]+4293915773&4294967295,x=I+(N<<15&4294967295|N>>>17),N=O+(I^(x|~A))+B[1]+2240044497&4294967295,O=x+(N<<21&4294967295|N>>>11),N=A+(x^(O|~I))+B[8]+1873313359&4294967295,A=O+(N<<6&4294967295|N>>>26),N=I+(O^(A|~x))+B[15]+4264355552&4294967295,I=A+(N<<10&4294967295|N>>>22),N=x+(A^(I|~O))+B[6]+2734768916&4294967295,x=I+(N<<15&4294967295|N>>>17),N=O+(I^(x|~A))+B[13]+1309151649&4294967295,O=x+(N<<21&4294967295|N>>>11),N=A+(x^(O|~I))+B[4]+4149444226&4294967295,A=O+(N<<6&4294967295|N>>>26),N=I+(O^(A|~x))+B[11]+3174756917&4294967295,I=A+(N<<10&4294967295|N>>>22),N=x+(A^(I|~O))+B[2]+718787259&4294967295,x=I+(N<<15&4294967295|N>>>17),N=O+(I^(x|~A))+B[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var O=A-this.blockSize,B=this.B,x=this.h,I=0;I<A;){if(x==0)for(;I<=O;)i(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<A;)if(B[x++]=C.charCodeAt(I++),x==this.blockSize){i(this,B),x=0;break}}else for(;I<A;)if(B[x++]=C[I++],x==this.blockSize){i(this,B),x=0;break}}this.h=x,this.o+=A},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var O=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=O&255,O/=256;for(this.u(C),C=Array(16),A=O=0;4>A;++A)for(var B=0;32>B;B+=8)C[O++]=this.g[A]>>>B&255;return C};function s(C,A){var O=a;return Object.prototype.hasOwnProperty.call(O,C)?O[C]:O[C]=A(C)}function o(C,A){this.h=A;for(var O=[],B=!0,x=C.length-1;0<=x;x--){var I=C[x]|0;B&&I==A||(O[x]=I,B=!1)}this.g=O}var a={};function l(C){return-128<=C&&128>C?s(C,function(A){return new o([A|0],0>A?-1:0)}):new o([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return v;if(0>C)return j(h(-C));for(var A=[],O=1,B=0;C>=O;B++)A[B]=C/O|0,O*=4294967296;return new o(A,0)}function p(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return j(p(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(A,8)),B=v,x=0;x<C.length;x+=8){var I=Math.min(8,C.length-x),N=parseInt(C.substring(x,x+I),A);8>I?(I=h(Math.pow(A,I)),B=B.j(I).add(h(N))):(B=B.j(O),B=B.add(h(N)))}return B}var v=l(0),w=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-j(this).m();for(var C=0,A=1,O=0;O<this.g.length;O++){var B=this.i(O);C+=(0<=B?B:4294967296+B)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(T(this))return"-"+j(this).toString(C);for(var A=h(Math.pow(C,6)),O=this,B="";;){var x=W(O,A).g;O=_(O,x.j(A));var I=((0<O.g.length?O.g[0]:O.h)>>>0).toString(C);if(O=x,L(O))return I+B;for(;6>I.length;)I="0"+I;B=I+B}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=_(this,C),T(C)?-1:L(C)?0:1};function j(C){for(var A=C.g.length,O=[],B=0;B<A;B++)O[B]=~C.g[B];return new o(O,~C.h).add(w)}t.abs=function(){return T(this)?j(this):this},t.add=function(C){for(var A=Math.max(this.g.length,C.g.length),O=[],B=0,x=0;x<=A;x++){var I=B+(this.i(x)&65535)+(C.i(x)&65535),N=(I>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);B=N>>>16,I&=65535,N&=65535,O[x]=N<<16|I}return new o(O,O[O.length-1]&-2147483648?-1:0)};function _(C,A){return C.add(j(A))}t.j=function(C){if(L(this)||L(C))return v;if(T(this))return T(C)?j(this).j(j(C)):j(j(this).j(C));if(T(C))return j(this.j(j(C)));if(0>this.l(g)&&0>C.l(g))return h(this.m()*C.m());for(var A=this.g.length+C.g.length,O=[],B=0;B<2*A;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(var x=0;x<C.g.length;x++){var I=this.i(B)>>>16,N=this.i(B)&65535,Q=C.i(x)>>>16,ye=C.i(x)&65535;O[2*B+2*x]+=N*ye,S(O,2*B+2*x),O[2*B+2*x+1]+=I*ye,S(O,2*B+2*x+1),O[2*B+2*x+1]+=N*Q,S(O,2*B+2*x+1),O[2*B+2*x+2]+=I*Q,S(O,2*B+2*x+2)}for(B=0;B<A;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=A;B<2*A;B++)O[B]=0;return new o(O,0)};function S(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function D(C,A){this.g=C,this.h=A}function W(C,A){if(L(A))throw Error("division by zero");if(L(C))return new D(v,v);if(T(C))return A=W(j(C),A),new D(j(A.g),j(A.h));if(T(A))return A=W(C,j(A)),new D(j(A.g),A.h);if(30<C.g.length){if(T(C)||T(A))throw Error("slowDivide_ only works with positive integers.");for(var O=w,B=A;0>=B.l(C);)O=J(O),B=J(B);var x=ie(O,1),I=ie(B,1);for(B=ie(B,2),O=ie(O,2);!L(B);){var N=I.add(B);0>=N.l(C)&&(x=x.add(O),I=N),B=ie(B,1),O=ie(O,1)}return A=_(C,x.j(A)),new D(x,A)}for(x=v;0<=C.l(A);){for(O=Math.max(1,Math.floor(C.m()/A.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),I=h(O),N=I.j(A);T(N)||0<N.l(C);)O-=B,I=h(O),N=I.j(A);L(I)&&(I=w),x=x.add(I),C=_(C,N)}return new D(x,C)}t.A=function(C){return W(this,C).h},t.and=function(C){for(var A=Math.max(this.g.length,C.g.length),O=[],B=0;B<A;B++)O[B]=this.i(B)&C.i(B);return new o(O,this.h&C.h)},t.or=function(C){for(var A=Math.max(this.g.length,C.g.length),O=[],B=0;B<A;B++)O[B]=this.i(B)|C.i(B);return new o(O,this.h|C.h)},t.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),O=[],B=0;B<A;B++)O[B]=this.i(B)^C.i(B);return new o(O,this.h^C.h)};function J(C){for(var A=C.g.length+1,O=[],B=0;B<A;B++)O[B]=C.i(B)<<1|C.i(B-1)>>>31;return new o(O,C.h)}function ie(C,A){var O=A>>5;A%=32;for(var B=C.g.length-O,x=[],I=0;I<B;I++)x[I]=0<A?C.i(I+O)>>>A|C.i(I+O+1)<<32-A:C.i(I+O);return new o(x,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,ml=o}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,Qc,rb,yf,vg,ib,sb,ob;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var E=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var ae=c[V];if(!(ae in E))break e;E=E[ae]}c=c[c.length-1],V=E[c],y=y(V),y!=V&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function s(c,y){c instanceof String&&(c+="");var E=0,V=!1,ae={next:function(){if(!V&&E<c.length){var ge=E++;return{value:y(ge,c[ge]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(c){return c||function(){return s(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function v(c,y,E){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,V),c.apply(y,ae)}}return function(){return c.apply(y,arguments)}}function w(c,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,w.apply(null,arguments)}function g(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function L(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(V,ae,ge){for(var Pe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Pe[pt-2]=arguments[pt];return y.prototype[ae].apply(V,Pe)}}function T(c){const y=c.length;if(0<y){const E=Array(y);for(let V=0;V<y;V++)E[V]=c[V];return E}return[]}function j(c,y){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(l(V)){const ae=c.length||0,ge=V.length||0;c.length=ae+ge;for(let Pe=0;Pe<ge;Pe++)c[ae+Pe]=V[Pe]}else c.push(V)}}class _{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function S(c){return/^[\s\xa0]*$/.test(c)}function D(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var J=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function ie(c,y,E){for(const V in c)y.call(E,c[V],V,c)}function C(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function A(c){const y={};for(const E in c)y[E]=c[E];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(c,y){let E,V;for(let ae=1;ae<arguments.length;ae++){V=arguments[ae];for(E in V)c[E]=V[E];for(let ge=0;ge<O.length;ge++)E=O[ge],Object.prototype.hasOwnProperty.call(V,E)&&(c[E]=V[E])}}function x(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function I(c){a.setTimeout(()=>{throw c},0)}function N(){var c=ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,E){const V=ye.get();V.set(y,E),this.h?this.h.next=V:this.g=V,this.h=V}}var ye=new _(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let we,X=!1,ce=new Q,de=()=>{const c=a.Promise.resolve(void 0);we=()=>{c.then(Le)}};var Le=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(E){I(E)}var y=ye;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}X=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,y),a.removeEventListener("test",E,y)}catch{}return c}();function K(c,y){if($.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{W(y.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&K.aa.h.call(this)}}L(K,$);var ee={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(c,y,E,V,ae){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!V,this.ha=ae,this.key=++he,this.da=this.fa=!1}function Te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,y,E,V,ae){var ge=c.toString();c=this.g[ge],c||(c=this.g[ge]=[],this.h++);var Pe=Fe(c,y,V,ae);return-1<Pe?(y=c[Pe],E||(y.fa=!1)):(y=new fe(y,this.src,ge,!!V,ae),y.fa=E,c.push(y)),y};function Me(c,y){var E=y.type;if(E in c.g){var V=c.g[E],ae=Array.prototype.indexOf.call(V,y,void 0),ge;(ge=0<=ae)&&Array.prototype.splice.call(V,ae,1),ge&&(Te(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Fe(c,y,E,V){for(var ae=0;ae<c.length;++ae){var ge=c[ae];if(!ge.da&&ge.listener==y&&ge.capture==!!E&&ge.ha==V)return ae}return-1}var et="closure_lm_"+(1e6*Math.random()|0),Ee={};function Y(c,y,E,V,ae){if(Array.isArray(y)){for(var ge=0;ge<y.length;ge++)Y(c,y[ge],E,V,ae);return null}return E=ft(E),c&&c[oe]?c.K(y,E,h(V)?!!V.capture:!!V,ae):dt(c,y,E,!1,V,ae)}function dt(c,y,E,V,ae,ge){if(!y)throw Error("Invalid event type");var Pe=h(ae)?!!ae.capture:!!ae,pt=Ze(c);if(pt||(c[et]=pt=new Ie(c)),E=pt.add(y,E,V,Pe,ge),E.proxy)return E;if(V=Qe(),E.proxy=V,V.src=c,V.listener=E,c.addEventListener)q||(ae=Pe),ae===void 0&&(ae=!1),c.addEventListener(y.toString(),V,ae);else if(c.attachEvent)c.attachEvent($e(y.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qe(){function c(E){return y.call(c.src,c.listener,E)}const y=ze;return c}function Re(c,y,E,V,ae){if(Array.isArray(y))for(var ge=0;ge<y.length;ge++)Re(c,y[ge],E,V,ae);else V=h(V)?!!V.capture:!!V,E=ft(E),c&&c[oe]?(c=c.i,y=String(y).toString(),y in c.g&&(ge=c.g[y],E=Fe(ge,E,V,ae),-1<E&&(Te(ge[E]),Array.prototype.splice.call(ge,E,1),ge.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ze(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Fe(y,E,V,ae)),(E=-1<c?y[c]:null)&&je(E))}function je(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[oe])Me(y.i,c);else{var E=c.type,V=c.proxy;y.removeEventListener?y.removeEventListener(E,V,c.capture):y.detachEvent?y.detachEvent($e(E),V):y.addListener&&y.removeListener&&y.removeListener(V),(E=Ze(y))?(Me(E,c),E.h==0&&(E.src=null,y[et]=null)):Te(c)}}}function $e(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function ze(c,y){if(c.da)c=!0;else{y=new K(y,this);var E=c.listener,V=c.ha||c.src;c.fa&&je(c),c=E.call(V,y)}return c}function Ze(c){return c=c[et],c instanceof Ie?c:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(c){return typeof c=="function"?c:(c[ut]||(c[ut]=function(y){return c.handleEvent(y)}),c[ut])}function tt(){R.call(this),this.i=new Ie(this),this.M=this,this.F=null}L(tt,R),tt.prototype[oe]=!0,tt.prototype.removeEventListener=function(c,y,E,V){Re(this,c,y,E,V)};function ot(c,y){var E,V=c.F;if(V)for(E=[];V;V=V.F)E.push(V);if(c=c.M,V=y.type||y,typeof y=="string")y=new $(y,c);else if(y instanceof $)y.target=y.target||c;else{var ae=y;y=new $(V,c),B(y,ae)}if(ae=!0,E)for(var ge=E.length-1;0<=ge;ge--){var Pe=y.g=E[ge];ae=kt(Pe,V,!0,y)&&ae}if(Pe=y.g=c,ae=kt(Pe,V,!0,y)&&ae,ae=kt(Pe,V,!1,y)&&ae,E)for(ge=0;ge<E.length;ge++)Pe=y.g=E[ge],ae=kt(Pe,V,!1,y)&&ae}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],V=0;V<E.length;V++)Te(E[V]);delete c.g[y],c.h--}}this.F=null},tt.prototype.K=function(c,y,E,V){return this.i.add(String(c),y,!1,E,V)},tt.prototype.L=function(c,y,E,V){return this.i.add(String(c),y,!0,E,V)};function kt(c,y,E,V){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var ae=!0,ge=0;ge<y.length;++ge){var Pe=y[ge];if(Pe&&!Pe.da&&Pe.capture==E){var pt=Pe.listener,Et=Pe.ha||Pe.src;Pe.fa&&Me(c.i,Pe),ae=pt.call(Et,V)!==!1&&ae}}return ae&&!V.defaultPrevented}function it(c,y,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function _t(c){c.g=it(()=>{c.g=null,c.i&&(c.i=!1,_t(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class He extends R{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(c){R.call(this),this.h=c,this.g={}}L(dn,R);var At=[];function Dr(c){ie(c.g,function(y,E){this.g.hasOwnProperty(E)&&je(y)},c),c.g={}}dn.prototype.N=function(){dn.aa.N.call(this),Dr(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=a.JSON.stringify,Yt=a.JSON.parse,hi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function It(){}It.prototype.h=null;function ts(c){return c.h||(c.h=c.i())}function en(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){$.call(this,"d")}L(Kr,$);function Qt(){$.call(this,"c")}L(Qt,$);var nt={},Pt=null;function di(){return Pt=Pt||new tt}nt.La="serverreachability";function kn(c){$.call(this,nt.La,c)}L(kn,$);function sr(c){const y=di();ot(y,new kn(y))}nt.STAT_EVENT="statevent";function Yr(c,y){$.call(this,nt.STAT_EVENT,c),this.stat=y}L(Yr,$);function Ge(c){const y=di();ot(y,new Yr(y,c))}nt.Ma="timingevent";function Or(c,y){$.call(this,nt.Ma,c),this.size=y}L(Or,$);function or(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function wn(c,y,E,V,ae,ge){c.info(function(){if(c.g)if(ge)for(var Pe="",pt=ge.split("&"),Et=0;Et<pt.length;Et++){var mt=pt[Et].split("=");if(1<mt.length){var Vt=mt[0];mt=mt[1];var Wt=Vt.split("_");Pe=2<=Wt.length&&Wt[1]=="type"?Pe+(Vt+"="+mt+"&"):Pe+(Vt+"=redacted&")}}else Pe=null;else Pe=ge;return"XMLHTTP REQ ("+V+") [attempt "+ae+"]: "+y+`
`+E+`
`+Pe})}function fn(c,y,E,V,ae,ge,Pe){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ae+"]: "+y+`
`+E+`
`+ge+" "+Pe})}function Ln(c,y,E,V){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ki(c,E)+(V?" "+V:"")})}function bo(c,y){c.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function ki(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var V=E[c];if(!(2>V.length)){var ae=V[1];if(Array.isArray(ae)&&!(1>ae.length)){var ge=ae[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Pe=1;Pe<ae.length;Pe++)ae[Pe]=""}}}}return Dt(E)}catch{return y}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ar(){}L(Ar,It),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},Sr=new Ar;function _n(c,y,E,V){this.j=c,this.i=y,this.l=E,this.R=V||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qr}function Qr(){this.i=null,this.g="",this.h=!1}var ns={},rs={};function is(c,y,E){c.L=1,c.v=Ms(xr(y)),c.m=E,c.P=!0,Ls(c,null)}function Ls(c,y){c.F=Date.now(),Eo(c),c.A=xr(c.v);var E=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),ct(E.i,"t",V),c.C=0,E=c.j.J,c.h=new Qr,c.g=k(c.j,E?y:null,!c.m),0<c.O&&(c.M=new He(w(c.Y,c,c.g),c.O)),y=c.U,E=c.g,V=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(At[0]=ae.toString()),ae=At);for(var ge=0;ge<ae.length;ge++){var Pe=Y(E,ae[ge],V||y.handleEvent,!1,y.h||y);if(!Pe)break;y.g[Pe.key]=Pe}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),sr(),wn(c.i,c.u,c.A,c.l,c.R,c.m)}_n.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},_n.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=Fn(this.g);var y=this.g.Ba();const Fi=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ql(this.g)))){this.J||Wt!=4||y==7||(y==8||0>=Fi?sr(3):sr(2)),ss(this);var E=this.g.Z();this.X=E;t:if(Cs(this)){var V=ql(this.g);c="";var ae=V.length,ge=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),os(this);var Pe="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ae;y++)this.h.h=!0,c+=this.h.i.decode(V[y],{stream:!(ge&&y==ae-1)});V.length=0,this.h.g+=c,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=E==200,fn(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Et=this.g;if((pt=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(pt)){var mt=pt;break t}}mt=null}if(E=mt)Ln(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rs(this,E);else{this.o=!1,this.s=3,Ge(12),Pi(this),os(this);break e}}if(this.P){E=!0;let Qn;for(;!this.J&&this.C<Pe.length;)if(Qn=Dl(this,Pe),Qn==rs){Wt==4&&(this.s=4,Ge(14),E=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==ns){this.s=4,Ge(15),Ln(this.i,this.l,Pe,"[Invalid Chunk]"),E=!1;break}else Ln(this.i,this.l,Qn,null),Rs(this,Qn);if(Cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||Pe.length!=0||this.h.h||(this.s=1,Ge(16),E=!1),this.o=this.o&&E,!E)Ln(this.i,this.l,Pe,"[Invalid Chunked Response]"),Pi(this),os(this);else if(0<Pe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Mo(Vt),Vt.M=!0,Ge(11))}}else Ln(this.i,this.l,Pe,null),Rs(this,Pe);Wt==4&&Pi(this),this.o&&!this.J&&(Wt==4?hs(this.j,this):(this.o=!1,Eo(this)))}else us(this.g),E==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Pi(this),os(this)}}}catch{}finally{}};function Cs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Dl(c,y){var E=c.C,V=y.indexOf(`
`,E);return V==-1?rs:(E=Number(y.substring(E,V)),isNaN(E)?ns:(V+=1,V+E>y.length?rs:(y=y.slice(V,V+E),c.C=V+E,y)))}_n.prototype.cancel=function(){this.J=!0,Pi(this)};function Eo(c){c.S=Date.now()+c.I,Ol(c,c.I)}function Ol(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=or(w(c.ba,c),y)}function ss(c){c.B&&(a.clearTimeout(c.B),c.B=null)}_n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bo(this.i,this.A),this.L!=2&&(sr(),Ge(17)),Pi(this),this.s=2,os(this)):Ol(this,this.S-c)};function os(c){c.j.G==0||c.J||hs(c.j,c)}function Pi(c){ss(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Dr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Rs(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||ja(E.h,c))){if(!c.K&&ja(E.h,c)&&E.G==3){try{var V=E.Da.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ae=V;if(ae[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Mi(E),Co(E);else break e;Bs(E),Ge(18)}}else E.za=ae[1],0<E.za-E.T&&37500>ae[2]&&E.F&&E.v==0&&!E.C&&(E.C=or(w(E.Za,E),6e3));if(1>=Ds(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else lr(E,11)}else if((c.K||E.g==c)&&Mi(E),!S(y))for(ae=E.Da.g.parse(y),y=0;y<ae.length;y++){let mt=ae[y];if(E.T=mt[0],mt=mt[1],E.G==2)if(mt[0]=="c"){E.K=mt[1],E.ia=mt[2];const Vt=mt[3];Vt!=null&&(E.la=Vt,E.j.info("VER="+E.la));const Wt=mt[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const Fi=mt[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(V=1.5*Fi,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const Qn=c.g;if(Qn){const ds=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var ge=V.h;ge.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(tn(ge,ge.h),ge.h=null))}if(V.D){const fs=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;fs&&(V.ya=fs,Ut(V.I,V.D,fs))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var Pe=c;if(V.qa=f(V,V.J?V.ia:null,V.W),Pe.K){Va(V.h,Pe);var pt=Pe,Et=V.L;Et&&(pt.I=Et),pt.B&&(ss(pt),Eo(pt)),V.g=Pe}else Oo(V);0<E.i.length&&Ro(E)}else mt[0]!="stop"&&mt[0]!="close"||lr(E,7);else E.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?lr(E,7):Oi(E):mt[0]!="noop"&&E.l&&E.l.ta(mt),E.v=0)}}sr(4)}catch{}}var vc=class{constructor(c,y){this.g=c,this.map=y}};function Fa(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ds(c){return c.h?1:c.g?c.g.size:0}function ja(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function tn(c,y){c.g?c.g.add(y):c.h=y}function Va(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fa.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ua(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return T(c.i)}function Fl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],E=c.length,V=0;V<E;V++)y.push(c[V]);return y}y=[],E=0;for(V in c)y[E++]=c[V];return y}function Ba(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const V in c)y[E++]=V;return y}}}function jl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Ba(c),V=Fl(c),ae=V.length,ge=0;ge<ae;ge++)y.call(void 0,V[ge],E&&E[ge],c)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var V=c[E].indexOf("="),ae=null;if(0<=V){var ge=c[E].substring(0,V);ae=c[E].substring(V+1)}else ge=c[E];y(ge,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function pn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pn){this.h=c.h,Os(this,c.j),this.o=c.o,this.g=c.g,Ao(this,c.s),this.l=c.l;var y=c.i,E=new as;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),za(this,E),this.m=c.m}else c&&(y=String(c).match(Fr))?(this.h=!1,Os(this,y[1]||"",!0),this.o=Fs(y[2]||""),this.g=Fs(y[3]||"",!0),Ao(this,y[4]),this.l=Fs(y[5]||"",!0),za(this,y[6]||"",!0),this.m=Fs(y[7]||"")):(this.h=!1,this.i=new as(null,this.h))}pn.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Li(y,Vl,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Li(y,Vl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Li(E,E.charAt(0)=="/"?Ci:wc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Li(E,Io)),c.join("")};function xr(c){return new pn(c)}function Os(c,y,E){c.j=E?Fs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ao(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function za(c,y,E){y instanceof as?(c.i=y,_c(c.i,c.h)):(E||(y=Li(y,xo)),c.i=new as(y,c.h))}function Ut(c,y,E){c.i.set(y,E)}function Ms(c){return Ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Li(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,yc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vl=/[#\/\?@]/g,wc=/[#\?:]/g,Ci=/[#\?]/g,xo=/[#\?@]/g,Io=/#/g;function as(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&So(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=as.prototype,t.add=function(c,y){nn(this),this.i=null,c=ls(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Ul(c,y){nn(c),y=ls(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qa(c,y){return nn(c),y=ls(c,y),c.g.has(y)}t.forEach=function(c,y){nn(this),this.g.forEach(function(E,V){E.forEach(function(ae){c.call(y,ae,V,this)},this)},this)},t.na=function(){nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let V=0;V<y.length;V++){const ae=c[V];for(let ge=0;ge<ae.length;ge++)E.push(y[V])}return E},t.V=function(c){nn(this);let y=[];if(typeof c=="string")qa(this,c)&&(y=y.concat(this.g.get(ls(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},t.set=function(c,y){return nn(this),this.i=null,c=ls(this,c),qa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ct(c,y,E){Ul(c,y),0<E.length&&(c.i=null,c.g.set(ls(c,y),T(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var V=y[E];const ge=encodeURIComponent(String(V)),Pe=this.V(V);for(V=0;V<Pe.length;V++){var ae=ge;Pe[V]!==""&&(ae+="="+encodeURIComponent(String(Pe[V]))),c.push(ae)}}return this.i=c.join("&")};function ls(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _c(c,y){y&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(E,V){var ae=V.toLowerCase();V!=ae&&(Ul(this,V),ct(this,ae,E))},c)),c.j=y}function fi(c,y){const E=new Pn;if(a.Image){const V=new Image;V.onload=g(Xr,E,"TestLoadImage: loaded",!0,y,V),V.onerror=g(Xr,E,"TestLoadImage: error",!1,y,V),V.onabort=g(Xr,E,"TestLoadImage: abort",!1,y,V),V.ontimeout=g(Xr,E,"TestLoadImage: timeout",!1,y,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else y(!1)}function Bl(c,y){const E=new Pn,V=new AbortController,ae=setTimeout(()=>{V.abort(),Xr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:V.signal}).then(ge=>{clearTimeout(ae),ge.ok?Xr(E,"TestPingServer: ok",!0,y):Xr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),Xr(E,"TestPingServer: error",!1,y)})}function Xr(c,y,E,V,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),V(E)}catch{}}function To(){this.g=new hi}function $a(c,y,E){const V=E||"";try{jl(c,function(ae,ge){let Pe=ae;h(ae)&&(Pe=Dt(ae)),y.push(V+ge+"="+encodeURIComponent(Pe))})}catch(ae){throw y.push(V+"type="+encodeURIComponent("_badmap")),ae}}function No(c){this.l=c.Ub||null,this.j=c.eb||!1}L(No,It),No.prototype.g=function(){return new ko(this.l,this.j)},No.prototype.i=function(c){return function(){return c}}({});function ko(c,y){tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ko,tt),t=ko.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Jr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ri(this):Jr(this),this.readyState==3&&zl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ri(this))},t.Qa=function(c){this.g&&(this.response=c,Ri(this))},t.ga=function(){this.g&&Ri(this)};function Ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Jr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Di(c){let y="";return ie(c,function(E,V){y+=V,y+=":",y+=E,y+=`\r
`}),y}function Ha(c,y,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=Di(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ut(c,y,E))}function jt(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(jt,tt);var Wa=/^https?$/i,Po=["POST","PUT"];t=jt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?ts(this.o):ts(Sr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ge){Ga(this,ge);return}if(c=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ae in V)E.set(ae,V[ae]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ge of V.keys())E.set(ge,V.get(ge));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(ge=>ge.toLowerCase()=="content-type"),ae=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Po,y,void 0))||V||ae||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Pe]of E)this.g.setRequestHeader(ge,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(c),this.u=!1}catch(ge){Ga(this,ge)}};function Ga(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ka(c),js(c)}function Ka(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ot(this,"complete"),ot(this,"abort"),js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},t.bb=function(){Ya(this)};function Ya(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)it(c.Ea,0,c);else if(ot(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Pe=c.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var V;if(V=Pe===0){var ae=String(c.D).match(Fr)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),V=!Wa.test(ae?ae.toLowerCase():"")}E=V}if(E)ot(c,"complete"),ot(c,"success");else{c.m=6;try{var ge=2<Fn(c)?c.g.statusText:""}catch{ge=""}c.l=ge+" ["+c.Z()+"]",Ka(c)}}finally{js(c)}}}}function js(c,y){if(c.g){Zr(c);const E=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ot(c,"ready");try{E.onreadystatechange=V}catch{}}}function Zr(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Yt(y)}};function ql(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function us(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(S(c[V]))continue;var E=x(c[V]);const ae=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ge=y[ae]||[];y[ae]=ge,ge.push(E)}C(y,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Lo(c){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,c),this.cb=Yn("retryDelaySeedMs",1e4,c),this.Wa=Yn("forwardChannelMaxRetries",2,c),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fa(c&&c.concurrentRequestLimit),this.Da=new To,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lo.prototype,t.la=8,t.G=1,t.connect=function(c,y,E,V){Ge(0),this.W=c,this.H=y||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=f(this,null,this.W),Ro(this)};function Oi(c){if(Vs(c),c.G==3){var y=c.U++,E=xr(c.I);if(Ut(E,"SID",c.K),Ut(E,"RID",y),Ut(E,"TYPE","terminate"),cs(c,E),y=new _n(c,c.j,y),y.L=2,y.v=Ms(xr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=y.v,E=!0),E||(y.g=k(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Eo(y)}jo(c)}function Co(c){c.g&&(Mo(c),c.g.cancel(),c.g=null)}function Vs(c){Co(c),c.u&&(a.clearTimeout(c.u),c.u=null),Mi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ro(c){if(!Ml(c.h)&&!c.s){c.s=!0;var y=c.Ga;we||de(),X||(we(),X=!0),ce.add(y,c),c.B=0}}function Qa(c,y){return Ds(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=or(w(c.Ga,c,y),Fo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new _n(this,this.j,c);let ge=this.o;if(this.S&&(ge?(ge=A(ge),B(ge,this.S)):ge=this.S),this.m!==null||this.O||(ae.H=ge,ge=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(y+=V,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Us(this,ae,y),E=xr(this.I),Ut(E,"RID",c),Ut(E,"CVER",22),this.D&&Ut(E,"X-HTTP-Session-Id",this.D),cs(this,E),ge&&(this.O?y="headers="+encodeURIComponent(String(Di(ge)))+"&"+y:this.m&&Ha(E,this.m,ge)),tn(this.h,ae),this.Ua&&Ut(E,"TYPE","init"),this.P?(Ut(E,"$req",y),Ut(E,"SID","null"),ae.T=!0,is(ae,E,null)):is(ae,E,y),this.G=2}}else this.G==3&&(c?Do(this,c):this.i.length==0||Ml(this.h)||Do(this))};function Do(c,y){var E;y?E=y.l:E=c.U++;const V=xr(c.I);Ut(V,"SID",c.K),Ut(V,"RID",E),Ut(V,"AID",c.T),cs(c,V),c.m&&c.o&&Ha(V,c.m,c.o),E=new _n(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Us(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tn(c.h,E),is(E,V,y)}function cs(c,y){c.H&&ie(c.H,function(E,V){Ut(y,V,E)}),c.l&&jl({},function(E,V){Ut(y,V,E)})}function Us(c,y,E){E=Math.min(c.i.length,E);var V=c.l?w(c.l.Na,c.l,c):null;e:{var ae=c.i;let ge=-1;for(;;){const Pe=["count="+E];ge==-1?0<E?(ge=ae[0].g,Pe.push("ofs="+ge)):ge=0:Pe.push("ofs="+ge);let pt=!0;for(let Et=0;Et<E;Et++){let mt=ae[Et].g;const Vt=ae[Et].map;if(mt-=ge,0>mt)ge=Math.max(0,ae[Et].g-100),pt=!1;else try{$a(Vt,Pe,"req"+mt+"_")}catch{V&&V(Vt)}}if(pt){V=Pe.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,V}function Oo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;we||de(),X||(we(),X=!0),ce.add(y,c),c.v=0}}function Bs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=or(w(c.Fa,c),Fo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=or(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Co(this),$l(this))};function Mo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $l(c){c.g=new _n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xr(c.qa);Ut(y,"RID","rpc"),Ut(y,"SID",c.K),Ut(y,"AID",c.T),Ut(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ut(y,"TO",c.ja),Ut(y,"TYPE","xmlhttp"),cs(c,y),c.m&&c.o&&Ha(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ms(xr(y)),E.m=null,E.P=!0,Ls(E,c)}t.Za=function(){this.C!=null&&(this.C=null,Co(this),Bs(this),Ge(19))};function Mi(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hs(c,y){var E=null;if(c.g==y){Mi(c),Mo(c),c.g=null;var V=2}else if(ja(c.h,y))E=y.D,Va(c.h,y),V=1;else return;if(c.G!=0){if(y.o)if(V==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var ae=c.B;V=di(),ot(V,new Or(V,E)),Ro(c)}else Oo(c);else if(ae=y.s,ae==3||ae==0&&0<y.X||!(V==1&&Qa(c,y)||V==2&&Bs(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),ae){case 1:lr(c,5);break;case 4:lr(c,10);break;case 3:lr(c,6);break;default:lr(c,2)}}}function Fo(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function lr(c,y){if(c.j.info("Error code "+y),y==2){var E=w(c.fb,c),V=c.Xa;const ae=!V;V=new pn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Os(V,"https"),Ms(V),ae?fi(V.toString(),E):Bl(V.toString(),E)}else Ge(2);c.G=0,c.l&&c.l.sa(y),jo(c),Vs(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function jo(c){if(c.G=0,c.ka=[],c.l){const y=Ua(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function f(c,y,E){var V=E instanceof pn?xr(E):new pn(E);if(V.g!="")y&&(V.g=y+"."+V.g),Ao(V,V.s);else{var ae=a.location;V=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;var ge=new pn(null);V&&Os(ge,V),y&&(ge.g=y),ae&&Ao(ge,ae),E&&(ge.l=E),V=ge}return E=c.D,y=c.ya,E&&y&&Ut(V,E,y),Ut(V,"VER",c.la),cs(c,V),V}function k(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new jt(new No({eb:E})):new jt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function G(){}t=G.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function te(){}te.prototype.g=function(c,y){return new le(c,y)};function le(c,y){tt.call(this),this.g=new Lo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!S(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Be(this)}L(le,tt),le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},le.prototype.close=function(){Oi(this.g)},le.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Dt(c),c=E);y.i.push(new vc(y.Ya++,c)),y.G==3&&Ro(y)},le.prototype.N=function(){this.g.l=null,delete this.j,Oi(this.g),delete this.g,le.aa.N.call(this)};function be(c){Kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(be,Kr);function ke(){Qt.call(this),this.status=1}L(ke,Qt);function Be(c){this.g=c}L(Be,G),Be.prototype.ua=function(){ot(this.g,"a")},Be.prototype.ta=function(c){ot(this.g,new be(c))},Be.prototype.sa=function(c){ot(this.g,new ke)},Be.prototype.ra=function(){ot(this.g,"b")},te.prototype.createWebChannel=te.prototype.g,le.prototype.send=le.prototype.o,le.prototype.open=le.prototype.m,le.prototype.close=le.prototype.close,ob=function(){return new te},sb=function(){return di()},ib=nt,vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,yf=ar,Mr.COMPLETE="complete",rb=Mr,en.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Qc=en,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,nb=jt}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new K1("@firebase/firestore");function qc(){return Il.logLevel}function Xe(t,...e){if(Il.logLevel<=xt.DEBUG){const n=e.map(X1);Il.debug(`Firestore (${dc}): ${t}`,...n)}}function mo(t,...e){if(Il.logLevel<=xt.ERROR){const n=e.map(X1);Il.error(`Firestore (${dc}): ${t}`,...n)}}function Xu(t,...e){if(Il.logLevel<=xt.WARN){const n=e.map(X1);Il.warn(`Firestore (${dc}): ${t}`,...n)}}function X1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+t;throw mo(e),new Error(e)}function yn(t,e){t||wt()}function Nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class TN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NN{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new gl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn(typeof r.accessToken=="string"),new ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yn(e===null||typeof e=="string"),new gr(e)}}class kN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){yn(this.o===void 0);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yn(typeof n.token=="string"),this.R=n.token,new LN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ft(t,e){return t<e?-1:t>e?1:0}function Ju(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Je(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Je(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Je(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Gn(0,0))}static max(){return new vt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(),r===void 0?r=e.length-n:r>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class un extends Rh{construct(e,n,r){return new un(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new un(n)}static emptyPath(){return new un([])}}const ON=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Rh{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return ON.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Je(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Je(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Je(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Je(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(un.fromString(e))}static fromName(e){return new st(un.fromString(e).popFirst(5))}static empty(){return new st(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new un(e.slice()))}}function MN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new Gn(n+1,0):new Gn(n,r));return new Na(i,st.empty(),e)}function FN(t){return new Na(t.readTime,t.key,-1)}class Na{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Na(vt.min(),st.empty(),-1)}static max(){return new Na(vt.max(),st.empty(),-1)}}function jN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=st.comparator(t.documentKey,e.documentKey),n!==0?n:Ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(t){if(t.code!==Oe.FAILED_PRECONDITION||t.message!==VN)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(p=>{o[h]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function BN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Z1.oe=-1;function Fp(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function zN(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new Nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new Nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=s??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new da([])}unionWith(e){let n=new nr(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new da(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ub("Invalid base64 string: "+s):s}}(e);return new ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const qN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(t){if(yn(!!t),typeof t=="string"){let e=0;const n=qN.exec(t);if(yn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tl(t){return typeof t=="string"?ir.fromBase64String(t):ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function t2(t){const e=t.mapValue.fields.__previous_value__;return e2(e)?t2(e):e}function Dh(t){const e=ka(t.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class Oh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e2(t)?4:WN(t)?9007199254740991:HN(t)?10:11:wt()}function ks(t,e){if(t===e)return!0;const n=Nl(t);if(n!==Nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ka(i.timestampValue),a=ka(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Tl(i.bytesValue).isEqual(Tl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Sn(i.geoPointValue.latitude)===Sn(s.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Sn(i.integerValue)===Sn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Sn(i.doubleValue),a=Sn(s.doubleValue);return o===a?sp(o)===sp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ju(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ky(o)!==Ky(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ks(o[l],a[l])))return!1;return!0}(t,e);default:return wt()}}function Mh(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function Zu(t,e){if(t===e)return 0;const n=Nl(t),r=Nl(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Sn(s.integerValue||s.doubleValue),l=Sn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Qy(t.timestampValue,e.timestampValue);case 4:return Qy(Dh(t),Dh(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Tl(s),l=Tl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){const p=Ft(a[h],l[h]);if(p!==0)return p}return Ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ft(Sn(s.latitude),Sn(o.latitude));return a!==0?a:Ft(Sn(s.longitude),Sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,h,p;const v=s.fields||{},w=o.fields||{},g=(a=v.value)===null||a===void 0?void 0:a.arrayValue,L=(l=w.value)===null||l===void 0?void 0:l.arrayValue,T=Ft(((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0,((p=L==null?void 0:L.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:Xy(g,L)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Kd.mapValue&&o===Kd.mapValue)return 0;if(s===Kd.mapValue)return 1;if(o===Kd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),h=o.fields||{},p=Object.keys(h);l.sort(),p.sort();for(let v=0;v<l.length&&v<p.length;++v){const w=Ft(l[v],p[v]);if(w!==0)return w;const g=Zu(a[l[v]],h[p[v]]);if(g!==0)return g}return Ft(l.length,p.length)}(t.mapValue,e.mapValue);default:throw wt()}}function Qy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ft(t,e);const n=ka(t),r=ka(e),i=Ft(n.seconds,r.seconds);return i!==0?i:Ft(n.nanos,r.nanos)}function Xy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zu(n[i],r[i]);if(s)return s}return Ft(n.length,r.length)}function ec(t){return yg(t)}function yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ka(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return st.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${yg(n.fields[o])}`;return i+"}"}(t.mapValue):wt()}function Jy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wg(t){return!!t&&"integerValue"in t}function n2(t){return!!t&&"arrayValue"in t}function Zy(t){return!!t&&"nullValue"in t}function e5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Y0(t){return!!t&&"mapValue"in t}function HN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yh(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Y0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=lh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Y0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Y0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yh(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _s(lh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,vt.min(),vt.min(),vt.min(),_s.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,vt.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,vt.min(),vt.min(),_s.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,vt.min(),vt.min(),_s.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.position=e,this.inclusive=n}}function t5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=st.comparator(st.fromName(o.referenceValue),n.key):r=Zu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function n5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n="asc"){this.field=e,this.dir=n}}function GN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class Mn extends cb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YN(e,n,r):n==="array-contains"?new JN(e,r):n==="in"?new ZN(e,r):n==="not-in"?new e6(e,r):n==="array-contains-any"?new t6(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QN(e,r):new XN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zu(n,this.value)):n!==null&&Nl(this.value)===Nl(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends cb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ji(e,n)}matches(e){return hb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hb(t){return t.op==="and"}function db(t){return KN(t)&&hb(t)}function KN(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function _g(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(db(t))return t.filters.map(e=>_g(e)).join(",");{const e=t.filters.map(n=>_g(n)).join(",");return`${t.op}(${e})`}}function fb(t,e){return t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.field.isEqual(i.field)&&ks(r.value,i.value)}(t,e):t instanceof Ji?function(r,i){return i instanceof Ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fb(o,i.filters[a]),!0):!1}(t,e):void wt()}function pb(t){return t instanceof Mn?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(t):t instanceof Ji?function(n){return n.op.toString()+" {"+n.getFilters().map(pb).join(" ,")+"}"}(t):"Filter"}class YN extends Mn{constructor(e,n,r){super(e,n,r),this.key=st.fromName(r.referenceValue)}matches(e){const n=st.comparator(e.key,this.key);return this.matchesComparison(n)}}class QN extends Mn{constructor(e,n){super(e,"in",n),this.keys=mb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XN extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=mb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>st.fromName(r.referenceValue))}class JN extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return n2(n)&&Mh(n.arrayValue,this.value)}}class ZN extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class e6 extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mh(this.value.arrayValue,n)}}class t6 extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!n2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function r5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new n6(t,e,n,r,i,s,o)}function r2(t){const e=Nt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ec(r)).join(",")),e.ue=n}return e.ue}function i2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n5(t.startAt,e.startAt)&&n5(t.endAt,e.endAt)}function bg(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function r6(t,e,n,r,i,s,o,a){return new Qh(t,e,n,r,i,s,o,a)}function gb(t){return new Qh(t)}function i5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vb(t){return t.collectionGroup!==null}function uh(t){const e=Nt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nr(wr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ap(s,r))}),n.has(wr.keyField().canonicalString())||e.ce.push(new ap(wr.keyField(),r))}return e.ce}function As(t){const e=Nt(t);return e.le||(e.le=i6(e,uh(t))),e.le}function i6(t,e){if(t.limitType==="F")return r5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ap(i.field,s)});const n=t.endAt?new op(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new op(t.startAt.position,t.startAt.inclusive):null;return r5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Eg(t,e){const n=t.filters.concat([e]);return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return i2(As(t),As(e))&&t.limitType===e.limitType}function yb(t){return`${r2(As(t))}|lt:${t.limitType}`}function au(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pb(i)).join(", ")}]`),Fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ec(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ec(i)).join(",")),`Target(${r})`}(As(t))}; limitType=${t.limitType})`}function Vp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):st.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of uh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const h=t5(o,a,l);return o.inclusive?h<=0:h<0}(r.startAt,uh(r),i)||r.endAt&&!function(o,a,l){const h=t5(o,a,l);return o.inclusive?h>=0:h>0}(r.endAt,uh(r),i))}(t,e)}function s6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wb(t){return(e,n)=>{let r=!1;for(const i of uh(t)){const s=o6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o6(t,e,n){const r=t.field.isKeyField()?st.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),h=a.data.field(s);return l!==null&&h!==null?Zu(l,h):wt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yh(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new Nn(st.comparator);function Pa(){return a6}const _b=new Nn(st.comparator);function Xc(...t){let e=_b;for(const n of t)e=e.insert(n.key,n);return e}function l6(t){let e=_b;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dl(){return ch()}function bb(){return ch()}function ch(){return new fc(t=>t.toString(),(t,e)=>t.isEqual(e))}const u6=new nr(st.comparator);function Ct(...t){let e=u6;for(const n of t)e=e.add(n);return e}const c6=new nr(Ft);function h6(){return c6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function Eb(t){return{integerValue:""+t}}function d6(t,e){return zN(e)?Eb(e):s2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this._=void 0}}function f6(t,e,n){return t instanceof Ag?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&e2(s)&&(s=t2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof lp?Sb(t,e):t instanceof up?Ab(t,e):function(i,s){const o=m6(i,s),a=s5(o)+s5(i.Pe);return wg(o)&&wg(i.Pe)?Eb(a):s2(i.serializer,a)}(t,e)}function p6(t,e,n){return t instanceof lp?Sb(t,e):t instanceof up?Ab(t,e):n}function m6(t,e){return t instanceof xg?function(r){return wg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ag extends Up{}class lp extends Up{constructor(e){super(),this.elements=e}}function Sb(t,e){const n=xb(e);for(const r of t.elements)n.some(i=>ks(i,r))||n.push(r);return{arrayValue:{values:n}}}class up extends Up{constructor(e){super(),this.elements=e}}function Ab(t,e){let n=xb(e);for(const r of t.elements)n=n.filter(i=>!ks(i,r));return{arrayValue:{values:n}}}class xg extends Up{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function s5(t){return Sn(t.integerValue||t.doubleValue)}function xb(t){return n2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof lp&&i instanceof lp||r instanceof up&&i instanceof up?Ju(r.elements,i.elements,ks):r instanceof xg&&i instanceof xg?ks(r.Pe,i.Pe):r instanceof Ag&&i instanceof Ag}(t.transform,e.transform)}class vl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vl}static exists(e){return new vl(void 0,e)}static updateTime(e){return new vl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class o2{}function Ib(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y6(t.key,vl.none()):new a2(t.key,t.data,vl.none());{const n=t.data,r=_s.empty();let i=new nr(wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bp(t.key,r,new da(i.toArray()),vl.none())}}function v6(t,e,n){t instanceof a2?function(i,s,o){const a=i.value.clone(),l=a5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bp?function(i,s,o){if(!wf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=a5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Tb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hh(t,e,n,r){return t instanceof a2?function(s,o,a,l){if(!wf(s.precondition,o))return a;const h=s.value.clone(),p=l5(s.fieldTransforms,l,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bp?function(s,o,a,l){if(!wf(s.precondition,o))return a;const h=l5(s.fieldTransforms,l,o),p=o.data;return p.setAll(Tb(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,o,a){return wf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function o5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(s,o)=>g6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class a2 extends o2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bp extends o2{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a5(t,e,n){const r=new Map;yn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p6(o,a,n[i]))}return r}function l5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,f6(s,o,e))}return r}class y6 extends o2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ib(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(n,r)=>o5(n,r))&&Ju(this.baseMutations,e.baseMutations,(n,r)=>o5(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,Tt;function Nb(t){if(t===void 0)return mo("GRPC error has no .code"),Oe.UNKNOWN;switch(t){case Dn.OK:return Oe.OK;case Dn.CANCELLED:return Oe.CANCELLED;case Dn.UNKNOWN:return Oe.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return Oe.INTERNAL;case Dn.UNAVAILABLE:return Oe.UNAVAILABLE;case Dn.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Dn.NOT_FOUND:return Oe.NOT_FOUND;case Dn.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Dn.ABORTED:return Oe.ABORTED;case Dn.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Dn.DATA_LOSS:return Oe.DATA_LOSS;default:return wt()}}(Tt=Dn||(Dn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new ml([4294967295,4294967295],0);function u5(t){const e=E6().encode(t),n=new tb;return n.update(e),new Uint8Array(n.digest())}function c5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ml([n,r],0),new ml([i,s],0)]}class l2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(r<0)throw new Jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ml.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ml.fromNumber(r)));return i.compare(S6)===1&&(i=new ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=u5(e),[r,i]=c5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new l2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=u5(e),[r,i]=c5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zp(vt.min(),i,new Nn(Ft),Pa(),Ct())}}class Xh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xh(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class kb{constructor(e,n){this.targetId=e,this.me=n}}class Pb{constructor(e,n,r=ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h5{constructor(){this.fe=0,this.ge=f5(),this.pe=ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),n=Ct(),r=Ct();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new Xh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=f5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class A6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pa(),this.qe=d5(),this.Qe=new Nn(Ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(bg(s))if(r===0){const o=new st(s.path);this.Ue(n,o,yr.newNoDocument(o,vt.min()))}else yn(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Tl(r).toUint8Array()}catch(l){if(l instanceof ub)return Xu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l2(o,i,s)}catch(l){return Xu(l instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&bg(a.target)){const l=new st(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ct();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zp(e,n,this.Qe,this.ke,r);return this.ke=Pa(),this.qe=d5(),this.Qe=new Nn(Ft),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new h5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nr(Ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new h5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function d5(){return new Nn(st.comparator)}function f5(){return new Nn(st.comparator)}const x6={asc:"ASCENDING",desc:"DESCENDING"},I6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T6={and:"AND",or:"OR"};class N6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ig(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function Tg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ru(t){return yn(!!t),vt.fromTimestamp(function(n){const r=ka(n);return new Gn(r.seconds,r.nanos)}(t))}function Cb(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(i){return new un(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rb(t){const e=un.fromString(t);return yn(jb(e)),e}function Q0(t,e){const n=Rb(e);if(n.get(1)!==t.databaseId.projectId)throw new Je(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Je(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new st(Ob(n))}function Db(t,e){return Cb(t.databaseId,e)}function k6(t){const e=Rb(t);return e.length===4?un.emptyPath():Ob(e)}function p5(t){return new un(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ob(t){return yn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:wt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(yn(p===void 0||typeof p=="string"),ir.fromBase64String(p||"")):(yn(p===void 0||p instanceof Buffer||p instanceof Uint8Array),ir.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const p=h.code===void 0?Oe.UNKNOWN:Nb(h.code);return new Je(p,h.message||"")}(o);n=new Pb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Q0(t,r.document.name),s=Ru(r.document.updateTime),o=r.document.createTime?Ru(r.document.createTime):vt.min(),a=new _s({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),h=r.targetIds||[],p=r.removedTargetIds||[];n=new _f(h,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Q0(t,r.document),s=r.readTime?Ru(r.readTime):vt.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _f([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Q0(t,r.document),s=r.removedTargetIds||[];n=new _f([],s,i,null)}else{if(!("filter"in e))return wt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new b6(i,s),a=r.targetId;n=new kb(a,o)}}return n}function L6(t,e){return{documents:[Db(t,e.path)]}}function C6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Db(t,i);const s=function(h){if(h.length!==0)return Fb(Ji.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(w){return{field:lu(w.field),direction:O6(w.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ig(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function R6(t){let e=k6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yn(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(v){const w=Mb(v);return w instanceof Ji&&db(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(v){return v.map(w=>function(L){return new ap(uu(L.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(v){let w;return w=typeof v=="object"?v.value:v,Fp(w)?null:w}(n.limit));let l=null;n.startAt&&(l=function(v){const w=!!v.before,g=v.values||[];return new op(g,w)}(n.startAt));let h=null;return n.endAt&&(h=function(v){const w=!v.before,g=v.values||[];return new op(g,w)}(n.endAt)),r6(e,i,o,s,a,"F",l,h)}function D6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(n.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(n.unaryFilter.field);return Mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uu(n.unaryFilter.field);return Mn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(t):t.fieldFilter!==void 0?function(n){return Mn.create(uu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ji.create(n.compositeFilter.filters.map(r=>Mb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(t):wt()}function O6(t){return x6[t]}function M6(t){return I6[t]}function F6(t){return T6[t]}function lu(t){return{fieldPath:t.canonicalString()}}function uu(t){return wr.fromServerFormat(t.fieldPath)}function Fb(t){return t instanceof Mn?function(n){if(n.op==="=="){if(e5(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(Zy(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e5(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(Zy(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:M6(n.op),value:n.value}}}(t):t instanceof Ji?function(n){const r=n.getFilters().map(i=>Fb(i));return r.length===1?r[0]:{compositeFilter:{op:F6(n.op),filters:r}}}(t):wt()}function jb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r,i,s=vt.min(),o=vt.min(),a=ir.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.ct=e}}function V6(t){const e=R6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.un=new B6}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(Na.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class B6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(un.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(un.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new tc(0)}static kn(){return new tc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.changes=new fc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hh(r.mutation,i,da.empty(),Gn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=dl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pa();const o=ch(),a=function(){return ch()}();return n.forEach((l,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Bp)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),hh(p.mutation,h,p.mutation.getFieldMask(),Gn.now())):o.set(h.key,da.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var v;return a.set(h,new q6(p,(v=o.get(h))!==null&&v!==void 0?v:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ch();let i=new Nn((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let p=r.get(l)||da.empty();p=a.applyToLocalView(h,p),r.set(l,p);const v=(i.get(a.batchId)||Ct()).add(l);i=i.insert(a.batchId,v)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,p=l.value,v=bb();p.forEach(w=>{if(!s.has(w)){const g=Ib(n.get(w),r.get(w));g!==null&&v.set(w,g),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(dl());let a=-1,l=s;return o.next(h=>Ce.forEach(h,(p,v)=>(a<v.largestBatchId&&(a=v.largestBatchId),s.get(p)?Ce.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{l=l.insert(p,w)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,Ct())).next(p=>({batchId:a,changes:l6(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new st(n)).next(r=>{let i=Xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xc();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const h=function(v,w){return new Qh(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((v,w)=>{o=o.insert(v,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,yr.newInvalidDocument(p)))});let a=Xc();return o.forEach((l,h)=>{const p=s.get(l);p!==void 0&&hh(p.mutation,h,da.empty(),Gn.now()),Vp(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ru(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:V6(i.bundledQuery),readTime:Ru(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.overlays=new Nn(st.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=dl(),s=n.length+1,o=new st(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nn((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=dl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const a=dl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,p)=>a.set(h,p)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _6(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ct(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.Tr=new nr(qn.Er),this.dr=new nr(qn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new st(new un([])),r=new qn(n,e),i=new qn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new st(new un([])),r=new qn(n,e),i=new qn(n,e+1);let s=Ct();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new qn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return st.comparator(e.key,n.key)||Ft(e.wr,n.wr)}static Ar(e,n){return Ft(e.wr,n.wr)||st.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nr(qn.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new w6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new qn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qn(n,0),i=new qn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(Ft);return n.forEach(i=>{const s=new qn(i,0),o=new qn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;st.isDocumentKey(s)||(s=s.child(""));const o=new qn(new st(s),0);let a=new nr(Ft);return this.br.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new qn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qn(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.Mr=e,this.docs=function(){return new Nn(st.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=Pa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pa();const o=n.path,a=new st(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:p}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||jN(FN(p),r)<=0||(i.has(p.key)||Vp(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){wt()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q6(this)}getSize(e){return Ce.resolve(this.size)}}class Q6 extends z6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.persistence=e,this.Nr=new fc(n=>r2(n),i2),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new u2,this.targetCount=0,this.kr=tc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Z1(0),this.Kr=!1,this.Kr=!0,this.$r=new G6,this.referenceDelegate=e(this),this.Ur=new X6(this),this.indexManager=new U6,this.remoteDocumentCache=function(i){return new Y6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new j6(n),this.Gr=new H6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new K6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new Z6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Z6 extends UN{constructor(e){super(),this.currentSequenceNumber=e}}class c2{constructor(e){this.persistence=e,this.Jr=new u2,this.Yr=null}static Zr(e){return new c2(e)}get Xr(){if(this.Yr)return this.Yr;throw wt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=st.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,vt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ct(),i=Ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uT()?8:BN(Er())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ek;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(qc()<=xt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(qc()<=xt.DEBUG&&Xe("QueryEngine","Query:",au(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(qc()<=xt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):Ce.resolve())}Yi(e,n){if(i5(n))return Ce.resolve(null);let r=As(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sg(n,null,"F"),r=As(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ct(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ts(n,a);return this.ns(n,h,o,l.readTime)?this.Yi(e,Sg(n,null,"F")):this.rs(e,h,n,l)}))})))}Zi(e,n,r,i){return i5(n)||i.isEqual(vt.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(qc()<=xt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),au(n)),this.rs(e,o,n,MN(i,-1)).next(a=>a))})}ts(e,n){let r=new nr(wb(e));return n.forEach((i,s)=>{Vp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return qc()<=xt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",au(n)),this.Ji.getDocumentsMatchingQuery(e,n,Na.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Nn(Ft),this._s=new fc(s=>r2(s),i2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function rk(t,e,n,r){return new nk(t,e,n,r)}async function Vb(t,e){const n=Nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ct();for(const h of i){o.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}for(const h of s){a.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:a}))})})}function Ub(t){const e=Nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ik(t,e){const n=Nt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((p,v)=>{const w=i.get(v);if(!w)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,v).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,v)));let g=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?g=g.withResumeToken(ir.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):p.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(p.resumeToken,r)),i=i.insert(v,g),function(T,j,_){return T.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(w,g,p)&&a.push(n.Ur.updateTargetData(s,g))});let l=Pa(),h=Ct();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(sk(s,o,e.documentUpdates).next(p=>{l=p.Ps,h=p.Is})),!r.isEqual(vt.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(v=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.os=i,s))}function sk(t,e,n){let r=Ct(),i=Ct();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pa();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(vt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function ok(t,e){const n=Nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new fa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function kg(t,e,n){const r=Nt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Kh(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function m5(t,e,n){const r=Nt(t);let i=vt.min(),s=Ct();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,p){const v=Nt(l),w=v._s.get(p);return w!==void 0?Ce.resolve(v.os.get(w)):v.Ur.getTargetData(h,p)}(r,o,As(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:vt.min(),n?s:Ct())).next(a=>(ak(r,s6(e),a),{documents:a,Ts:s})))}function ak(t,e,n){let r=t.us.get(e)||vt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class g5{constructor(){this.activeTargetIds=h6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lk{constructor(){this.so=new g5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function X0(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class dk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=X0(),l=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,l,h,i).then(p=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Xu("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=ck[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=X0();return new Promise((o,a)=>{const l=new nb;l.setWithCredentials(!0),l.listenOnce(rb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yf.NO_ERROR:const p=l.getResponseJson();Xe(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case yf.TIMEOUT:Xe(hr,`RPC '${e}' ${s} timed out`),a(new Je(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const v=l.getStatus();if(Xe(hr,`RPC '${e}' ${s} failed with status:`,v,"response text:",l.getResponseText()),v>0){let w=l.getResponseJson();Array.isArray(w)&&(w=w[0]);const g=w==null?void 0:w.error;if(g&&g.status&&g.message){const L=function(j){const _=j.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(_)>=0?_:Oe.UNKNOWN}(g.status);a(new Je(L,g.message))}else a(new Je(Oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Je(Oe.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Xe(hr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Xe(hr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=X0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ob(),a=sb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const p=s.join("");Xe(hr,`Creating RPC '${e}' stream ${i}: ${p}`,l);const v=o.createWebChannel(p,l);let w=!1,g=!1;const L=new hk({Io:j=>{g?Xe(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(w||(Xe(hr,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),Xe(hr,`RPC '${e}' stream ${i} sending:`,j),v.send(j))},To:()=>v.close()}),T=(j,_,S)=>{j.listen(_,D=>{try{S(D)}catch(W){setTimeout(()=>{throw W},0)}})};return T(v,Qc.EventType.OPEN,()=>{g||(Xe(hr,`RPC '${e}' stream ${i} transport opened.`),L.yo())}),T(v,Qc.EventType.CLOSE,()=>{g||(g=!0,Xe(hr,`RPC '${e}' stream ${i} transport closed`),L.So())}),T(v,Qc.EventType.ERROR,j=>{g||(g=!0,Xu(hr,`RPC '${e}' stream ${i} transport errored:`,j),L.So(new Je(Oe.UNAVAILABLE,"The operation could not be completed")))}),T(v,Qc.EventType.MESSAGE,j=>{var _;if(!g){const S=j.data[0];yn(!!S);const D=S,W=D.error||((_=D[0])===null||_===void 0?void 0:_.error);if(W){Xe(hr,`RPC '${e}' stream ${i} received error:`,W);const J=W.status;let ie=function(O){const B=Dn[O];if(B!==void 0)return Nb(B)}(J),C=W.message;ie===void 0&&(ie=Oe.INTERNAL,C="Unknown error status: "+J+" with message "+W.message),g=!0,L.So(new Je(ie,C)),v.close()}else Xe(hr,`RPC '${e}' stream ${i} received:`,S),L.bo(S)}}),T(a,ib.STAT_EVENT,j=>{j.stat===vg.PROXY?Xe(hr,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===vg.NOPROXY&&Xe(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.wo()},0),L}}function J0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new N6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(mo(n.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Je(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pk extends fk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=P6(this.serializer,e),r=function(s){if(!("targetChange"in s))return vt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?vt.min():o.readTime?Ru(o.readTime):vt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=p5(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=bg(l)?{documents:L6(s,l)}:{query:C6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Lb(s,o.resumeToken);const h=Ig(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(vt.min())>0){a.readTime=Tg(s,o.snapshotVersion.toTimestamp());const h=Ig(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=D6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=p5(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Je(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ng(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(Oe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ng(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(Oe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mo(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Zh(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=Nt(l);h.L_.add(4),await Jh(h),h.q_.set("Unknown"),h.L_.delete(4),await $p(h)}(this))})}),this.q_=new gk(r,i)}}async function $p(t){if(Zh(t))for(const e of t.B_)await e(!0)}async function Jh(t){for(const e of t.B_)await e(!1)}function zb(t,e){const n=Nt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),m2(n)?p2(n):pc(n).r_()&&f2(n,e))}function d2(t,e){const n=Nt(t),r=pc(n);n.N_.delete(e),r.r_()&&qb(n,e),n.N_.size===0&&(r.r_()?r.o_():Zh(n)&&n.q_.set("Unknown"))}function f2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).A_(e)}function qb(t,e){t.Q_.xe(e),pc(t).R_(e)}function p2(t){t.Q_=new A6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.q_.v_()}function m2(t){return Zh(t)&&!pc(t).n_()&&t.N_.size>0}function Zh(t){return Nt(t).L_.size===0}function $b(t){t.Q_=void 0}async function yk(t){t.q_.set("Online")}async function wk(t){t.N_.forEach((e,n)=>{f2(t,e)})}async function _k(t,e){$b(t),m2(t)?(t.q_.M_(e),p2(t)):t.q_.set("Unknown")}async function bk(t,e,n){if(t.q_.set("Online"),e instanceof Pb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await y5(t,r)}else if(e instanceof _f?t.Q_.Ke(e):e instanceof kb?t.Q_.He(e):t.Q_.We(e),!n.isEqual(vt.min()))try{const r=await Ub(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,h)=>{const p=s.N_.get(l);if(!p)return;s.N_.set(l,p.withResumeToken(ir.EMPTY_BYTE_STRING,p.snapshotVersion)),qb(s,l);const v=new fa(p.target,l,h,p.sequenceNumber);f2(s,v)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await y5(t,r)}}async function y5(t,e,n){if(!Kh(e))throw e;t.L_.add(1),await Jh(t),t.q_.set("Offline"),n||(n=()=>Ub(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $p(t)})}async function w5(t,e){const n=Nt(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=Zh(n);n.L_.add(3),await Jh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $p(n)}async function Ek(t,e){const n=Nt(t);e?(n.L_.delete(2),await $p(n)):e||(n.L_.add(2),await Jh(n),n.q_.set("Unknown"))}function pc(t){return t.K_||(t.K_=function(n,r,i){const s=Nt(n);return s.w_(),new pk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:yk.bind(null,t),Ro:wk.bind(null,t),mo:_k.bind(null,t),d_:bk.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),m2(t)?p2(t):t.q_.set("Unknown")):(await t.K_.stop(),$b(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new g2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hb(t,e){if(mo("AsyncQueue",`${e}: ${t}`),Kh(t))return new Je(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=Xc(),this.sortedSet=new Nn(this.comparator)}static emptySet(e){return new Du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.W_=new Nn(st.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):wt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class nc{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nc(e,n,Du.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Ak{constructor(){this.queries=b5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Nt(n),s=i.queries;i.queries=b5(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Je(Oe.ABORTED,"Firestore shutting down"))}}function b5(){return new fc(t=>yb(t),jp)}async function xk(t,e){const n=Nt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Sk,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Hb(o,`Initialization of query '${au(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&v2(n)}async function Ik(t,e){const n=Nt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tk(t,e){const n=Nt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&v2(n)}function Nk(t,e,n){const r=Nt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function v2(t){t.Y_.forEach(e=>{e.next()})}var Pg,E5;(E5=Pg||(Pg={})).ea="default",E5.Cache="cache";class kk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class Pk{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ct(),this.mutatedKeys=Ct(),this.Aa=wb(e),this.Ra=new Du(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new _5,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,v)=>{const w=i.get(p),g=Vp(this.query,v)?v:null,L=!!w&&this.mutatedKeys.has(w.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let j=!1;w&&g?w.data.isEqual(g.data)?L!==T&&(r.track({type:3,doc:g}),j=!0):this.ga(w,g)||(r.track({type:2,doc:g}),j=!0,(l&&this.Aa(g,l)>0||h&&this.Aa(g,h)<0)&&(a=!0)):!w&&g?(r.track({type:0,doc:g}),j=!0):w&&!g&&(r.track({type:1,doc:w}),j=!0,(l||h)&&(a=!0)),j&&(g?(o=o.add(g),s=T?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,v)=>function(g,L){const T=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return T(g)-T(L)}(p.type,v.type)||this.Aa(p.doc,v.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new nc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ct(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Gb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Wb(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ct();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return nc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Lk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ck{constructor(e){this.key=e,this.va=!1}}class Rk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fc(a=>yb(a),jp),this.Ma=new Map,this.xa=new Set,this.Oa=new Nn(st.comparator),this.Na=new Map,this.La=new u2,this.Ba={},this.ka=new Map,this.qa=tc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Dk(t,e,n=!0){const r=Jb(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Kb(r,e,n,!0),i}async function Ok(t,e){const n=Jb(t);await Kb(n,e,!0,!1)}async function Kb(t,e,n,r){const i=await ok(t.localStore,As(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Mk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zb(t.remoteStore,i),a}async function Mk(t,e,n,r,i){t.Ka=(v,w,g)=>async function(T,j,_,S){let D=j.view.ma(_);D.ns&&(D=await m5(T.localStore,j.query,!1).then(({documents:C})=>j.view.ma(C,D)));const W=S&&S.targetChanges.get(j.targetId),J=S&&S.targetMismatches.get(j.targetId)!=null,ie=j.view.applyChanges(D,T.isPrimaryClient,W,J);return A5(T,j.targetId,ie.wa),ie.snapshot}(t,v,w,g);const s=await m5(t.localStore,e,!0),o=new Pk(e,s.Ts),a=o.ma(s.documents),l=Xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);A5(t,n,h.wa);const p=new Lk(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function Fk(t,e,n){const r=Nt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!jp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&d2(r.remoteStore,i.targetId),Lg(r,i.targetId)}).catch(J1)):(Lg(r,i.targetId),await kg(r.localStore,i.targetId,!0))}async function jk(t,e){const n=Nt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d2(n.remoteStore,r.targetId))}async function Yb(t,e){const n=Nt(t);try{const r=await ik(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?yn(o.va):i.removedDocuments.size>0&&(yn(o.va),o.va=!1))}),await Xb(n,r,e)}catch(r){await J1(r)}}function S5(t,e,n){const r=Nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Nt(o);l.onlineState=a;let h=!1;l.queries.forEach((p,v)=>{for(const w of v.j_)w.Z_(a)&&(h=!0)}),h&&v2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vk(t,e,n){const r=Nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Nn(st.comparator);o=o.insert(s,yr.newNoDocument(s,vt.min()));const a=Ct().add(s),l=new zp(vt.min(),new Map,new Nn(Ft),o,a);await Yb(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),y2(r)}else await kg(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(J1)}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Qb(t,r)})}function Qb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(d2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),y2(t))}function A5(t,e,n){for(const r of n)r instanceof Wb?(t.La.addReference(r.key,e),Uk(t,r)):r instanceof Gb?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Qb(t,r.key)):wt()}function Uk(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),y2(t))}function y2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new st(un.fromString(e)),r=t.qa.next();t.Na.set(r,new Ck(n)),t.Oa=t.Oa.insert(n,r),zb(t.remoteStore,new fa(As(gb(n.path)),r,"TargetPurposeLimboResolution",Z1.oe))}}async function Xb(t,e,n){const r=Nt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const v=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,v?"current":"not-current")}if(h){i.push(h);const v=h2.Wi(l.targetId,h);s.push(v)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,h){const p=Nt(l);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Ce.forEach(h,w=>Ce.forEach(w.$i,g=>p.persistence.referenceDelegate.addReference(v,w.targetId,g)).next(()=>Ce.forEach(w.Ui,g=>p.persistence.referenceDelegate.removeReference(v,w.targetId,g)))))}catch(v){if(!Kh(v))throw v;Xe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const w=v.targetId;if(!v.fromCache){const g=p.os.get(w),L=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(L);p.os=p.os.insert(w,T)}}}(r.localStore,s))}async function Bk(t,e){const n=Nt(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await Vb(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Je(Oe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xb(n,r.hs)}}function zk(t,e){const n=Nt(t),r=n.Na.get(e);if(r&&r.va)return Ct().add(r.key);{let i=Ct();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Jb(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vk.bind(null,e),e.Ca.d_=Tk.bind(null,e.eventManager),e.Ca.$a=Nk.bind(null,e.eventManager),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return rk(this.persistence,new tk,e.initialUser,this.serializer)}Ga(e){return new J6(c2.Zr,this.serializer)}Wa(e){return new lk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class Cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bk.bind(null,this.syncEngine),await Ek(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ak}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=function(s){return new dk(s)}(e.databaseInfo);return function(s,o,a,l){return new mk(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vk(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>S5(this.syncEngine,n,0),function(){return v5.D()?new v5:new uk}())}createSyncEngine(e,n){return function(i,s,o,a,l,h,p){const v=new Rk(i,s,o,a,l,h);return p&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Nt(i);Xe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Jh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=DN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Z0(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Hk(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>w5(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>w5(e.remoteStore,i)),t._onlineComponents=e}async function Hk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Z0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Oe.FAILED_PRECONDITION||i.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xu("Error using user provided cache. Falling back to memory cache: "+n),await Z0(t,new cp)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await Z0(t,new cp);return t._offlineComponents}async function Wk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await x5(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await x5(t,new Cg))),t._onlineComponents}async function Gk(t){const e=await Wk(t),n=e.eventManager;return n.onListen=Dk.bind(null,e.syncEngine),n.onUnlisten=Fk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ok.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jk.bind(null,e.syncEngine),n}function Kk(t,e,n={}){const r=new gl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,h){const p=new qk({next:w=>{p.Za(),o.enqueueAndForget(()=>Ik(s,v)),w.fromCache&&l.source==="server"?h.reject(new Je(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new kk(a,p,{includeMetadataChanges:!0,_a:!0});return xk(s,v)}(await Gk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e,n){if(!n)throw new Je(Oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qk(t,e,n,r){if(e===!0&&r===!0)throw new Je(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T5(t){if(st.isDocumentKey(t))throw new Je(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt()}function Rg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hp(t);throw new Je(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Je(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Je(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Je(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Je(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N5(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IN;switch(r.type){case"firstParty":return new PN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I5.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),I5.delete(n),r.terminate())}(this),Promise.resolve()}}function Xk(t,e,n,r={}){var i;const s=(t=Rg(t,w2))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gr.MOCK_USER;else{a=nT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Je(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gr(h)}t._authCredentials=new TN(new ab(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class _o{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _o(this.firestore,e,this._key)}}class Ou extends mc{constructor(e,n,r){super(e,n,gb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _o(this.firestore,null,new st(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function rc(t,e,...n){if(t=Ns(t),Yk("collection","path",e),t instanceof w2){const r=un.fromString(e,...n);return T5(r),new Ou(t,null,r)}{if(!(t instanceof _o||t instanceof Ou))throw new Je(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(un.fromString(e,...n));return T5(r),new Ou(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bb(this,"async_queue_retry"),this.Vu=()=>{const r=J0();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=J0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=J0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new gl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Kh(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=g2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&wt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class e3 extends w2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new k5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k5(e),this._firestoreClient=void 0,await e}}}function Jk(t,e){const n=typeof t=="object"?t:J4(),r=typeof t=="string"?t:"(default)",i=Q1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eT("firestore");s&&Xk(i,...s)}return i}function Zk(t){if(t._terminated)throw new Je(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eP(t),t._firestoreClient}function eP(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,h,p){return new $N(a,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Zb(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $k(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(ir.fromBase64String(e))}catch(n){throw new Je(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ic(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Je(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Je(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Je(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=/^__.*__$/;function r3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class E2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new E2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(r3(this.Cu)&&tP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}Qu(e,n,r,i=!1){return new E2({Cu:e,methodName:n,qu:r,path:wr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rP(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new nP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iP(t,e,n,r=!1){return S2(n,t.Qu(r?4:3,e))}function S2(t,e){if(i3(t=Ns(t)))return oP("Unsupported field value:",e,t),sP(t,e);if(t instanceof n3)return function(r,i){if(!r3(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=S2(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Gn.fromDate(r);return{timestampValue:Tg(i.serializer,s)}}if(r instanceof Gn){const s=new Gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tg(i.serializer,s)}}if(r instanceof _2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ic)return{bytesValue:Lb(i.serializer,r._byteString)};if(r instanceof _o){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof b2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return s2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Hp(r)}`)}(t,e)}function sP(t,e){const n={};return lb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yh(t,(r,i)=>{const s=S2(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function i3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gn||t instanceof _2||t instanceof ic||t instanceof _o||t instanceof n3||t instanceof b2)}function oP(t,e,n){if(!i3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}const aP=new RegExp("[~\\*/\\[\\]]");function lP(t,e,n){if(e.search(aP)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t3(...e.split("."))._internalPath}catch{throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Je(Oe.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _o(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uP extends s3{data(){return super.data()}}function A2(t,e){return typeof e=="string"?lP(t,e):e instanceof t3?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Je(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x2{}class hP extends x2{}function I2(t,e,...n){let r=[];e instanceof x2&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof N2).length,a=s.filter(l=>l instanceof Wp).length;if(o>1||o>0&&a>0)throw new Je(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wp extends hP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wp(e,n,r)}_apply(e){const n=this._parse(e);return o3(e._query,n),new mc(e.firestore,e.converter,Eg(e._query,n))}_parse(e){const n=rP(e.firestore);return function(s,o,a,l,h,p,v){let w;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Je(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){L5(v,p);const g=[];for(const L of v)g.push(P5(l,s,L));w={arrayValue:{values:g}}}else w=P5(l,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||L5(v,p),w=iP(a,o,v,p==="in"||p==="not-in");return Mn.create(h,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function T2(t,e,n){const r=e,i=A2("where",t);return Wp._create(i,r,n)}class N2 extends x2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)o3(o,l),o=Eg(o,l)}(e._query,n),new mc(e.firestore,e.converter,Eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P5(t,e,n){if(typeof(n=Ns(n))=="string"){if(n==="")throw new Je(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(e)&&n.indexOf("/")!==-1)throw new Je(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(un.fromString(n));if(!st.isDocumentKey(r))throw new Je(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jy(t,new st(r))}if(n instanceof _o)return Jy(t,n._key);throw new Je(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(n)}.`)}function L5(t,e){if(!Array.isArray(t)||t.length===0)throw new Je(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o3(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Je(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dP{convertValue(e,n="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yh(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Sn(o.doubleValue));return new b2(s)}convertGeoPoint(e){return new _2(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=t2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=ka(e);return new Gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=un.fromString(e);yn(jb(r));const i=new Oh(r.get(1),r.get(3)),s=new st(r.popFirst(5));return i.isEqual(n)||mo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fP extends s3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bf extends fP{data(e={}){return super.data(e)}}class pP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bf(this._firestore,this._userDataWriter,r.key,r,new Qd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Je(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new bf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new bf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:mP(a.type),doc:l,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class gP extends dP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _o(this.firestore,null,n)}}function sc(t){t=Rg(t,mc);const e=Rg(t.firestore,e3),n=Zk(e),r=new gP(e);return cP(t._query),Kk(n,t._query).then(i=>new pP(e,r,t,i))}(function(e,n=!0){(function(i){dc=i})(hc),Qu(new xl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new e3(new NN(r.getProvider("auth-internal")),new CN(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Je(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xa(Gy,"4.7.3",e),xa(Gy,"4.7.3","esm2017")})();var vP="firebase",yP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xa(vP,yP,"app");function k2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wP=a3,l3=new Wh("auth","Firebase",a3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new K1("@firebase/auth");function _P(t,...e){hp.logLevel<=xt.WARN&&hp.warn(`Auth (${hc}): ${t}`,...e)}function Ef(t,...e){hp.logLevel<=xt.ERROR&&hp.error(`Auth (${hc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,...e){throw P2(t,...e)}function xs(t,...e){return P2(t,...e)}function u3(t,e,n){const r=Object.assign(Object.assign({},wP()),{[e]:n});return new Wh("auth","Firebase",r).create(e,{appName:t.name})}function yl(t){return u3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l3.create(t,...e)}function ht(t,e,...n){if(!t)throw P2(e,...n)}function io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ef(e),new Error(e)}function vo(t,e){t||io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bP(){return C5()==="http:"||C5()==="https:"}function C5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bP()||oT()||"connection"in navigator)?navigator.onLine:!0}function SP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,vo(n>e,"Short delay should be less than long delay!"),this.isMobile=rT()||aT()}get(){return EP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new ed(3e4,6e4);function C2(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gc(t,e,n,r,i={}){return h3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},s);return sT()||(h.referrerPolicy="no-referrer"),c3.fetch()(d3(t,t.config.apiHost,n,a),h)})}async function h3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AP),e);try{const i=new TP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xd(t,"user-disabled",o);const p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw u3(t,p,h);go(t,p)}}catch(i){if(i instanceof wo)throw i;go(t,"network-request-failed",{message:String(i)})}}async function IP(t,e,n,r,i={}){const s=await gc(t,e,n,r,i);return"mfaPendingCredential"in s&&go(t,"multi-factor-auth-required",{_serverResponse:s}),s}function d3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?L2(t.config,i):`${t.config.apiScheme}://${i}`}class TP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),xP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e){return gc(t,"POST","/v1/accounts:delete",e)}async function f3(t,e){return gc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kP(t,e=!1){const n=Ns(t),r=await n.getIdToken(e),i=R2(r);ht(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:dh(em(i.auth_time)),issuedAtTime:dh(em(i.iat)),expirationTime:dh(em(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function em(t){return Number(t)*1e3}function R2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=H4(n);return i?JSON.parse(i):(Ef("Failed to decode base64 JWT payload"),null)}catch(i){return Ef("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function R5(t){const e=R2(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wo&&PP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fh(t,f3(n,{idToken:r}));ht(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?p3(s.providerUserInfo):[],a=RP(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),p=l?h:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function CP(t){const e=Ns(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p3(t){return t.map(e=>{var{providerId:n}=e,r=k2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){const n=await h3(t,{},async()=>{const r=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=d3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",c3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OP(t,e){return gc(t,"POST","/v2/accounts:revokeToken",C2(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=R5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mu;return r&&(ht(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ht(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class so{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=k2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kP(this,e)}reload(){return CP(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(yl(this.auth));const e=await this.getIdToken();return await Fh(this,NP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,L=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,j=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(h=n.createdAt)!==null&&h!==void 0?h:void 0,S=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:D,emailVerified:W,isAnonymous:J,providerData:ie,stsTokenManager:C}=n;ht(D&&C,e,"internal-error");const A=Mu.fromJSON(this.name,C);ht(typeof D=="string",e,"internal-error"),Xo(v,e.name),Xo(w,e.name),ht(typeof W=="boolean",e,"internal-error"),ht(typeof J=="boolean",e,"internal-error"),Xo(g,e.name),Xo(L,e.name),Xo(T,e.name),Xo(j,e.name),Xo(_,e.name),Xo(S,e.name);const O=new so({uid:D,auth:e,email:w,emailVerified:W,displayName:v,isAnonymous:J,photoURL:L,phoneNumber:g,tenantId:T,stsTokenManager:A,createdAt:_,lastLoginAt:S});return ie&&Array.isArray(ie)&&(O.providerData=ie.map(B=>Object.assign({},B))),j&&(O._redirectEventId=j),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mu;i.updateFromServerResponse(n);const s=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ht(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?p3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Mu;a.updateFromIdToken(r);const l=new so({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Map;function oo(t){vo(t instanceof Function,"Expected a class definition");let e=D5.get(t);return e?(vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m3.type="NONE";const O5=m3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?so._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fu(oo(O5),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||oo(O5);const o=Sf(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const p=await h._get(o);if(p){const v=so._fromJSON(e,p);h!==s&&(a=v),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Fu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b3(e))return"Blackberry";if(E3(e))return"Webos";if(v3(e))return"Safari";if((e.includes("chrome/")||y3(e))&&!e.includes("edge/"))return"Chrome";if(_3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function g3(t=Er()){return/firefox\//i.test(t)}function v3(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y3(t=Er()){return/crios\//i.test(t)}function w3(t=Er()){return/iemobile/i.test(t)}function _3(t=Er()){return/android/i.test(t)}function b3(t=Er()){return/blackberry/i.test(t)}function E3(t=Er()){return/webos/i.test(t)}function D2(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MP(t=Er()){var e;return D2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FP(){return lT()&&document.documentMode===10}function S3(t=Er()){return D2(t)||_3(t)||E3(t)||b3(t)||/windows phone/i.test(t)||w3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e=[]){let n;switch(t){case"Browser":n=M5(Er());break;case"Worker":n=`${M5(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e={}){return gc(t,"GET","/v2/passwordPolicy",C2(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=6;class BP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F5(this),this.idTokenSubscription=new F5(this),this.beforeStateQueue=new jP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await f3(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ha(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(yl(this));const n=e?Ns(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VP(this),n=new BP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oo(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_P(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function O2(t){return Ns(t)}class F5{constructor(e){this.auth=e,this.observer=null,this.addObserver=gT(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qP(t){M2=t}function $P(t){return M2.loadJS(t)}function HP(){return M2.gapiScript}function WP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){const n=Q1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rp(s,e??{}))return i;go(i,"already-initialized")}return n.initialize({options:e})}function KP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YP(t,e,n){const r=O2(t);ht(r._canInitEmulator,r,"emulator-config-failed"),ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=x3(e),{host:o,port:a}=QP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),XP()}function x3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QP(t){const e=x3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:j5(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:j5(o)}}}function j5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,n){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e){return IP(t,"POST","/v1/accounts:signInWithIdp",C2(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="http://localhost";class kl extends I3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):go("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=k2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new kl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ju(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ju(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ju(e,n)}buildRequest(){const e={requestUri:JP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends T3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends td{constructor(){super("facebook.com")}static credential(e){return kl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oa.credential(n,r)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends td{constructor(){super("github.com")}static credential(e){return kl._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends td{constructor(){super("twitter.com")}static credential(e,n){return kl._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return la.credential(n,r)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await so._fromIdTokenResponse(e,r,i),o=V5(r);return new oc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=V5(r);return new oc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function V5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends wo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fp(e,n,r,i)}}function N3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,s,e,r):s})}async function ZP(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e,n=!1){const{auth:r}=t;if(ha(r.app))return Promise.reject(yl(r));const i="reauthenticate";try{const s=await Fh(t,N3(r,i,e,t),n);ht(s.idToken,r,"internal-error");const o=R2(s.idToken);ht(o,r,"internal-error");const{sub:a}=o;return ht(t.uid===a,r,"user-mismatch"),oc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&go(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e,n=!1){if(ha(t.app))return Promise.reject(yl(t));const r="signIn",i=await N3(t,r,e),s=await oc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function nL(t,e,n,r){return Ns(t).onIdTokenChanged(e,n,r)}function rL(t,e,n){return Ns(t).beforeAuthStateChanged(e,n)}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=1e3,sL=10;class P3 extends k3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);FP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P3.type="LOCAL";const oL=P3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3 extends k3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L3.type="SESSION";const C3=L3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await aL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=F2("",20);i.port1.start();const p=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(p),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function uL(t){Is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function cL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dL(){return R3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="firebaseLocalStorageDb",fL=1,mp="firebaseLocalStorage",O3="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function pL(){const t=indexedDB.deleteDatabase(D3);return new nd(t).toPromise()}function Fg(){const t=indexedDB.open(D3,fL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mp,{keyPath:O3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mp)?e(r):(r.close(),await pL(),e(await Fg()))})})}async function U5(t,e,n){const r=Kp(t,!0).put({[O3]:e,value:n});return new nd(r).toPromise()}async function mL(t,e){const n=Kp(t,!1).get(e),r=await new nd(n).toPromise();return r===void 0?null:r.value}function B5(t,e){const n=Kp(t,!0).delete(e);return new nd(n).toPromise()}const gL=800,vL=3;class M3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(dL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cL(),!this.activeServiceWorker)return;this.sender=new lL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await U5(e,pp,"1"),await B5(e,pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kp(i,!1).getAll();return new nd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M3.type="LOCAL";const yL=M3;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){return e?oo(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends I3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ju(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ju(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ju(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _L(t){return tL(t.auth,new j2(t),t.bypassAuthState)}function bL(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),eL(n,new j2(t),t.bypassAuthState)}async function EL(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),ZP(n,new j2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _L;case"linkViaPopup":case"linkViaRedirect":return EL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:go(this.auth,"internal-error")}}resolve(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new ed(2e3,1e4);class Au extends F3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Au.currentPopupAction&&Au.currentPopupAction.cancel(),Au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){vo(this.filter.length===1,"Popup operations only handle one event");const e=F2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Au.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SL.get())};e()}}Au.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="pendingRedirect",Af=new Map;class xL extends F3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await IL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IL(t,e){const n=kL(e),r=NL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TL(t,e){Af.set(t._key(),e)}function NL(t){return oo(t._redirectPersistence)}function kL(t){return Sf(AL,t.config.apiKey,t.name)}async function PL(t,e,n=!1){if(ha(t.app))return Promise.reject(yl(t));const r=O2(t),i=wL(r,e),o=await new xL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=10*60*1e3;class CL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!j3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LL&&this.cachedEventUids.clear(),this.cachedEventUids.has(z5(e))}saveEventToCache(e){this.cachedEventUids.add(z5(e)),this.lastProcessedEventTime=Date.now()}}function z5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e={}){return gc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ML=/^https?/;async function FL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DL(t);for(const n of e)try{if(jL(n))return}catch{}go(t,"unauthorized-domain")}function jL(t){const e=Og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ML.test(n))return!1;if(OL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new ed(3e4,6e4);function q5(){const t=Is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UL(t){return new Promise((e,n)=>{var r,i,s;function o(){q5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q5(),n(xs(t,"network-request-failed"))},timeout:VL.get()})}if(!((i=(r=Is().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Is().gapi)===null||s===void 0)&&s.load)o();else{const a=WP("iframefcb");return Is()[a]=()=>{gapi.load?o():n(xs(t,"network-request-failed"))},$P(`${HP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xf=null,e})}let xf=null;function BL(t){return xf=xf||UL(t),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new ed(5e3,15e3),qL="__/auth/iframe",$L="emulator/auth/iframe",HL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GL(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L2(e,$L):`https://${t.config.authDomain}/${qL}`,r={apiKey:e.apiKey,appName:t.name,v:hc},i=WL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gh(r).slice(1)}`}async function KL(t){const e=await BL(t),n=Is().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:GL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xs(t,"network-request-failed"),a=Is().setTimeout(()=>{s(o)},zL.get());function l(){Is().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QL=500,XL=600,JL="_blank",ZL="http://localhost";class $5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eC(t,e,n,r=QL,i=XL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YL),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Er().toLowerCase();n&&(a=y3(h)?JL:n),g3(h)&&(e=e||ZL,l.scrollbars="yes");const p=Object.entries(l).reduce((w,[g,L])=>`${w}${g}=${L},`,"");if(MP(h)&&a!=="_self")return tC(e||"",a),new $5(null);const v=window.open(e||"",a,p);ht(v,t,"popup-blocked");try{v.focus()}catch{}return new $5(v)}function tC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="__/auth/handler",rC="emulator/auth/handler",iC=encodeURIComponent("fac");async function H5(t,e,n,r,i,s){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hc,eventId:i};if(e instanceof T3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))o[p]=v}if(e instanceof td){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const p of Object.keys(a))a[p]===void 0&&delete a[p];const l=await t._getAppCheckToken(),h=l?`#${iC}=${encodeURIComponent(l)}`:"";return`${sC(t)}?${Gh(a).slice(1)}${h}`}function sC({config:t}){return t.emulator?L2(t,rC):`https://${t.authDomain}/${nC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class oC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C3,this._completeRedirectFn=PL,this._overrideRedirectResult=TL}async _openPopup(e,n,r,i){var s;vo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await H5(e,n,r,Og(),i);return eC(e,o,F2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await H5(e,n,r,Og(),i);return uL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KL(e),r=new CL(e);return n.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tm];o!==void 0&&n(!!o),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S3()||v3()||D2()}}const aC=oC;var W5="@firebase/auth",G5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cC(t){Qu(new xl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A3(t)},h=new zP(r,i,s,l);return KP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qu(new xl("auth-internal",e=>{const n=O2(e.getProvider("auth").getImmediate());return(r=>new lC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xa(W5,G5,uC(t)),xa(W5,G5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=5*60,dC=K4("authIdTokenMaxAge")||hC;let K5=null;const fC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dC)return;const i=n==null?void 0:n.token;K5!==i&&(K5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pC(t=J4()){const e=Q1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GP(t,{popupRedirectResolver:aC,persistence:[yL,oL,C3]}),r=K4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fC(s.toString());rL(n,o,()=>o(n.currentUser)),nL(n,a=>o(a))}}const i=W4("auth");return i&&YP(n,`http://${i}`),n}function mC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cC("Browser");const gC={apiKey:"AIzaSyB8lZHA30-3jE--U7n-luYPZkdCl82pO6g",authDomain:"shedr-2ea24.firebaseapp.com",databaseURL:"https://shedr-2ea24-default-rtdb.firebaseio.com",projectId:"shedr-2ea24",storageBucket:"shedr-2ea24.firebasestorage.app",messagingSenderId:"1001426454469",appId:"1:1001426454469:web:e89af88ecf73b6880aadac",measurementId:"G-RRPBN59DJS"},V3=X4(gC);pC(V3);const ac=Jk(V3);function vC(){const[t,e]=Ve.useState(""),[n,r]=Ve.useState([]),[i,s]=Ve.useState([]),[o,a]=Ve.useState(null),[l,h]=Ve.useState(null),[p,v]=Ve.useState(""),[w,g]=Ve.useState(!1);Ve.useEffect(()=>{(async()=>{try{const _=(await sc(rc(ac,"suburbs"))).docs.map(S=>({id:S.id,...S.data()}));r(_)}catch(j){console.error("Error fetching suburbs:",j),bi.error("Error loading suburbs")}})()},[]),Ve.useEffect(()=>{if(t){const T=n.filter(j=>j.name.toLowerCase().includes(t.toLowerCase())).slice(0,5);s(T)}else s([])},[t,n]),Ve.useEffect(()=>{if(l){const T=setInterval(()=>{const j=new Date,_=new Date,[S,D]=l.endTime.split(":");if(_.setHours(parseInt(S),parseInt(D),0),j>_){h(null),v("");return}const W=_.getTime()-j.getTime(),J=Math.floor(W/1e3/60),ie=Math.floor(J/60),C=J%60;v(`${ie>0?`${ie}h `:""}${C}m remaining`)},1e3);return()=>clearInterval(T)}},[l]);const L=async T=>{g(!0);try{const j=new Date,_=j.toLocaleDateString("en-US",{weekday:"long"}),S=j.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),D=rc(ac,"schedules"),W=I2(D,T2("suburbId","==",T.id)),J=await sc(W);let ie=null;J.forEach(C=>{C.data().sessions.forEach(O=>{O.day===_&&O.startTime<=S&&O.endTime>S&&(ie={id:C.id,...O,suburbId:T.id})})}),h(ie),a(T)}catch(j){console.error("Error checking schedule:",j),bi.error("Error checking schedule")}g(!1)};return Z.jsxs("div",{className:"max-w-2xl mx-auto",children:[Z.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Your Suburb"}),Z.jsxs("div",{className:"relative",children:[Z.jsx(Lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),Z.jsx("input",{type:"text",placeholder:"Enter suburb name...",value:t,onChange:T=>e(T.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),i.length>0&&Z.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:i.map(T=>Z.jsxs("button",{onClick:()=>{L(T),e(T.name),s([])},className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[Z.jsx(hg,{className:"h-4 w-4 text-blue-500"}),Z.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:T.name})]},T.id))})]})}),w&&Z.jsxs("div",{className:"text-center py-8",children:[Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),Z.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Checking schedule..."})]}),!w&&o&&Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[Z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx(hg,{className:"h-5 w-5 text-blue-500"}),Z.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o.name})]}),Z.jsx(z4,{className:"h-5 w-5 text-gray-400"})]}),l?Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/30 rounded-lg",children:[Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx(W1,{className:"h-5 w-5 text-red-500"}),Z.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"Load Shedding Active"})]}),Z.jsxs("span",{className:"text-sm font-medium text-red-500",children:["Level ",l.level]})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[Z.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Start Time"}),Z.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.startTime})]}),Z.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[Z.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"End Time"}),Z.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.endTime})]})]}),Z.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[Z.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Time Remaining"}),Z.jsx("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:p})]})]}):Z.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg",children:Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),Z.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"No Load Shedding Currently Active"})]})})]})]})}const yC="modulepreload",wC=function(t){return"/"+t},Y5={},jg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=wC(l),l in Y5)return;Y5[l]=!0;const h=l.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":yC,h||(v.as="script"),v.crossOrigin="",v.href=l,a&&v.setAttribute("nonce",a),document.head.appendChild(v),h)return new Promise((w,g)=>{v.addEventListener("load",w),v.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function qt(t){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(t)}var _r=Uint8Array,oi=Uint16Array,V2=Int32Array,Yp=new _r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qp=new _r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vg=new _r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U3=function(t,e){for(var n=new oi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new V2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},B3=U3(Yp,2),z3=B3.b,Ug=B3.r;z3[28]=258,Ug[258]=28;var q3=U3(Qp,0),_C=q3.b,Q5=q3.r,Bg=new oi(32768);for(var sn=0;sn<32768;++sn){var Jo=(sn&43690)>>1|(sn&21845)<<1;Jo=(Jo&52428)>>2|(Jo&13107)<<2,Jo=(Jo&61680)>>4|(Jo&3855)<<4,Bg[sn]=((Jo&65280)>>8|(Jo&255)<<8)>>1}var Ts=function(t,e,n){for(var r=t.length,i=0,s=new oi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new oi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new oi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],p=e-t[i],v=o[t[i]-1]++<<p,w=v|(1<<p)-1;v<=w;++v)a[Bg[v]>>l]=h}else for(a=new oi(r),i=0;i<r;++i)t[i]&&(a[i]=Bg[o[t[i]-1]++]>>15-t[i]);return a},La=new _r(288);for(var sn=0;sn<144;++sn)La[sn]=8;for(var sn=144;sn<256;++sn)La[sn]=9;for(var sn=256;sn<280;++sn)La[sn]=7;for(var sn=280;sn<288;++sn)La[sn]=8;var jh=new _r(32);for(var sn=0;sn<32;++sn)jh[sn]=5;var bC=Ts(La,9,0),EC=Ts(La,9,1),SC=Ts(jh,5,0),AC=Ts(jh,5,1),nm=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Bi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},rm=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},U2=function(t){return(t+7)/8|0},$3=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new _r(t.subarray(e,n))},xC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Hi=function(t,e,n){var r=new Error(e||xC[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Hi),!n)throw r;return r},IC=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new _r(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new _r(i*3));var h=function(Ie){var Me=n.length;if(Ie>Me){var Fe=new _r(Math.max(Me*2,Ie));Fe.set(n),n=Fe}},p=e.f||0,v=e.p||0,w=e.b||0,g=e.l,L=e.d,T=e.m,j=e.n,_=i*8;do{if(!g){p=Bi(t,v,1);var S=Bi(t,v+1,3);if(v+=3,S)if(S==1)g=EC,L=AC,T=9,j=5;else if(S==2){var ie=Bi(t,v,31)+257,C=Bi(t,v+10,15)+4,A=ie+Bi(t,v+5,31)+1;v+=14;for(var O=new _r(A),B=new _r(19),x=0;x<C;++x)B[Vg[x]]=Bi(t,v+x*3,7);v+=C*3;for(var I=nm(B),N=(1<<I)-1,Q=Ts(B,I,1),x=0;x<A;){var ye=Q[Bi(t,v,N)];v+=ye&15;var D=ye>>4;if(D<16)O[x++]=D;else{var ve=0,we=0;for(D==16?(we=3+Bi(t,v,3),v+=2,ve=O[x-1]):D==17?(we=3+Bi(t,v,7),v+=3):D==18&&(we=11+Bi(t,v,127),v+=7);we--;)O[x++]=ve}}var X=O.subarray(0,ie),ce=O.subarray(ie);T=nm(X),j=nm(ce),g=Ts(X,T,1),L=Ts(ce,j,1)}else Hi(1);else{var D=U2(v)+4,W=t[D-4]|t[D-3]<<8,J=D+W;if(J>i){l&&Hi(0);break}a&&h(w+W),n.set(t.subarray(D,J),w),e.b=w+=W,e.p=v=J*8,e.f=p;continue}if(v>_){l&&Hi(0);break}}a&&h(w+131072);for(var de=(1<<T)-1,Le=(1<<j)-1,R=v;;R=v){var ve=g[rm(t,v)&de],$=ve>>4;if(v+=ve&15,v>_){l&&Hi(0);break}if(ve||Hi(2),$<256)n[w++]=$;else if($==256){R=v,g=null;break}else{var q=$-254;if($>264){var x=$-257,K=Yp[x];q=Bi(t,v,(1<<K)-1)+z3[x],v+=K}var ee=L[rm(t,v)&Le],oe=ee>>4;ee||Hi(3),v+=ee&15;var ce=_C[oe];if(oe>3){var K=Qp[oe];ce+=rm(t,v)&(1<<K)-1,v+=K}if(v>_){l&&Hi(0);break}a&&h(w+131072);var he=w+q;if(w<ce){var fe=s-ce,Te=Math.min(ce,he);for(fe+w<0&&Hi(3);w<Te;++w)n[w]=r[fe+w]}for(;w<he;++w)n[w]=n[w-ce]}}e.l=g,e.p=R,e.b=w,e.f=p,g&&(p=1,e.m=T,e.d=L,e.n=j)}while(!p);return w!=n.length&&o?$3(n,0,w):n.subarray(0,w)},Qs=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},$c=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},im=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:W3,l:0};if(i==1){var o=new _r(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(J,ie){return J.f-ie.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,p=1,v=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};p!=i-1;)a=n[n[h].f<n[v].f?h++:v++],l=n[h!=p&&n[h].f<n[v].f?h++:v++],n[p++]={s:-1,f:a.f+l.f,l:a,r:l};for(var w=s[0].s,r=1;r<i;++r)s[r].s>w&&(w=s[r].s);var g=new oi(w+1),L=zg(n[p-1],g,0);if(L>e){var r=0,T=0,j=L-e,_=1<<j;for(s.sort(function(ie,C){return g[C.s]-g[ie.s]||ie.f-C.f});r<i;++r){var S=s[r].s;if(g[S]>e)T+=_-(1<<L-g[S]),g[S]=e;else break}for(T>>=j;T>0;){var D=s[r].s;g[D]<e?T-=1<<e-g[D]++-1:++r}for(;r>=0&&T;--r){var W=s[r].s;g[W]==e&&(--g[W],++T)}L=e}return{t:new _r(g),l:L}},zg=function(t,e,n){return t.s==-1?Math.max(zg(t.l,e,n+1),zg(t.r,e,n+1)):e[t.s]=n},X5=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new oi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Hc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},H3=function(t,e,n){var r=n.length,i=U2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},J5=function(t,e,n,r,i,s,o,a,l,h,p){Qs(e,p++,n),++i[256];for(var v=im(i,15),w=v.t,g=v.l,L=im(s,15),T=L.t,j=L.l,_=X5(w),S=_.c,D=_.n,W=X5(T),J=W.c,ie=W.n,C=new oi(19),A=0;A<S.length;++A)++C[S[A]&31];for(var A=0;A<J.length;++A)++C[J[A]&31];for(var O=im(C,7),B=O.t,x=O.l,I=19;I>4&&!B[Vg[I-1]];--I);var N=h+5<<3,Q=Hc(i,La)+Hc(s,jh)+o,ye=Hc(i,w)+Hc(s,T)+o+14+3*I+Hc(C,B)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&N<=Q&&N<=ye)return H3(e,p,t.subarray(l,l+h));var ve,we,X,ce;if(Qs(e,p,1+(ye<Q)),p+=2,ye<Q){ve=Ts(w,g,0),we=w,X=Ts(T,j,0),ce=T;var de=Ts(B,x,0);Qs(e,p,D-257),Qs(e,p+5,ie-1),Qs(e,p+10,I-4),p+=14;for(var A=0;A<I;++A)Qs(e,p+3*A,B[Vg[A]]);p+=3*I;for(var Le=[S,J],R=0;R<2;++R)for(var $=Le[R],A=0;A<$.length;++A){var q=$[A]&31;Qs(e,p,de[q]),p+=B[q],q>15&&(Qs(e,p,$[A]>>5&127),p+=$[A]>>12)}}else ve=bC,we=La,X=SC,ce=jh;for(var A=0;A<a;++A){var K=r[A];if(K>255){var q=K>>18&31;$c(e,p,ve[q+257]),p+=we[q+257],q>7&&(Qs(e,p,K>>23&31),p+=Yp[q]);var ee=K&31;$c(e,p,X[ee]),p+=ce[ee],ee>3&&($c(e,p,K>>5&8191),p+=Qp[ee])}else $c(e,p,ve[K]),p+=we[K]}return $c(e,p,ve[256]),p+we[256]},TC=new V2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W3=new _r(0),NC=function(t,e,n,r,i,s){var o=s.z||t.length,a=new _r(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),h=s.l,p=(s.r||0)&7;if(e){p&&(l[0]=s.r>>3);for(var v=TC[e-1],w=v>>13,g=v&8191,L=(1<<n)-1,T=s.p||new oi(32768),j=s.h||new oi(L+1),_=Math.ceil(n/3),S=2*_,D=function(et){return(t[et]^t[et+1]<<_^t[et+2]<<S)&L},W=new V2(25e3),J=new oi(288),ie=new oi(32),C=0,A=0,O=s.i||0,B=0,x=s.w||0,I=0;O+2<o;++O){var N=D(O),Q=O&32767,ye=j[N];if(T[Q]=ye,j[N]=Q,x<=O){var ve=o-O;if((C>7e3||B>24576)&&(ve>423||!h)){p=J5(t,l,0,W,J,ie,A,B,I,O-I,p),B=C=A=0,I=O;for(var we=0;we<286;++we)J[we]=0;for(var we=0;we<30;++we)ie[we]=0}var X=2,ce=0,de=g,Le=Q-ye&32767;if(ve>2&&N==D(O-Le))for(var R=Math.min(w,ve)-1,$=Math.min(32767,O),q=Math.min(258,ve);Le<=$&&--de&&Q!=ye;){if(t[O+X]==t[O+X-Le]){for(var K=0;K<q&&t[O+K]==t[O+K-Le];++K);if(K>X){if(X=K,ce=Le,K>R)break;for(var ee=Math.min(Le,K-2),oe=0,we=0;we<ee;++we){var he=O-Le+we&32767,fe=T[he],Te=he-fe&32767;Te>oe&&(oe=Te,ye=he)}}}Q=ye,ye=T[Q],Le+=Q-ye&32767}if(ce){W[B++]=268435456|Ug[X]<<18|Q5[ce];var Ie=Ug[X]&31,Me=Q5[ce]&31;A+=Yp[Ie]+Qp[Me],++J[257+Ie],++ie[Me],x=O+X,++C}else W[B++]=t[O],++J[t[O]]}}for(O=Math.max(O,x);O<o;++O)W[B++]=t[O],++J[t[O]];p=J5(t,l,h,W,J,ie,A,B,I,O-I,p),h||(s.r=p&7|l[p/8|0]<<3,p-=7,s.h=j,s.p=T,s.i=O,s.w=x)}else{for(var O=s.w||0;O<o+h;O+=65535){var Fe=O+65535;Fe>=o&&(l[p/8|0]=h,Fe=o),p=H3(l,p+1,t.subarray(O,Fe))}s.i=o}return $3(a,0,r+U2(p)+i)},G3=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kC=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new _r(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return NC(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},K3=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},PC=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=G3();i.p(e.dictionary),K3(t,2,i.d())}},LC=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Hi(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Hi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function qg(t,e){e||(e={});var n=G3();n.p(t);var r=kC(t,e,e.dictionary?6:2,4);return PC(r,e),K3(r,r.length-4,n.d()),r}function CC(t,e){return IC(t.subarray(LC(t,e),-4),{i:2},e,e)}var RC=typeof TextDecoder<"u"&&new TextDecoder,DC=0;try{RC.decode(W3,{stream:!0}),DC=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function sm(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Kt={log:sm,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):sm.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):sm(t))}};function om(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ol(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function Z5(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Jd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fh,$g,ol=lt.saveAs||((typeof window>"u"?"undefined":qt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Z5(i.href)?om(t,e,n):Jd(i,i.target="_blank"):Jd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Jd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Z5(t))om(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Jd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:qt(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return om(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":qt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var p=a.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},a.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function am(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=dr(n,r,i,s,e[0],7,-680876936),s=dr(s,n,r,i,e[1],12,-389564586),i=dr(i,s,n,r,e[2],17,606105819),r=dr(r,i,s,n,e[3],22,-1044525330),n=dr(n,r,i,s,e[4],7,-176418897),s=dr(s,n,r,i,e[5],12,1200080426),i=dr(i,s,n,r,e[6],17,-1473231341),r=dr(r,i,s,n,e[7],22,-45705983),n=dr(n,r,i,s,e[8],7,1770035416),s=dr(s,n,r,i,e[9],12,-1958414417),i=dr(i,s,n,r,e[10],17,-42063),r=dr(r,i,s,n,e[11],22,-1990404162),n=dr(n,r,i,s,e[12],7,1804603682),s=dr(s,n,r,i,e[13],12,-40341101),i=dr(i,s,n,r,e[14],17,-1502002290),n=fr(n,r=dr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=fr(s,n,r,i,e[6],9,-1069501632),i=fr(i,s,n,r,e[11],14,643717713),r=fr(r,i,s,n,e[0],20,-373897302),n=fr(n,r,i,s,e[5],5,-701558691),s=fr(s,n,r,i,e[10],9,38016083),i=fr(i,s,n,r,e[15],14,-660478335),r=fr(r,i,s,n,e[4],20,-405537848),n=fr(n,r,i,s,e[9],5,568446438),s=fr(s,n,r,i,e[14],9,-1019803690),i=fr(i,s,n,r,e[3],14,-187363961),r=fr(r,i,s,n,e[8],20,1163531501),n=fr(n,r,i,s,e[13],5,-1444681467),s=fr(s,n,r,i,e[2],9,-51403784),i=fr(i,s,n,r,e[7],14,1735328473),n=pr(n,r=fr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=pr(s,n,r,i,e[8],11,-2022574463),i=pr(i,s,n,r,e[11],16,1839030562),r=pr(r,i,s,n,e[14],23,-35309556),n=pr(n,r,i,s,e[1],4,-1530992060),s=pr(s,n,r,i,e[4],11,1272893353),i=pr(i,s,n,r,e[7],16,-155497632),r=pr(r,i,s,n,e[10],23,-1094730640),n=pr(n,r,i,s,e[13],4,681279174),s=pr(s,n,r,i,e[0],11,-358537222),i=pr(i,s,n,r,e[3],16,-722521979),r=pr(r,i,s,n,e[6],23,76029189),n=pr(n,r,i,s,e[9],4,-640364487),s=pr(s,n,r,i,e[12],11,-421815835),i=pr(i,s,n,r,e[15],16,530742520),n=mr(n,r=pr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=mr(s,n,r,i,e[7],10,1126891415),i=mr(i,s,n,r,e[14],15,-1416354905),r=mr(r,i,s,n,e[5],21,-57434055),n=mr(n,r,i,s,e[12],6,1700485571),s=mr(s,n,r,i,e[3],10,-1894986606),i=mr(i,s,n,r,e[10],15,-1051523),r=mr(r,i,s,n,e[1],21,-2054922799),n=mr(n,r,i,s,e[8],6,1873313359),s=mr(s,n,r,i,e[15],10,-30611744),i=mr(i,s,n,r,e[6],15,-1560198380),r=mr(r,i,s,n,e[13],21,1309151649),n=mr(n,r,i,s,e[4],6,-145523070),s=mr(s,n,r,i,e[11],10,-1120210379),i=mr(i,s,n,r,e[2],15,718787259),r=mr(r,i,s,n,e[9],21,-343485551),t[0]=pa(n,t[0]),t[1]=pa(r,t[1]),t[2]=pa(i,t[2]),t[3]=pa(s,t[3])}function Xp(t,e,n,r,i,s){return e=pa(pa(e,t),pa(r,s)),pa(e<<i|e>>>32-i,n)}function dr(t,e,n,r,i,s,o){return Xp(e&n|~e&r,t,e,i,s,o)}function fr(t,e,n,r,i,s,o){return Xp(e&r|n&~r,t,e,i,s,o)}function pr(t,e,n,r,i,s,o){return Xp(e^n^r,t,e,i,s,o)}function mr(t,e,n,r,i,s,o){return Xp(n^(e|~r),t,e,i,s,o)}function Q3(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)am(r,OC(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(am(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,am(r,i),r}function OC(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}fh=lt.atob.bind(lt),$g=lt.btoa.bind(lt);var ew="0123456789abcdef".split("");function MC(t){for(var e="",n=0;n<4;n++)e+=ew[t>>8*n+4&15]+ew[t>>8*n&15];return e}function FC(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Hg(t){return Q3(t).map(FC).join("")}var jC=function(t){for(var e=0;e<t.length;e++)t[e]=MC(t[e]);return t.join("")}(Q3("hello"))!="5d41402abc4b2a76b9719d911017c592";function pa(t,e){if(jC){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Wg(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var p=a[l];h=(h+p+o.charCodeAt(l))%256,a[l]=a[h],a[h]=p}n=t,r=a}else a=r;var v=e.length,w=0,g=0,L="";for(l=0;l<v;l++)g=(g+(p=a[w=(w+1)%256]))%256,a[w]=a[g],a[g]=p,o=a[(a[w]+a[g])%256],L+=String.fromCharCode(e.charCodeAt(l)^o);return L}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tw={print:4,modify:8,copy:16,"annot-forms":32};function cu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(tw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=tw[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Hg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Wg(this.encryptionKey,this.padding)}function hu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function nw(t){if(qt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){lt.console&&Kt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gp(t){if(!(this instanceof gp))return new gp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function X3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function al(t,e,n,r,i){if(!(this instanceof al))return new al(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,X3.call(this,r,i)}function xu(t,e,n,r,i){if(!(this instanceof xu))return new xu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,X3.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,h="S",p=null;qt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,w={},g={internal:{},__private__:{}};g.__private__.PubSub=nw;var L="1.3",T=g.__private__.getPdfVersion=function(){return L};g.__private__.setPdfVersion=function(f){L=f};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return j};var _=g.__private__.getPageFormat=function(f){return j[f]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},D=S.COMPAT;function W(){this.saveGraphicsState(),Y(new Ge(He,0,0,-He,0,lr()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),h="n",D=S.ADVANCED}function J(){this.restoreGraphicsState(),h="S",D=S.COMPAT}var ie=g.__private__.combineFontStyleAndFontWeight=function(f,k){if(f=="bold"&&k=="normal"||f=="bold"&&k==400||f=="normal"&&k=="italic"||f=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(f=k==400||k==="normal"?f==="italic"?"italic":"normal":k!=700&&k!=="bold"||f!=="normal"?(k==700?"bold":k)+""+f:"bold"),f};g.advancedAPI=function(f){var k=D===S.COMPAT;return k&&W.call(this),typeof f!="function"||(f(this),k&&J.call(this)),this},g.compatAPI=function(f){var k=D===S.ADVANCED;return k&&J.call(this),typeof f!="function"||(f(this),k&&W.call(this)),this},g.isAdvancedAPI=function(){return D===S.ADVANCED};var C,A=function(f){if(D!==S.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=g.roundToPrecision=g.__private__.roundToPrecision=function(f,k){var G=e||k;if(isNaN(f)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(G).replace(/0+$/,"")};C=g.hpf=g.__private__.hpf=typeof l=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return O(f,l)}:l==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return O(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return O(f,16)};var B=g.f2=g.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return O(f,2)},x=g.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return O(f,3)},I=g.scale=g.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return D===S.COMPAT?f*He:D===S.ADVANCED?f:void 0},N=function(f){return D===S.COMPAT?lr()-f:D===S.ADVANCED?f:void 0},Q=function(f){return I(N(f))};g.__private__.setPrecision=g.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var ye,ve="00000000000000000000000000000000",we=g.__private__.getFileId=function(){return ve},X=g.__private__.setFileId=function(f){return ve=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(nn=new cu(p.userPermissions,p.userPassword,p.ownerPassword,ve)),ve};g.setFileId=function(f){return X(f),this},g.getFileId=function(){return we()};var ce=g.__private__.convertDateToPDFDate=function(f){var k=f.getTimezoneOffset(),G=k<0?"+":"-",te=Math.floor(Math.abs(k/60)),le=Math.abs(k%60),be=[G,q(te),"'",q(le),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),be].join("")},de=g.__private__.convertPDFDateToDate=function(f){var k=parseInt(f.substr(2,4),10),G=parseInt(f.substr(6,2),10)-1,te=parseInt(f.substr(8,2),10),le=parseInt(f.substr(10,2),10),be=parseInt(f.substr(12,2),10),ke=parseInt(f.substr(14,2),10);return new Date(k,G,te,le,be,ke,0)},Le=g.__private__.setCreationDate=function(f){var k;if(f===void 0&&(f=new Date),f instanceof Date)k=ce(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=f}return ye=k},R=g.__private__.getCreationDate=function(f){var k=ye;return f==="jsDate"&&(k=de(ye)),k};g.setCreationDate=function(f){return Le(f),this},g.getCreationDate=function(f){return R(f)};var $,q=g.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},K=g.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},ee=0,oe=[],he=[],fe=0,Te=[],Ie=[],Me=!1,Fe=he,et=function(){ee=0,fe=0,he=[],oe=[],Te=[],ki=fn(),ar=fn()};g.__private__.setCustomOutputDestination=function(f){Me=!0,Fe=f};var Ee=function(f){Me||(Fe=f)};g.__private__.resetCustomOutputDestination=function(){Me=!1,Fe=he};var Y=g.__private__.out=function(f){return f=f.toString(),fe+=f.length+1,Fe.push(f),Fe},dt=g.__private__.write=function(f){return Y(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},Qe=g.__private__.getArrayBuffer=function(f){for(var k=f.length,G=new ArrayBuffer(k),te=new Uint8Array(G);k--;)te[k]=f.charCodeAt(k);return G},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Re};var je=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(f){return je=D===S.ADVANCED?f/He:f,this};var $e,ze=g.__private__.getFontSize=g.getFontSize=function(){return D===S.COMPAT?je:je*He},Ze=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(f){return Ze=f,this},g.__private__.getR2L=g.getR2L=function(){return Ze};var ut,ft=g.__private__.setZoomMode=function(f){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))$e=f;else if(isNaN(f)){if(k.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');$e=f}else $e=parseInt(f,10)};g.__private__.getZoomMode=function(){return $e};var tt,ot=g.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');ut=f};g.__private__.getPageMode=function(){return ut};var kt=g.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');tt=f};g.__private__.getLayoutMode=function(){return tt},g.__private__.setDisplayMode=g.setDisplayMode=function(f,k,G){return ft(f),kt(k),ot(G),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(f){if(Object.keys(it).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[f]},g.__private__.getDocumentProperties=function(){return it},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(f){for(var k in it)it.hasOwnProperty(k)&&f[k]&&(it[k]=f[k]);return this},g.__private__.setDocumentProperty=function(f,k){if(Object.keys(it).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[f]=k};var _t,He,dn,At,Dr,Dt={},Yt={},hi=[],It={},ts={},en={},Kn={},Kr=null,Qt=0,nt=[],Pt=new nw(g),di=t.hotfixes||[],kn={},sr={},Yr=[],Ge=function f(k,G,te,le,be,ke){if(!(this instanceof f))return new f(k,G,te,le,be,ke);isNaN(k)&&(k=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(le)&&(le=1),isNaN(be)&&(be=0),isNaN(ke)&&(ke=0),this._matrix=[k,G,te,le,be,ke]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(f)},Ge.prototype.multiply=function(f){var k=f.sx*this.sx+f.shy*this.shx,G=f.sx*this.shy+f.shy*this.sy,te=f.shx*this.sx+f.sy*this.shx,le=f.shx*this.shy+f.sy*this.sy,be=f.tx*this.sx+f.ty*this.shx+this.tx,ke=f.tx*this.shy+f.ty*this.sy+this.ty;return new Ge(k,G,te,le,be,ke)},Ge.prototype.decompose=function(){var f=this.sx,k=this.shy,G=this.shx,te=this.sy,le=this.tx,be=this.ty,ke=Math.sqrt(f*f+k*k),Be=(f/=ke)*G+(k/=ke)*te;G-=f*Be,te-=k*Be;var c=Math.sqrt(G*G+te*te);return Be/=c,f*(te/=c)<k*(G/=c)&&(f=-f,k=-k,Be=-Be,ke=-ke),{scale:new Ge(ke,0,0,c,0,0),translate:new Ge(1,0,0,1,le,be),rotate:new Ge(f,k,-k,f,0,0),skew:new Ge(1,0,Be,1,0,0)}},Ge.prototype.toString=function(f){return this.join(" ")},Ge.prototype.inversed=function(){var f=this.sx,k=this.shy,G=this.shx,te=this.sy,le=this.tx,be=this.ty,ke=1/(f*te-k*G),Be=te*ke,c=-k*ke,y=-G*ke,E=f*ke;return new Ge(Be,c,y,E,-Be*le-y*be,-c*le-E*be)},Ge.prototype.applyToPoint=function(f){var k=f.x*this.sx+f.y*this.shx+this.tx,G=f.x*this.shy+f.y*this.sy+this.ty;return new Us(k,G)},Ge.prototype.applyToRectangle=function(f){var k=this.applyToPoint(f),G=this.applyToPoint(new Us(f.x+f.w,f.y+f.h));return new Oo(k.x,k.y,G.x-k.x,G.y-k.y)},Ge.prototype.clone=function(){var f=this.sx,k=this.shy,G=this.shx,te=this.sy,le=this.tx,be=this.ty;return new Ge(f,k,G,te,le,be)},g.Matrix=Ge;var Or=g.matrixMult=function(f,k){return k.multiply(f)},or=new Ge(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=or;var Pn=function(f,k){if(!ts[f]){var G=(k instanceof al?"Sh":"P")+(Object.keys(It).length+1).toString(10);k.id=G,ts[f]=G,It[G]=k,Pt.publish("addPattern",k)}};g.ShadingPattern=al,g.TilingPattern=xu,g.addShadingPattern=function(f,k){return A("addShadingPattern()"),Pn(f,k),this},g.beginTilingPattern=function(f){A("beginTilingPattern()"),Mo(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},g.endTilingPattern=function(f,k){A("endTilingPattern()"),k.stream=Ie[$].join(`
`),Pn(f,k),Pt.publish("endTilingPattern",k),Yr.pop().restore()};var wn=g.__private__.newObject=function(){var f=fn();return Ln(f,!0),f},fn=g.__private__.newObjectDeferred=function(){return ee++,oe[ee]=function(){return fe},ee},Ln=function(f,k){return k=typeof k=="boolean"&&k,oe[f]=fe,k&&Y(f+" 0 obj"),f},bo=g.__private__.newAdditionalObject=function(){var f={objId:fn(),content:""};return Te.push(f),f},ki=fn(),ar=fn(),Mr=g.__private__.decodeColorString=function(f){var k=f.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var G=parseFloat(k[0]);k=[G,G,G,"r"]}for(var te="#",le=0;le<3;le++)te+=("0"+Math.floor(255*parseFloat(k[le])).toString(16)).slice(-2);return te},Sr=g.__private__.encodeColorString=function(f){var k;typeof f=="string"&&(f={ch1:f});var G=f.ch1,te=f.ch2,le=f.ch3,be=f.ch4,ke=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Be=new Y3(G);if(Be.ok)G=Be.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var c=parseInt(G.substr(1),16);G=c>>16&255,te=c>>8&255,le=255&c}if(te===void 0||be===void 0&&G===te&&te===le)if(typeof G=="string")k=G+" "+ke[0];else switch(f.precision){case 2:k=B(G/255)+" "+ke[0];break;case 3:default:k=x(G/255)+" "+ke[0]}else if(be===void 0||qt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return k=["1.","1.","1.",ke[1]].join(" ");if(typeof G=="string")k=[G,te,le,ke[1]].join(" ");else switch(f.precision){case 2:k=[B(G/255),B(te/255),B(le/255),ke[1]].join(" ");break;default:case 3:k=[x(G/255),x(te/255),x(le/255),ke[1]].join(" ")}}else if(typeof G=="string")k=[G,te,le,be,ke[2]].join(" ");else switch(f.precision){case 2:k=[B(G),B(te),B(le),B(be),ke[2]].join(" ");break;case 3:default:k=[x(G),x(te),x(le),x(be),ke[2]].join(" ")}return k},Ar=g.__private__.getFilters=function(){return o},_n=g.__private__.putStream=function(f){var k=(f=f||{}).data||"",G=f.filters||Ar(),te=f.alreadyAppliedFilters||[],le=f.addLength1||!1,be=k.length,ke=f.objectId,Be=function(pt){return pt};if(p!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Be=nn.encryptor(ke,0));var c={};G===!0&&(G=["FlateEncode"]);var y=f.additionalKeyValues||[],E=(c=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(k,G):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(c.data.length!==0&&(y.push({key:"Length",value:c.data.length}),le===!0&&y.push({key:"Length1",value:be})),E.length!=0)if(E.split("/").length-1==1)y.push({key:"Filter",value:E});else{y.push({key:"Filter",value:"["+E+"]"});for(var V=0;V<y.length;V+=1)if(y[V].key==="DecodeParms"){for(var ae=[],ge=0;ge<c.reverseChain.split("/").length-1;ge+=1)ae.push("null");ae.push(y[V].value),y[V].value="["+ae.join(" ")+"]"}}Y("<<");for(var Pe=0;Pe<y.length;Pe++)Y("/"+y[Pe].key+" "+y[Pe].value);Y(">>"),c.data.length!==0&&(Y("stream"),Y(Be(c.data)),Y("endstream"))},Qr=g.__private__.putPage=function(f){var k=f.number,G=f.data,te=f.objId,le=f.contentsObjId;Ln(te,!0),Y("<</Type /Page"),Y("/Parent "+f.rootDictionaryObjId+" 0 R"),Y("/Resources "+f.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(C(f.mediaBox.bottomLeftX))+" "+parseFloat(C(f.mediaBox.bottomLeftY))+" "+C(f.mediaBox.topRightX)+" "+C(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&Y("/CropBox ["+C(f.cropBox.bottomLeftX)+" "+C(f.cropBox.bottomLeftY)+" "+C(f.cropBox.topRightX)+" "+C(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&Y("/BleedBox ["+C(f.bleedBox.bottomLeftX)+" "+C(f.bleedBox.bottomLeftY)+" "+C(f.bleedBox.topRightX)+" "+C(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&Y("/TrimBox ["+C(f.trimBox.bottomLeftX)+" "+C(f.trimBox.bottomLeftY)+" "+C(f.trimBox.topRightX)+" "+C(f.trimBox.topRightY)+"]"),f.artBox!==null&&Y("/ArtBox ["+C(f.artBox.bottomLeftX)+" "+C(f.artBox.bottomLeftY)+" "+C(f.artBox.topRightX)+" "+C(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&Y("/UserUnit "+f.userUnit),Pt.publish("putPage",{objId:te,pageContext:nt[k],pageNumber:k,page:G}),Y("/Contents "+le+" 0 R"),Y(">>"),Y("endobj");var be=G.join(`
`);return D===S.ADVANCED&&(be+=`
Q`),Ln(le,!0),_n({data:be,filters:Ar(),objectId:le}),Y("endobj"),te},ns=g.__private__.putPages=function(){var f,k,G=[];for(f=1;f<=Qt;f++)nt[f].objId=fn(),nt[f].contentsObjId=fn();for(f=1;f<=Qt;f++)G.push(Qr({number:f,data:Ie[f],objId:nt[f].objId,contentsObjId:nt[f].contentsObjId,mediaBox:nt[f].mediaBox,cropBox:nt[f].cropBox,bleedBox:nt[f].bleedBox,trimBox:nt[f].trimBox,artBox:nt[f].artBox,userUnit:nt[f].userUnit,rootDictionaryObjId:ki,resourceDictionaryObjId:ar}));Ln(ki,!0),Y("<</Type /Pages");var te="/Kids [";for(k=0;k<Qt;k++)te+=G[k]+" 0 R ";Y(te+"]"),Y("/Count "+Qt),Y(">>"),Y("endobj"),Pt.publish("postPutPages")},rs=function(f){Pt.publish("putFont",{font:f,out:Y,newObject:wn,putStream:_n}),f.isAlreadyPutted!==!0&&(f.objectNumber=wn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+hu(f.postScriptName)),Y("/Subtype /Type1"),typeof f.encoding=="string"&&Y("/Encoding /"+f.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},is=function(){for(var f in Dt)Dt.hasOwnProperty(f)&&(v===!1||v===!0&&w.hasOwnProperty(f))&&rs(Dt[f])},Ls=function(f){f.objectNumber=wn();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[C(f.x),C(f.y),C(f.x+f.width),C(f.y+f.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var G=f.pages[1].join(`
`);_n({data:G,additionalKeyValues:k,objectId:f.objectNumber}),Y("endobj")},Cs=function(){for(var f in kn)kn.hasOwnProperty(f)&&Ls(kn[f])},Dl=function(f,k){var G,te=[],le=1/(k-1);for(G=0;G<1;G+=le)te.push(G);if(te.push(1),f[0].offset!=0){var be={offset:0,color:f[0].color};f.unshift(be)}if(f[f.length-1].offset!=1){var ke={offset:1,color:f[f.length-1].color};f.push(ke)}for(var Be="",c=0,y=0;y<te.length;y++){for(G=te[y];G>f[c+1].offset;)c++;var E=f[c].offset,V=(G-E)/(f[c+1].offset-E),ae=f[c].color,ge=f[c+1].color;Be+=K(Math.round((1-V)*ae[0]+V*ge[0]).toString(16))+K(Math.round((1-V)*ae[1]+V*ge[1]).toString(16))+K(Math.round((1-V)*ae[2]+V*ge[2]).toString(16))}return Be.trim()},Eo=function(f,k){k||(k=21);var G=wn(),te=Dl(f.colors,k),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+k+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_n({data:te,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),Y("endobj"),f.objectNumber=wn(),Y("<< /ShadingType "+f.type),Y("/ColorSpace /DeviceRGB");var be="/Coords ["+C(parseFloat(f.coords[0]))+" "+C(parseFloat(f.coords[1]))+" ";f.type===2?be+=C(parseFloat(f.coords[2]))+" "+C(parseFloat(f.coords[3])):be+=C(parseFloat(f.coords[2]))+" "+C(parseFloat(f.coords[3]))+" "+C(parseFloat(f.coords[4]))+" "+C(parseFloat(f.coords[5])),Y(be+="]"),f.matrix&&Y("/Matrix ["+f.matrix.toString()+"]"),Y("/Function "+G+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ol=function(f,k){var G=fn(),te=wn();k.push({resourcesOid:G,objectOid:te}),f.objectNumber=te;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+f.boundingBox.map(C).join(" ")+"]"}),le.push({key:"XStep",value:C(f.xStep)}),le.push({key:"YStep",value:C(f.yStep)}),le.push({key:"Resources",value:G+" 0 R"}),f.matrix&&le.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),_n({data:f.stream,additionalKeyValues:le,objectId:f.objectNumber}),Y("endobj")},ss=function(f){var k;for(k in It)It.hasOwnProperty(k)&&(It[k]instanceof al?Eo(It[k]):It[k]instanceof xu&&Ol(It[k],f))},os=function(f){for(var k in f.objectNumber=wn(),Y("<<"),f)switch(k){case"opacity":Y("/ca "+B(f[k]));break;case"stroke-opacity":Y("/CA "+B(f[k]))}Y(">>"),Y("endobj")},Pi=function(){var f;for(f in en)en.hasOwnProperty(f)&&os(en[f])},Rs=function(){for(var f in Y("/XObject <<"),kn)kn.hasOwnProperty(f)&&kn[f].objectNumber>=0&&Y("/"+f+" "+kn[f].objectNumber+" 0 R");Pt.publish("putXobjectDict"),Y(">>")},vc=function(){nn.oid=wn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+nn.v),Y("/R "+nn.r),Y("/U <"+nn.toHexString(nn.U)+">"),Y("/O <"+nn.toHexString(nn.O)+">"),Y("/P "+nn.P),Y(">>"),Y("endobj")},Fa=function(){for(var f in Y("/Font <<"),Dt)Dt.hasOwnProperty(f)&&(v===!1||v===!0&&w.hasOwnProperty(f))&&Y("/"+f+" "+Dt[f].objectNumber+" 0 R");Y(">>")},Ml=function(){if(Object.keys(It).length>0){for(var f in Y("/Shading <<"),It)It.hasOwnProperty(f)&&It[f]instanceof al&&It[f].objectNumber>=0&&Y("/"+f+" "+It[f].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),Y(">>")}},Ds=function(f){if(Object.keys(It).length>0){for(var k in Y("/Pattern <<"),It)It.hasOwnProperty(k)&&It[k]instanceof g.TilingPattern&&It[k].objectNumber>=0&&It[k].objectNumber<f&&Y("/"+k+" "+It[k].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),Y(">>")}},ja=function(){if(Object.keys(en).length>0){var f;for(f in Y("/ExtGState <<"),en)en.hasOwnProperty(f)&&en[f].objectNumber>=0&&Y("/"+f+" "+en[f].objectNumber+" 0 R");Pt.publish("putGStateDict"),Y(">>")}},tn=function(f){Ln(f.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fa(),Ml(),Ds(f.objectOid),ja(),Rs(),Y(">>"),Y("endobj")},Va=function(){var f=[];is(),Pi(),Cs(),ss(f),Pt.publish("putResources"),f.forEach(tn),tn({resourcesOid:ar,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources")},Ua=function(){Pt.publish("putAdditionalObjects");for(var f=0;f<Te.length;f++){var k=Te[f];Ln(k.objId,!0),Y(k.content),Y("endobj")}Pt.publish("postPutAdditionalObjects")},Fl=function(f){Yt[f.fontName]=Yt[f.fontName]||{},Yt[f.fontName][f.fontStyle]=f.id},Ba=function(f,k,G,te,le){var be={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:f,fontName:k,fontStyle:G,encoding:te,isStandardFont:le||!1,metadata:{}};return Pt.publish("addFont",{font:be,instance:this}),Dt[be.id]=be,Fl(be),be.id},jl=function(f){for(var k=0,G=Re.length;k<G;k++){var te=Ba.call(this,f[k][0],f[k][1],f[k][2],Re[k][3],!0);v===!1&&(w[te]=!0);var le=f[k][0].split("-");Fl({id:te,fontName:le[0],fontStyle:le[1]||""})}Pt.publish("addFonts",{fonts:Dt,dictionary:Yt})},Fr=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(te){var k=te.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var G="Error in function "+k.split(`
`)[0].split("<")[0]+": "+te.message;if(!lt.console)throw new Error(G);lt.console.error(G,te),lt.alert&&alert(G)}},f.foo.bar=f,f.foo},So=function(f,k){var G,te,le,be,ke,Be,c,y,E;if(le=(k=k||{}).sourceEncoding||"Unicode",ke=k.outputEncoding,(k.autoencode||ke)&&Dt[_t].metadata&&Dt[_t].metadata[le]&&Dt[_t].metadata[le].encoding&&(be=Dt[_t].metadata[le].encoding,!ke&&Dt[_t].encoding&&(ke=Dt[_t].encoding),!ke&&be.codePages&&(ke=be.codePages[0]),typeof ke=="string"&&(ke=be[ke]),ke)){for(c=!1,Be=[],G=0,te=f.length;G<te;G++)(y=ke[f.charCodeAt(G)])?Be.push(String.fromCharCode(y)):Be.push(f[G]),Be[G].charCodeAt(0)>>8&&(c=!0);f=Be.join("")}for(G=f.length;c===void 0&&G!==0;)f.charCodeAt(G-1)>>8&&(c=!0),G--;if(!c)return f;for(Be=k.noBOM?[]:[254,255],G=0,te=f.length;G<te;G++){if((E=(y=f.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Be.push(E),Be.push(y-(E<<8))}return String.fromCharCode.apply(void 0,Be)},pn=g.__private__.pdfEscape=g.pdfEscape=function(f,k){return So(f,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xr=g.__private__.beginPage=function(f){Ie[++Qt]=[],nt[Qt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},za(Qt),Ee(Ie[$])},Os=function(f,k){var G,te,le;switch(n=k||n,typeof f=="string"&&(G=_(f.toLowerCase()),Array.isArray(G)&&(te=G[0],le=G[1])),Array.isArray(f)&&(te=f[0]*He,le=f[1]*He),isNaN(te)&&(te=i[0],le=i[1]),(te>14400||le>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),le=Math.min(14400,le)),i=[te,le],n.substr(0,1)){case"l":le>te&&(i=[le,te]);break;case"p":te>le&&(i=[le,te])}xr(i),Ga(Wa),Y(Yn),Qa!==0&&Y(Qa+" J"),Do!==0&&Y(Do+" j"),Pt.publish("addPage",{pageNumber:Qt})},Ao=function(f){f>0&&f<=Qt&&(Ie.splice(f,1),nt.splice(f,1),Qt--,$>Qt&&($=Qt),this.setPage($))},za=function(f){f>0&&f<=Qt&&($=f)},Ut=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ie.length-1},Ms=function(f,k,G){var te,le=void 0;return G=G||{},f=f!==void 0?f:Dt[_t].fontName,k=k!==void 0?k:Dt[_t].fontStyle,te=f.toLowerCase(),Yt[te]!==void 0&&Yt[te][k]!==void 0?le=Yt[te][k]:Yt[f]!==void 0&&Yt[f][k]!==void 0?le=Yt[f][k]:G.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+f+"', '"+k+"'. Refer to getFontList() for available fonts."),le||G.noFallback||(le=Yt.times[k])==null&&(le=Yt.times.normal),le},Fs=g.__private__.putInfo=function(){var f=wn(),k=function(te){return te};for(var G in p!==null&&(k=nn.encryptor(f,0)),Y("<<"),Y("/Producer ("+pn(k("jsPDF "+at.version))+")"),it)it.hasOwnProperty(G)&&it[G]&&Y("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+pn(k(it[G]))+")");Y("/CreationDate ("+pn(k(ye))+")"),Y(">>"),Y("endobj")},Li=g.__private__.putCatalog=function(f){var k=(f=f||{}).rootDictionaryObjId||ki;switch(wn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+k+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+$e;G.substr(G.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+B($e)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}ut&&Y("/PageMode /"+ut),Pt.publish("putCatalog"),Y(">>"),Y("endobj")},yc=g.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ee+1)),Y("/Root "+ee+" 0 R"),Y("/Info "+(ee-1)+" 0 R"),p!==null&&Y("/Encrypt "+nn.oid+" 0 R"),Y("/ID [ <"+ve+"> <"+ve+"> ]"),Y(">>")},Vl=g.__private__.putHeader=function(){Y("%PDF-"+L),Y("%ºß¬à")},wc=g.__private__.putXRef=function(){var f="0000000000";Y("xref"),Y("0 "+(ee+1)),Y("0000000000 65535 f ");for(var k=1;k<=ee;k++)typeof oe[k]=="function"?Y((f+oe[k]()).slice(-10)+" 00000 n "):oe[k]!==void 0?Y((f+oe[k]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Ci=g.__private__.buildDocument=function(){et(),Ee(he),Pt.publish("buildDocument"),Vl(),ns(),Ua(),Va(),p!==null&&vc(),Fs(),Li();var f=fe;return wc(),yc(),Y("startxref"),Y(""+f),Y("%%EOF"),Ee(Ie[$]),he.join(`
`)},xo=g.__private__.getBlob=function(f){return new Blob([Qe(f)],{type:"application/pdf"})},Io=g.output=g.__private__.output=Fr(function(f,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",f){case void 0:return Ci();case"save":g.save(k.filename);break;case"arraybuffer":return Qe(Ci());case"blob":return xo(Ci());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(xo(Ci()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=Ci();try{G=$g(te)}catch{G=$g(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+k.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(le=k.pdfObjectUrl,be="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",Be=lt.open();return Be!==null&&Be.document.write(ke),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',y=lt.open();if(y!==null){y.document.write(c);var E=this;y.document.documentElement.querySelector("#pdfViewer").onload=function(){y.document.title=k.filename,y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(E.output("bloburl"))}}return y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',ae=lt.open();if(ae!==null&&(ae.document.write(V),ae.document.title=k.filename),ae||typeof safari>"u")return ae;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",k);default:return null}}),as=function(f){return Array.isArray(di)===!0&&di.indexOf(f)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var nn=null;Le(),X();var Ul=function(f){return p!==null?nn.encryptor(f,0):function(k){return k}},qa=g.__private__.getPageInfo=g.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[f].objId,pageNumber:f,pageContext:nt[f]}},ct=g.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in nt)if(nt[k].objId===f)break;return qa(k)},ls=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:nt[$].objId,pageNumber:$,pageContext:nt[$]}};g.addPage=function(){return Os.apply(this,arguments),this},g.setPage=function(){return za.apply(this,arguments),Ee.call(this,Ie[$]),this},g.insertPage=function(f){return this.addPage(),this.movePage($,f),this},g.movePage=function(f,k){var G,te;if(f>k){G=Ie[f],te=nt[f];for(var le=f;le>k;le--)Ie[le]=Ie[le-1],nt[le]=nt[le-1];Ie[k]=G,nt[k]=te,this.setPage(k)}else if(f<k){G=Ie[f],te=nt[f];for(var be=f;be<k;be++)Ie[be]=Ie[be+1],nt[be]=nt[be+1];Ie[k]=G,nt[k]=te,this.setPage(k)}return this},g.deletePage=function(){return Ao.apply(this,arguments),this},g.__private__.text=g.text=function(f,k,G,te,le){var be,ke,Be,c,y,E,V,ae,ge,Pe=(te=te||{}).scope||this;if(typeof f=="number"&&typeof k=="number"&&(typeof G=="string"||Array.isArray(G))){var pt=G;G=k,k=f,f=pt}if(arguments[3]instanceof Ge?(A("The transform parameter of text() with a Matrix value"),ge=le):(Be=arguments[4],c=arguments[5],qt(V=arguments[3])==="object"&&V!==null||(typeof Be=="string"&&(c=Be,Be=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(Be=V,V=null),te={flags:V,angle:Be,align:c})),isNaN(k)||isNaN(G)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return Pe;var Et="",mt=!1,Vt=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:jt,Wt=Pe.internal.scaleFactor;function Fi(Xt){return Xt=Xt.split("	").join(Array(te.TabLen||9).join(" ")),pn(Xt,V)}function Qn(Xt){for(var Jt,En=Xt.concat(),jn=[],Hs=En.length;Hs--;)typeof(Jt=En.shift())=="string"?jn.push(Jt):Array.isArray(Xt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?jn.push(Jt[0]):jn.push([Jt[0],Jt[1],Jt[2]]);return jn}function ds(Xt,Jt){var En;if(typeof Xt=="string")En=Jt(Xt)[0];else if(Array.isArray(Xt)){for(var jn,Hs,Nc=Xt.concat(),Zl=[],ad=Nc.length;ad--;)typeof(jn=Nc.shift())=="string"?Zl.push(Jt(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(Hs=Jt(jn[0],jn[1],jn[2]),Zl.push([Hs[0],Hs[1],Hs[2]]));En=Zl}return En}var fs=!1,bc=!0;if(typeof f=="string")fs=!0;else if(Array.isArray(f)){var Ec=f.concat();ke=[];for(var Hl,Xn=Ec.length;Xn--;)(typeof(Hl=Ec.shift())!="string"||Array.isArray(Hl)&&typeof Hl[0]!="string")&&(bc=!1);fs=bc}if(fs===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Wl=je/Pe.internal.scaleFactor,Gl=Wl*(Vt-1);switch(te.baseline){case"bottom":G-=Gl;break;case"top":G+=Wl-Gl;break;case"hanging":G+=Wl-2*Gl;break;case"middle":G+=Wl/2-Gl}if((E=te.maxWidth||0)>0&&(typeof f=="string"?f=Pe.splitTextToSize(f,E):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Xt,Jt){return Xt.concat(Pe.splitTextToSize(Jt,E))},[]))),be={text:f,x:k,y:G,options:te,mutex:{pdfEscape:pn,activeFontKey:_t,fonts:Dt,activeFontSize:je}},Pt.publish("preProcessText",be),f=be.text,Be=(te=be.options).angle,!(ge instanceof Ge)&&Be&&typeof Be=="number"){Be*=Math.PI/180,te.rotationDirection===0&&(Be=-Be),D===S.ADVANCED&&(Be=-Be);var Kl=Math.cos(Be),Sc=Math.sin(Be);ge=new Ge(Kl,Sc,-Sc,Kl,0,0)}else Be&&Be instanceof Ge&&(ge=Be);D!==S.ADVANCED||ge||(ge=or),(y=te.charSpace||Vs)!==void 0&&(Et+=C(I(y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ae=te.horizontalScale)!==void 0&&(Et+=C(100*ae)+` Tz
`),te.lang;var jr=-1,e0=te.renderingMode!==void 0?te.renderingMode:te.stroke,Ac=Pe.internal.getCurrentPageInfo().pageContext;switch(e0){case 0:case!1:case"fill":jr=0;break;case 1:case!0:case"stroke":jr=1;break;case 2:case"fillThenStroke":jr=2;break;case 3:case"invisible":jr=3;break;case 4:case"fillAndAddForClipping":jr=4;break;case 5:case"strokeAndAddPathForClipping":jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jr=6;break;case 7:case"addToPathForClipping":jr=7}var rd=Ac.usedRenderingMode!==void 0?Ac.usedRenderingMode:-1;jr!==-1?Et+=jr+` Tr
`:rd!==-1&&(Et+=`0 Tr
`),jr!==-1&&(Ac.usedRenderingMode=jr),c=te.align||"left";var pi,Yl=je*Vt,id=Pe.internal.pageSize.getWidth(),sd=Dt[_t];y=te.charSpace||Vs,E=te.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Vo=[],Xa=function(Xt){return Pe.getStringUnitWidth(Xt,{font:sd,charSpace:y,fontSize:je,doKerning:!1})*je/Wt};if(Object.prototype.toString.call(f)==="[object Array]"){var Vr;ke=Qn(f),c!=="left"&&(pi=ke.map(Xa));var Ir,Uo=0;if(c==="right"){k-=pi[0],f=[],Xn=ke.length;for(var zs=0;zs<Xn;zs++)zs===0?(Ir=Zr(k),Vr=Fn(G)):(Ir=I(Uo-pi[zs]),Vr=-Yl),f.push([ke[zs],Ir,Vr]),Uo=pi[zs]}else if(c==="center"){k-=pi[0]/2,f=[],Xn=ke.length;for(var qs=0;qs<Xn;qs++)qs===0?(Ir=Zr(k),Vr=Fn(G)):(Ir=I((Uo-pi[qs])/2),Vr=-Yl),f.push([ke[qs],Ir,Vr]),Uo=pi[qs]}else if(c==="left"){f=[],Xn=ke.length;for(var Ql=0;Ql<Xn;Ql++)f.push(ke[Ql])}else if(c==="justify"&&sd.encoding==="Identity-H"){f=[],Xn=ke.length,E=E!==0?E:id;for(var $s=0,bn=0;bn<Xn;bn++)if(Vr=bn===0?Fn(G):-Yl,Ir=bn===0?Zr(k):$s,bn<Xn-1){var xc=I((E-pi[bn])/(ke[bn].split(" ").length-1)),Tr=ke[bn].split(" ");f.push([Tr[0]+" ",Ir,Vr]),$s=0;for(var mi=1;mi<Tr.length;mi++){var Xl=(Xa(Tr[mi-1]+" "+Tr[mi])-Xa(Tr[mi]))*Wt+xc;mi==Tr.length-1?f.push([Tr[mi],Xl,0]):f.push([Tr[mi]+" ",Xl,0]),$s-=Xl}}else f.push([ke[bn],Ir,Vr]);f.push(["",$s,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],Xn=ke.length,E=E!==0?E:id,bn=0;bn<Xn;bn++)Vr=bn===0?Fn(G):-Yl,Ir=bn===0?Zr(k):0,bn<Xn-1?Vo.push(C(I((E-pi[bn])/(ke[bn].split(" ").length-1)))):Vo.push(0),f.push([ke[bn],Ir,Vr])}}var od=typeof te.R2L=="boolean"?te.R2L:Ze;od===!0&&(f=ds(f,function(Xt,Jt,En){return[Xt.split("").reverse().join(""),Jt,En]})),be={text:f,x:k,y:G,options:te,mutex:{pdfEscape:pn,activeFontKey:_t,fonts:Dt,activeFontSize:je}},Pt.publish("postProcessText",be),f=be.text,mt=be.mutex.isHex||!1;var Ic=Dt[_t].encoding;Ic!=="WinAnsiEncoding"&&Ic!=="StandardEncoding"||(f=ds(f,function(Xt,Jt,En){return[Fi(Xt),Jt,En]})),ke=Qn(f),f=[];for(var Ja,Za,Bo,el=0,Jl=1,tl=Array.isArray(ke[0])?Jl:el,zo="",Tc=function(Xt,Jt,En){var jn="";return En instanceof Ge?(En=typeof te.angle=="number"?Or(En,new Ge(1,0,0,1,Xt,Jt)):Or(new Ge(1,0,0,1,Xt,Jt),En),D===S.ADVANCED&&(En=Or(new Ge(1,0,0,-1,0,0),En)),jn=En.join(" ")+` Tm
`):jn=C(Xt)+" "+C(Jt)+` Td
`,jn},gi=0;gi<ke.length;gi++){switch(zo="",tl){case Jl:Bo=(mt?"<":"(")+ke[gi][0]+(mt?">":")"),Ja=parseFloat(ke[gi][1]),Za=parseFloat(ke[gi][2]);break;case el:Bo=(mt?"<":"(")+ke[gi]+(mt?">":")"),Ja=Zr(k),Za=Fn(G)}Vo!==void 0&&Vo[gi]!==void 0&&(zo=Vo[gi]+` Tw
`),gi===0?f.push(zo+Tc(Ja,Za,ge)+Bo):tl===el?f.push(zo+Bo):tl===Jl&&f.push(zo+Tc(Ja,Za,ge)+Bo)}f=tl===el?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var vi=`BT
/`;return vi+=_t+" "+je+` Tf
`,vi+=C(je*Vt)+` TL
`,vi+=Oi+`
`,vi+=Et,vi+=f,Y(vi+="ET"),w[_t]=!0,Pe};var _c=g.__private__.clip=g.clip=function(f){return Y(f==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return _c("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Y("n"),this};var fi=g.__private__.isValidStyle=function(f){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(k=!0),k};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(f){return fi(f)&&(h=f),this};var Bl=g.__private__.getStyle=g.getStyle=function(f){var k=h;switch(f){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=f}return k},Xr=g.close=function(){return Y("h"),this};g.stroke=function(){return Y("S"),this},g.fill=function(f){return To("f",f),this},g.fillEvenOdd=function(f){return To("f*",f),this},g.fillStroke=function(f){return To("B",f),this},g.fillStrokeEvenOdd=function(f){return To("B*",f),this};var To=function(f,k){qt(k)==="object"?ko(k,f):Y(f)},$a=function(f){f===null||D===S.ADVANCED&&f===void 0||(f=Bl(f),Y(f))};function No(f,k,G,te,le){var be=new xu(k||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,le||this.matrix);be.stream=this.stream;var ke=f+"$$"+this.cloneIndex+++"$$";return Pn(ke,be),be}var ko=function(f,k){var G=ts[f.key],te=It[G];if(te instanceof al)Y("q"),Y(zl(k)),te.gState&&g.setGState(te.gState),Y(f.matrix.toString()+" cm"),Y("/"+G+" sh"),Y("Q");else if(te instanceof xu){var le=new Ge(1,0,0,-1,0,lr());f.matrix&&(le=le.multiply(f.matrix||or),G=No.call(te,f.key,f.boundingBox,f.xStep,f.yStep,le).id),Y("q"),Y("/Pattern cs"),Y("/"+G+" scn"),te.gState&&g.setGState(te.gState),Y(k),Y("Q")}},zl=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ri=g.moveTo=function(f,k){return Y(C(I(f))+" "+C(Q(k))+" m"),this},Jr=g.lineTo=function(f,k){return Y(C(I(f))+" "+C(Q(k))+" l"),this},Di=g.curveTo=function(f,k,G,te,le,be){return Y([C(I(f)),C(Q(k)),C(I(G)),C(Q(te)),C(I(le)),C(Q(be)),"c"].join(" ")),this};g.__private__.line=g.line=function(f,k,G,te,le){if(isNaN(f)||isNaN(k)||isNaN(G)||isNaN(te)||!fi(le))throw new Error("Invalid arguments passed to jsPDF.line");return D===S.COMPAT?this.lines([[G-f,te-k]],f,k,[1,1],le||"S"):this.lines([[G-f,te-k]],f,k,[1,1]).stroke()},g.__private__.lines=g.lines=function(f,k,G,te,le,be){var ke,Be,c,y,E,V,ae,ge,Pe,pt,Et,mt;if(typeof f=="number"&&(mt=G,G=k,k=f,f=mt),te=te||[1,1],be=be||!1,isNaN(k)||isNaN(G)||!Array.isArray(f)||!Array.isArray(te)||!fi(le)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ri(k,G),ke=te[0],Be=te[1],y=f.length,pt=k,Et=G,c=0;c<y;c++)(E=f[c]).length===2?(pt=E[0]*ke+pt,Et=E[1]*Be+Et,Jr(pt,Et)):(V=E[0]*ke+pt,ae=E[1]*Be+Et,ge=E[2]*ke+pt,Pe=E[3]*Be+Et,pt=E[4]*ke+pt,Et=E[5]*Be+Et,Di(V,ae,ge,Pe,pt,Et));return be&&Xr(),$a(le),this},g.path=function(f){for(var k=0;k<f.length;k++){var G=f[k],te=G.c;switch(G.op){case"m":Ri(te[0],te[1]);break;case"l":Jr(te[0],te[1]);break;case"c":Di.apply(this,te);break;case"h":Xr()}}return this},g.__private__.rect=g.rect=function(f,k,G,te,le){if(isNaN(f)||isNaN(k)||isNaN(G)||isNaN(te)||!fi(le))throw new Error("Invalid arguments passed to jsPDF.rect");return D===S.COMPAT&&(te=-te),Y([C(I(f)),C(Q(k)),C(I(G)),C(I(te)),"re"].join(" ")),$a(le),this},g.__private__.triangle=g.triangle=function(f,k,G,te,le,be,ke){if(isNaN(f)||isNaN(k)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(be)||!fi(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-f,te-k],[le-G,be-te],[f-le,k-be]],f,k,[1,1],ke,!0),this},g.__private__.roundedRect=g.roundedRect=function(f,k,G,te,le,be,ke){if(isNaN(f)||isNaN(k)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(be)||!fi(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*G),be=Math.min(be,.5*te),this.lines([[G-2*le,0],[le*Be,0,le,be-be*Be,le,be],[0,te-2*be],[0,be*Be,-le*Be,be,-le,be],[2*le-G,0],[-le*Be,0,-le,-be*Be,-le,-be],[0,2*be-te],[0,-be*Be,le*Be,-be,le,-be]],f+le,k,[1,1],ke,!0),this},g.__private__.ellipse=g.ellipse=function(f,k,G,te,le){if(isNaN(f)||isNaN(k)||isNaN(G)||isNaN(te)||!fi(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*G,ke=4/3*(Math.SQRT2-1)*te;return Ri(f+G,k),Di(f+G,k-ke,f+be,k-te,f,k-te),Di(f-be,k-te,f-G,k-ke,f-G,k),Di(f-G,k+ke,f-be,k+te,f,k+te),Di(f+be,k+te,f+G,k+ke,f+G,k),$a(le),this},g.__private__.circle=g.circle=function(f,k,G,te){if(isNaN(f)||isNaN(k)||isNaN(G)||!fi(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,k,G,G,te)},g.setFont=function(f,k,G){return G&&(k=ie(k,G)),_t=Ms(f,k,{disableWarning:!1}),this};var Ha=g.__private__.getFont=g.getFont=function(){return Dt[Ms.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var f,k,G={};for(f in Yt)if(Yt.hasOwnProperty(f))for(k in G[f]=[],Yt[f])Yt[f].hasOwnProperty(k)&&G[f].push(k);return G},g.addFont=function(f,k,G,te,le){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(G=ie(G,te)),le=le||"Identity-H",Ba.call(this,f,k,G,le)};var jt,Wa=t.lineWidth||.200025,Po=g.__private__.getLineWidth=g.getLineWidth=function(){return Wa},Ga=g.__private__.setLineWidth=g.setLineWidth=function(f){return Wa=f,Y(C(I(f))+" w"),this};g.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(f,k){if(f=f||[],k=k||0,isNaN(k)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(G){return C(I(G))}).join(" "),k=C(I(k)),Y("["+f+"] "+k+" d"),this};var Ka=g.__private__.getLineHeight=g.getLineHeight=function(){return je*jt};g.__private__.getLineHeight=g.getLineHeight=function(){return je*jt};var Ya=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(jt=f),this},js=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return jt};Ya(t.lineHeight);var Zr=g.__private__.getHorizontalCoordinate=function(f){return I(f)},Fn=g.__private__.getVerticalCoordinate=function(f){return D===S.ADVANCED?f:nt[$].mediaBox.topRightY-nt[$].mediaBox.bottomLeftY-I(f)},ql=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(f){return C(Zr(f))},us=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(f){return C(Fn(f))},Yn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Mr(Yn)},g.__private__.setStrokeColor=g.setDrawColor=function(f,k,G,te){return Yn=Sr({ch1:f,ch2:k,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),Y(Yn),this};var Lo=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Mr(Lo)},g.__private__.setFillColor=g.setFillColor=function(f,k,G,te){return Lo=Sr({ch1:f,ch2:k,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),Y(Lo),this};var Oi=t.textColor||"0 g",Co=g.__private__.getTextColor=g.getTextColor=function(){return Mr(Oi)};g.__private__.setTextColor=g.setTextColor=function(f,k,G,te){return Oi=Sr({ch1:f,ch2:k,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var Vs=t.charSpace,Ro=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Vs||0)};g.__private__.setCharSpace=g.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vs=f,this};var Qa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(f){var k=g.CapJoinStyles[f];if(k===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=k,Y(k+" J"),this};var Do=0;g.__private__.setLineJoin=g.setLineJoin=function(f){var k=g.CapJoinStyles[f];if(k===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Do=k,Y(k+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(C(I(f))+" M"),this},g.GState=gp,g.setGState=function(f){(f=typeof f=="string"?en[Kn[f]]:cs(null,f)).equals(Kr)||(Y("/"+f.id+" gs"),Kr=f)};var cs=function(f,k){if(!f||!Kn[f]){var G=!1;for(var te in en)if(en.hasOwnProperty(te)&&en[te].equals(k)){G=!0;break}if(G)k=en[te];else{var le="GS"+(Object.keys(en).length+1).toString(10);en[le]=k,k.id=le}return f&&(Kn[f]=k.id),Pt.publish("addGState",k),k}};g.addGState=function(f,k){return cs(f,k),this},g.saveGraphicsState=function(){return Y("q"),hi.push({key:_t,size:je,color:Oi}),this},g.restoreGraphicsState=function(){Y("Q");var f=hi.pop();return _t=f.key,je=f.size,Oi=f.color,Kr=null,this},g.setCurrentTransformationMatrix=function(f){return Y(f.toString()+" cm"),this},g.comment=function(f){return Y("#"+f),this};var Us=function(f,k){var G=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(be){isNaN(be)||(G=parseFloat(be))}});var te=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(be){isNaN(be)||(te=parseFloat(be))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(be){le=be.toString()}}),this},Oo=function(f,k,G,te){Us.call(this,f,k),this.type="rect";var le=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(ke){isNaN(ke)||(le=parseFloat(ke))}});var be=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(ke){isNaN(ke)||(be=parseFloat(ke))}}),this},Bs=function(){this.page=Qt,this.currentPage=$,this.pages=Ie.slice(0),this.pagesContext=nt.slice(0),this.x=dn,this.y=At,this.matrix=Dr,this.width=hs($),this.height=lr($),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Bs.prototype.restore=function(){Qt=this.page,$=this.currentPage,nt=this.pagesContext,Ie=this.pages,dn=this.x,At=this.y,Dr=this.matrix,Fo($,this.width),jo($,this.height),Fe=this.outputDestination};var Mo=function(f,k,G,te,le){Yr.push(new Bs),Qt=$=0,Ie=[],dn=f,At=k,Dr=le,xr([G,te])},$l=function(f){if(sr[f])Yr.pop().restore();else{var k=new Bs,G="Xo"+(Object.keys(kn).length+1).toString(10);k.id=G,sr[f]=G,kn[G]=k,Pt.publish("addFormObject",k),Yr.pop().restore()}};for(var Mi in g.beginFormObject=function(f,k,G,te,le){return Mo(f,k,G,te,le),this},g.endFormObject=function(f){return $l(f),this},g.doFormObject=function(f,k){var G=kn[sr[f]];return Y("q"),Y(k.toString()+" cm"),Y("/"+G.id+" Do"),Y("Q"),this},g.getFormObject=function(f){var k=kn[sr[f]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},g.save=function(f,k){return f=f||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(ol(xo(Ci()),f),typeof ol.unload=="function"&&lt.setTimeout&&setTimeout(ol.unload,911),this):new Promise(function(G,te){try{var le=ol(xo(Ci()),f);typeof ol.unload=="function"&&lt.setTimeout&&setTimeout(ol.unload,911),G(le)}catch(be){te(be.message)}})},at.API)at.API.hasOwnProperty(Mi)&&(Mi==="events"&&at.API.events.length?function(f,k){var G,te,le;for(le=k.length-1;le!==-1;le--)G=k[le][0],te=k[le][1],f.subscribe.apply(f,[G].concat(typeof te=="function"?[te]:te))}(Pt,at.API.events):g[Mi]=at.API[Mi]);var hs=g.getPageWidth=function(f){return(nt[f=f||$].mediaBox.topRightX-nt[f].mediaBox.bottomLeftX)/He},Fo=g.setPageWidth=function(f,k){nt[f].mediaBox.topRightX=k*He+nt[f].mediaBox.bottomLeftX},lr=g.getPageHeight=function(f){return(nt[f=f||$].mediaBox.topRightY-nt[f].mediaBox.bottomLeftY)/He},jo=g.setPageHeight=function(f,k){nt[f].mediaBox.topRightY=k*He+nt[f].mediaBox.bottomLeftY};return g.internal={pdfEscape:pn,getStyle:Bl,getFont:Ha,getFontSize:ze,getCharSpace:Ro,getTextColor:Co,getLineHeight:Ka,getLineHeightFactor:js,getLineWidth:Po,write:dt,getHorizontalCoordinate:Zr,getVerticalCoordinate:Fn,getCoordinateString:ql,getVerticalCoordinateString:us,collections:{},newObject:wn,newAdditionalObject:bo,newObjectDeferred:fn,newObjectDeferredBegin:Ln,getFilters:Ar,putStream:_n,events:Pt,scaleFactor:He,pageSize:{getWidth:function(){return hs($)},setWidth:function(f){Fo($,f)},getHeight:function(){return lr($)},setHeight:function(f){jo($,f)}},encryptionOptions:p,encryption:nn,getEncryptor:Ul,output:Io,getNumberOfPages:Ut,pages:Ie,out:Y,f2:B,f3:x,getPageInfo:qa,getPageInfoByObjId:ct,getCurrentPageInfo:ls,getPDFVersion:T,Point:Us,Rectangle:Oo,Matrix:Ge,hasHotfix:as},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return hs($)},set:function(f){Fo($,f)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return lr($)},set:function(f){jo($,f)},enumerable:!0,configurable:!0}),jl.call(g,Re),_t="F1",Os(i,n),Pt.publish("initialized"),g}cu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},cu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},cu.prototype.processOwnerPassword=function(t,e){return Wg(Hg(e).substr(0,5),t)},cu.prototype.encryptor=function(t,e){var n=Hg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Wg(n,r)}},gp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||qt(t)!==qt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="2.5.2";var gn=at.API,B2=1,Rl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},su=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(t){return t.toFixed(2)},Zo=function(t){return t.toFixed(5)};gn.__acroform__={};var Gr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rw=function(t){return t*B2},vs=function(t){var e=new Z3,n=Ye.internal.getHeight(t)||0,r=Ye.internal.getWidth(t)||0;return e.BBox=[0,0,Number(gt(r)),Number(gt(n))],e},VC=gn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},UC=gn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},BC=gn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xn=gn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BC(t,e-1)},In=gn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VC(t,e-1)},Tn=gn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UC(t,e-1)},zC=gn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(gt(l.lowerLeft_X)),Number(gt(l.lowerLeft_Y)),Number(gt(l.upperRight_X)),Number(gt(l.upperRight_Y))]},qC=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Gg(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+gt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=vs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Gg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,o=Ye.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ye.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(x,I,N){if(x+1<i.length){var Q=I+" "+i[x+1][0];return Zd(Q,t,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,p,v=Zd("3",t,s).height,w=t.multiline?o-s:(o-v)/2,g=w+=2,L=0,T=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",S=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var W=!1;if(i[D].length!==1&&j!==i[D].length-1){if((v+2)*(S+2)+2>o)continue e;_+=i[D][j],W=!0,T=D,D--}else{_=(_+=i[D][j]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var J=parseInt(D),ie=l(J,_,s),C=D>=i.length-1;if(ie&&!C){_+=" ",j=0;continue}if(ie||C){if(C)T=J;else if(t.multiline&&(v+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(v+2)*(S+2)+2>o)continue e;T=J}}for(var A="",O=L;O<=T;O++){var B=i[O];if(t.multiline){if(O===T){A+=B[j]+" ",j=(j+1)%B.length;continue}if(O===L){A+=B[B.length-1]+" ";continue}}A+=B[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,p=Zd(A,t,s).width,t.textAlign){case"right":h=a-p-2;break;case"center":h=(a-p)/2;break;case"left":default:h=2}e+=gt(h)+" "+gt(g)+` Td
`,e+="("+Rl(A)+`) Tj
`,e+=-gt(h)+` 0 Td
`,g=-(s+2),p=0,L=W?T:T+1,S++,_=""}break}return r.text=e,r.fontSize=s,r},Zd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},$C={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HC=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},WC=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),qt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},GC=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($C)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");B2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new eE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&HC(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],h=a.Rect;if(a.Rect&&(a.Rect=zC(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ye.createDefaultAppearanceStream(a),qt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var p=qC(a);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(a.appearanceStreamContent){var v="";for(var w in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(w)){var g=a.appearanceStreamContent[w];if(v+="/"+w+" ",v+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var L=g[o];typeof L=="function"&&(L=L.call(i,a)),v+="/"+o+" "+L+" ",i.internal.acroformPlugin.xForms.indexOf(L)>=0||i.internal.acroformPlugin.xForms.push(L)}}else typeof(L=g)=="function"&&(L=L.call(i,a)),v+="/"+o+" "+L,i.internal.acroformPlugin.xForms.indexOf(L)>=0||i.internal.acroformPlugin.xForms.push(L);v+=">>"}l.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&WC(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},J3=gn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),qt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Rl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lm=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Rl(r(t))+")"},bs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bs.prototype.toString=function(){return this.objId+" 0 R"},bs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},bs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:J3(i,this.objId,this.scope)}):i instanceof bs?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Z3=function(){bs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Gr(Z3,bs);var eE=function(){bs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Rl(n(t))+")"}},set:function(n){t=n}})};Gr(eE,bs);var Zi=function t(){bs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xn(e,3)},set:function(_){_?this.F=In(e,3):this.F=Tn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vp)return;s="FieldObject"+t.FieldNum++}var _=function(S){return S};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Rl(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/B2:h},set:function(_){h=_}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof vp||this instanceof wl))return lm(v,this.objId,this.scope)},set:function(_){_=_.toString(),v=_}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Hn?w:lm(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=this instanceof Hn?_:_.substr(0,1)==="("?su(_.substr(1,_.length-2)):su(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hn?su(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof Hn?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Hn?g:lm(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof Hn?_:_.substr(0,1)==="("?su(_.substr(1,_.length-2)):su(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hn?su(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Hn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(_){_=!!_,T=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(_){L=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,1)},set:function(_){_?this.Ff=In(this.Ff,1):this.Ff=Tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,2)},set:function(_){_?this.Ff=In(this.Ff,2):this.Ff=Tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,3)},set:function(_){_?this.Ff=In(this.Ff,3):this.Ff=Tn(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');j=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(j){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};Gr(Zi,bs);var Vu=function(){Zi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return J3(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,h=[];l=o.exec(s);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,18)},set:function(n){n?this.Ff=In(this.Ff,18):this.Ff=Tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=In(this.Ff,19):this.Ff=Tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,20)},set:function(n){n?(this.Ff=In(this.Ff,20),e.sort()):this.Ff=Tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,22)},set:function(n){n?this.Ff=In(this.Ff,22):this.Ff=Tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(n){n?this.Ff=In(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,27)},set:function(n){n?this.Ff=In(this.Ff,27):this.Ff=Tn(this.Ff,27)}}),this.hasAppearanceStream=!1};Gr(Vu,Zi);var Uu=function(){Vu.call(this),this.fontName="helvetica",this.combo=!1};Gr(Uu,Vu);var Bu=function(){Uu.call(this),this.combo=!0};Gr(Bu,Uu);var If=function(){Bu.call(this),this.edit=!0};Gr(If,Bu);var Hn=function(){Zi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,15)},set:function(n){n?this.Ff=In(this.Ff,15):this.Ff=Tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,16)},set:function(n){n?this.Ff=In(this.Ff,16):this.Ff=Tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,17)},set:function(n){n?this.Ff=In(this.Ff,17):this.Ff=Tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(n){n?this.Ff=In(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Rl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){qt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Gr(Hn,Zi);var Tf=function(){Hn.call(this),this.pushButton=!0};Gr(Tf,Hn);var zu=function(){Hn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Gr(zu,Hn);var vp=function(){var t,e;Zi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Rl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){qt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gr(vp,Zi),zu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zu.prototype.createOption=function(t){var e=new vp;return e.Parent=this,e.optionName=t,this.Kids.push(e),KC.call(this.scope,e),e};var Nf=function(){Hn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};Gr(Nf,Hn);var wl=function(){Zi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,13)},set:function(e){e?this.Ff=In(this.Ff,13):this.Ff=Tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,21)},set:function(e){e?this.Ff=In(this.Ff,21):this.Ff=Tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(e){e?this.Ff=In(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,24)},set:function(e){e?this.Ff=In(this.Ff,24):this.Ff=Tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,25)},set:function(e){e?this.Ff=In(this.Ff,25):this.Ff=Tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(e){e?this.Ff=In(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gr(wl,Zi);var kf=function(){wl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,14)},set:function(t){t?this.Ff=In(this.Ff,14):this.Ff=Tn(this.Ff,14)}}),this.password=!0};Gr(kf,wl);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=vs(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Gg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+gt(Ye.internal.getWidth(t))+" "+gt(Ye.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=vs(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ye.internal.getHeight(t),o=Ye.internal.getWidth(t),a=Gg(t,t.caption);return i.push("1 g"),i.push("0 0 "+gt(o)+" "+gt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gt(o-1)+" "+gt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=vs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ye.internal.getWidth(t))+" "+gt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Circle.YesNormal,e.D[t]=Ye.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=vs(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ye.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=vs(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5)),o=Number((r*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=vs(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Cross.YesNormal,e.D[t]=Ye.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=vs(t);e.scope=t.scope;var n=[],r=Ye.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+gt(Ye.internal.getWidth(t)-2)+" "+gt(Ye.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(gt(r.x1.x)+" "+gt(r.x1.y)+" m"),n.push(gt(r.x2.x)+" "+gt(r.x2.y)+" l"),n.push(gt(r.x4.x)+" "+gt(r.x4.y)+" m"),n.push(gt(r.x3.x)+" "+gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=vs(t);e.scope=t.scope;var n=Ye.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(Ye.internal.getWidth(t))+" "+gt(Ye.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gt(Ye.internal.getWidth(t)-2)+" "+gt(Ye.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(gt(n.x1.x)+" "+gt(n.x1.y)+" m"),r.push(gt(n.x2.x)+" "+gt(n.x2.y)+" l"),r.push(gt(n.x4.x)+" "+gt(n.x4.y)+" m"),r.push(gt(n.x3.x)+" "+gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=vs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ye.internal.getWidth(t))+" "+gt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ye.internal.getWidth(t),n=Ye.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ye.internal.getWidth=function(t){var e=0;return qt(t)==="object"&&(e=rw(t.Rect[2])),e},Ye.internal.getHeight=function(t){var e=0;return qt(t)==="object"&&(e=rw(t.Rect[3])),e};var KC=gn.addField=function(t){if(GC(this,t),!(t instanceof Zi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};gn.AcroFormChoiceField=Vu,gn.AcroFormListBox=Uu,gn.AcroFormComboBox=Bu,gn.AcroFormEditBox=If,gn.AcroFormButton=Hn,gn.AcroFormPushButton=Tf,gn.AcroFormRadioButton=zu,gn.AcroFormCheckBox=Nf,gn.AcroFormTextField=wl,gn.AcroFormPasswordField=kf,gn.AcroFormAppearance=Ye,gn.AcroForm={ChoiceField:Vu,ListBox:Uu,ComboBox:Bu,EditBox:If,Button:Hn,PushButton:Tf,RadioButton:zu,CheckBox:Nf,TextField:wl,PasswordField:kf,Appearance:Ye},at.AcroForm={ChoiceField:Vu,ListBox:Uu,ComboBox:Bu,EditBox:If,Button:Hn,PushButton:Tf,RadioButton:zu,CheckBox:Nf,TextField:wl,PasswordField:kf,Appearance:Ye};function tE(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(x,I){var N,Q,ye,ve,we,X=e;if((I=I||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(ie(x))for(we in n)for(ye=n[we],N=0;N<ye.length;N+=1){for(ve=!0,Q=0;Q<ye[N].length;Q+=1)if(ye[N][Q]!==void 0&&ye[N][Q]!==x[Q]){ve=!1;break}if(ve===!0){X=we;break}}else for(we in n)for(ye=n[we],N=0;N<ye.length;N+=1){for(ve=!0,Q=0;Q<ye[N].length;Q+=1)if(ye[N][Q]!==void 0&&ye[N][Q]!==x.charCodeAt(Q)){ve=!1;break}if(ve===!0){X=we;break}}return X===e&&I!==e&&(X=I),X},i=function x(I){for(var N=this.internal.write,Q=this.internal.putStream,ye=(0,this.internal.getFilters)();ye.indexOf("FlateEncode")!==-1;)ye.splice(ye.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:I.width}),ve.push({key:"Height",value:I.height}),I.colorSpace===j.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===j.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var we="",X=0,ce=I.transparency.length;X<ce;X++)we+=I.transparency[X]+" "+I.transparency[X]+" ";ve.push({key:"Mask",value:"["+we+"]"})}I.sMask!==void 0&&ve.push({key:"SMask",value:I.objectId+1+" 0 R"});var de=I.filter!==void 0?["/"+I.filter]:void 0;if(Q({data:I.data,additionalKeyValues:ve,alreadyAppliedFilters:de,objectId:I.objectId}),N("endobj"),"sMask"in I&&I.sMask!==void 0){var Le="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,R={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:Le,data:I.sMask};"filter"in I&&(R.filter=I.filter),x.call(this,R)}if(I.colorSpace===j.INDEXED){var $=this.internal.newObject();Q({data:A(new Uint8Array(I.palette)),objectId:$}),N("endobj")}},s=function(){var x=this.internal.collections.addImage_images;for(var I in x)i.call(this,x[I])},o=function(){var x,I=this.internal.collections.addImage_images,N=this.internal.write;for(var Q in I)N("/I"+(x=I[Q]).index,x.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var x=this.internal.collections.addImage_images;return a.call(this),x},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(x){return typeof t["process"+x.toUpperCase()]=="function"},v=function(x){return qt(x)==="object"&&x.nodeType===1},w=function(x,I){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var N=""+x.getAttribute("src");if(N.indexOf("data:image/")===0)return fh(unescape(N).split("base64,").pop());var Q=t.loadFile(N,!0);if(Q!==void 0)return Q}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var ye;switch(I){case"PNG":ye="image/png";break;case"WEBP":ye="image/webp";break;case"JPEG":case"JPG":default:ye="image/jpeg"}return fh(x.toDataURL(ye,1).split("base64,").pop())}},g=function(x){var I=this.internal.collections.addImage_images;if(I){for(var N in I)if(x===I[N].alias)return I[N]}},L=function(x,I,N){return x||I||(x=-96,I=-96),x<0&&(x=-1*N.width*72/x/this.internal.scaleFactor),I<0&&(I=-1*N.height*72/I/this.internal.scaleFactor),x===0&&(x=I*N.width/N.height),I===0&&(I=x*N.height/N.width),[x,I]},T=function(x,I,N,Q,ye,ve){var we=L.call(this,N,Q,ye),X=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,de=l.call(this);if(N=we[0],Q=we[1],de[ye.index]=ye,ve){ve*=Math.PI/180;var Le=Math.cos(ve),R=Math.sin(ve),$=function(K){return K.toFixed(4)},q=[$(Le),$(R),$(-1*R),$(Le),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,X(x),ce(I+Q),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([X(N),"0","0",X(Q),"0","0","cm"].join(" "))):this.internal.write([X(N),"0","0",X(Q),X(x),ce(I+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ye.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(x){var I,N,Q=0;if(typeof x=="string")for(N=x.length,I=0;I<N;I++)Q=(Q<<5)-Q+x.charCodeAt(I),Q|=0;else if(ie(x))for(N=x.byteLength/2,I=0;I<N;I++)Q=(Q<<5)-Q+x[I],Q|=0;return Q},D=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var I=!0;return x.length===0&&(I=!1),x.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(I=!1),I},W=t.__addimage__.extractImageFromDataUrl=function(x){var I=(x=x||"").split("base64,"),N=null;if(I.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(Q)&&(N={mimeType:Q[1],charset:Q[2],data:I[1]})}return N},J=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(x){return J()&&x instanceof ArrayBuffer};var ie=t.__addimage__.isArrayBufferView=function(x){return J()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(x){for(var I=x.length,N=new Uint8Array(I),Q=0;Q<I;Q++)N[Q]=x.charCodeAt(Q);return N},A=t.__addimage__.arrayBufferToBinaryString=function(x){for(var I="",N=ie(x)?x:new Uint8Array(x),Q=0;Q<N.length;Q+=8192)I+=String.fromCharCode.apply(null,N.subarray(Q,Q+8192));return I};t.addImage=function(){var x,I,N,Q,ye,ve,we,X,ce;if(typeof arguments[1]=="number"?(I=e,N=arguments[1],Q=arguments[2],ye=arguments[3],ve=arguments[4],we=arguments[5],X=arguments[6],ce=arguments[7]):(I=arguments[1],N=arguments[2],Q=arguments[3],ye=arguments[4],ve=arguments[5],we=arguments[6],X=arguments[7],ce=arguments[8]),qt(x=arguments[0])==="object"&&!v(x)&&"imageData"in x){var de=x;x=de.imageData,I=de.format||I||e,N=de.x||N||0,Q=de.y||Q||0,ye=de.w||de.width||ye,ve=de.h||de.height||ve,we=de.alias||we,X=de.compression||X,ce=de.rotation||de.angle||ce}var Le=this.internal.getFilters();if(X===void 0&&Le.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(N)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=O.call(this,x,I,we,X);return T.call(this,N,Q,ye,ve,R,ce),this};var O=function(x,I,N,Q){var ye,ve,we;if(typeof x=="string"&&r(x)===e){x=unescape(x);var X=B(x,!1);(X!==""||(X=t.loadFile(x,!0))!==void 0)&&(x=X)}if(v(x)&&(x=w(x,I)),I=r(x,I),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((we=N)==null||we.length===0)&&(N=function(ce){return typeof ce=="string"||ie(ce)?S(ce):ie(ce.data)?S(ce.data):null}(x)),(ye=g.call(this,N))||(J()&&(x instanceof Uint8Array||I==="RGBA"||(ve=x,x=C(x))),ye=this["process"+I.toUpperCase()](x,h.call(this),N,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:_.NONE}(Q),ve)),!ye)throw new Error("An unknown error occurred whilst processing the image.");return ye},B=t.__addimage__.convertBase64ToBinaryString=function(x,I){var N;I=typeof I!="boolean"||I;var Q,ye="";if(typeof x=="string"){Q=(N=W(x))!==null?N.data:x;try{ye=fh(Q)}catch(ve){if(I)throw D(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ye};t.getImageProperties=function(x){var I,N,Q="";if(v(x)&&(x=w(x)),typeof x=="string"&&r(x)===e&&((Q=B(x,!1))===""&&(Q=t.loadFile(x)||""),x=Q),N=r(x),!p(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(!J()||x instanceof Uint8Array||(x=C(x)),!(I=this["process"+N.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=N,I}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,v=0;v<h.length&&!p;v++)switch((r=h[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){r=h[w];var g=this.internal.pdfEscape,L=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(T.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(_(r.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(_(S))+") >>",T.content=s;var D=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+D,r.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(T.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var W=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(L(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(L(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ie=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ie+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var p=this.splitTextToSize(n,a).length;o=Math.ceil(h*p)}else a=l,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-h,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},a=t.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(T){var j=0,_=n,S="",D=0;for(j=0;j<T.length;j+=1)_[T.charCodeAt(j)]!==void 0?(D++,typeof(_=_[T.charCodeAt(j)])=="number"&&(S+=String.fromCharCode(_),_=n,D=0),j===T.length-1&&(_=n,S+=T.charAt(j-(D-1)),j-=D-1,D=0)):(_=n,S+=T.charAt(j-D),j-=D,D=0);return S};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(T,j,_){return o(T)?s(T)===!1?-1:!h(T)||!o(j)&&!o(_)||!o(_)&&a(j)||a(T)&&!o(j)||a(T)&&l(j)||a(T)&&a(j)?0:p(T)&&o(j)&&!a(j)&&o(_)&&h(_)?3:a(T)||!o(_)?1:2:-1},g=function(T){var j=0,_=0,S=0,D="",W="",J="",ie=(T=T||"").split("\\s+"),C=[];for(j=0;j<ie.length;j+=1){for(C.push(""),_=0;_<ie[j].length;_+=1)D=ie[j][_],W=ie[j][_-1],J=ie[j][_+1],o(D)?(S=w(D,W,J),C[j]+=S!==-1?String.fromCharCode(e[D.charCodeAt(0)][S]):D):C[j]+=D;C[j]=v(C[j])}return C.join(" ")},L=t.__arabicParser__.processArabic=t.processArabic=function(){var T,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(j)){var S=0;for(_=[],S=0;S<j.length;S+=1)Array.isArray(j[S])?_.push([g(j[S][0]),j[S][1],j[S][2]]):_.push([g(j[S])]);T=_}else T=g(j);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",L])}(at.API),at.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(T){l=T}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(T){v=T}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(T){w=T}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(T){g=T}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(T){L=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,g=0,L=0,T=0,j=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=h.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(D,W){return D.concat(j.splitTextToSize(W,_))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)g<(T=this.getStringUnitWidth(l[S],{font:v})*p)&&(g=T);return g!==0&&(L=l.length),{w:g/=w,h:Math.max((L*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=v.top,g&&w&&(this.printHeaderRow(l.lineNumber,!0),l.y+=w[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,p,v,w){if(r.call(this),!p)throw new Error("No data for PDF table.");var g,L,T,j,_=[],S=[],D=[],W={},J={},ie=[],C=[],A=(w=w||{}).autoSize||!1,O=w.printHeaders!==!1,B=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,x=w.margins||Object.assign({width:this.getPageWidth()},e),I=typeof w.padding=="number"?w.padding:3,N=w.headerBackgroundColor||"#c8c8c8",Q=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=Q,this.setFontSize(B),v==null)S=_=Object.keys(p[0]),D=_.map(function(){return"left"});else if(Array.isArray(v)&&qt(v[0])==="object")for(_=v.map(function(de){return de.name}),S=v.map(function(de){return de.prompt||de.name||""}),D=v.map(function(de){return de.align||"left"}),g=0;g<v.length;g+=1)J[v[g].name]=v[g].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(S=_=v,D=_.map(function(){return"left"}));if(A||Array.isArray(v)&&typeof v[0]=="string")for(g=0;g<_.length;g+=1){for(W[j=_[g]]=p.map(function(de){return de[j]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=W[j],this.setFont(void 0,"normal"),T=0;T<L.length;T+=1)ie.push(this.getTextDimensions(L[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[j]=Math.max.apply(null,ie)+I+I,ie=[]}if(O){var ye={};for(g=0;g<_.length;g+=1)ye[_[g]]={},ye[_[g]].text=S[g],ye[_[g]].align=D[g];var ve=a.call(this,ye,J);C=_.map(function(de){return new s(l,h,J[de],ve,ye[de].text,void 0,ye[de].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var we=v.reduce(function(de,Le){return de[Le.name]=Le.align,de},{});for(g=0;g<p.length;g+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:g,data:p[g]},this);var X=a.call(this,p[g],J);for(T=0;T<_.length;T+=1){var ce=p[g][_[T]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:g,col:T,data:ce},this),o.call(this,new s(l,h,J[_[T]],X,ce,g+2,we[_[T]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(l).map(function(g){var L=l[g];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*v/w+p+p},this).reduce(function(g,L){return Math.max(g,L)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=l;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(L)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(at.API);var nE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kg=tE(rE),iE=[100,200,300,400,500,600,700,800,900],YC=tE(iE);function Yg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return nE[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Kg[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function iw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var QC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ow(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function XC(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},QC,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Yg(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+ow(s)+"' and default family '"+r+"'.");if(o=function(l,h){if(h[l])return h[l];var p=Kg[l],v=p<=Kg.normal?-1:1,w=iw(h,rE,p,v);if(!w)throw new Error("Could not find a matching font-stretch value for "+l);return w}(s.stretch,o),o=function(l,h){if(h[l])return h[l];for(var p=nE[l],v=0;v<p.length;++v)if(h[p[v]])return h[p[v]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var p=YC[l],v=iw(h,iE,p,l<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+l);return v}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ow(s)+"'.");return o}function aw(t){return t.trimLeft()}function JC(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function ZC(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ef,lw,uw,um=["times"];(function(t){var e,n,r,i,s,o,a,l,h,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new p}]);var v=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=R;Object.defineProperty(this,"pdf",{get:function(){return $}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Ee){K=!!Ee}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Ee){isNaN(Ee)||(ee=Ee)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Ee){isNaN(Ee)||(oe=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ee){var Y;typeof Ee=="number"?Y=[Ee,Ee,Ee,Ee]:((Y=new Array(4))[0]=Ee[0],Y[1]=Ee.length>=2?Ee[1]:Y[0],Y[2]=Ee.length>=3?Ee[2]:Y[0],Y[3]=Ee.length>=4?Ee[3]:Y[1]),h.margin=Y}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Ee){he=Ee}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Ee){fe=Ee}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Ee){Te=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ee){Ee instanceof p&&(h=Ee)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ee){h.path=Ee}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(Ee){Ie=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var Y;Y=w(Ee),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var Y=w(Ee);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Me=null;function Fe(Ee,Y){if(Me===null){var dt=function(Qe){var Re=[];return Object.keys(Qe).forEach(function(je){Qe[je].forEach(function($e){var ze=null;switch($e){case"bold":ze={family:je,weight:"bold"};break;case"italic":ze={family:je,style:"italic"};break;case"bolditalic":ze={family:je,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:je}}ze!==null&&(ze.ref={name:je,style:$e},Re.push(ze))})}),Re}(Ee.getFontList());Me=function(Qe){for(var Re={},je=0;je<Qe.length;++je){var $e=Yg(Qe[je]),ze=$e.family,Ze=$e.stretch,ut=$e.style,ft=$e.weight;Re[ze]=Re[ze]||{},Re[ze][Ze]=Re[ze][Ze]||{},Re[ze][Ze][ut]=Re[ze][Ze][ut]||{},Re[ze][Ze][ut][ft]=$e}return Re}(dt.concat(Y))}return Me}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Ee){Me=null,et=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var Y;if(this.ctx.font=Ee,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var dt=Y[1],Qe=(Y[2],Y[3]),Re=Y[4],je=(Y[5],Y[6]),$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor($e==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var ze=function(it){var _t,He,dn=[],At=it.trim();if(At==="")return um;if(At in sw)return[sw[At]];for(;At!=="";){switch(He=null,_t=(At=aw(At)).charAt(0)){case'"':case"'":He=JC(At.substring(1),_t);break;default:He=ZC(At)}if(He===null||(dn.push(He[0]),(At=aw(He[1]))!==""&&At.charAt(0)!==","))return um;At=At.replace(/^,/,"")}return dn}(je);if(this.fontFaces){var Ze=XC(Fe(this.pdf,this.fontFaces),ze.map(function(it){return{family:it,stretch:"normal",weight:Qe,style:dt}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var ut="";(Qe==="bold"||parseInt(Qe,10)>=700||dt==="bold")&&(ut="bold"),dt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var ft="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<ze.length;ot++){if(this.pdf.internal.getFont(ze[ot],ut,{noFallback:!0,disableWarning:!0})!==void 0){ft=ze[ot];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(ze[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=ze[ot],ut="bold";else if(this.pdf.internal.getFont(ze[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=ze[ot],ut="normal";break}}if(ft===""){for(var kt=0;kt<ze.length;kt++)if(tt[ze[kt]]){ft=tt[ze[kt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};v.prototype.setLineDash=function(R){this.lineDash=R},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){W.call(this,"fill",!1)},v.prototype.stroke=function(){W.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(R,$){if(isNaN(R)||isNaN($))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(R,$)},v.prototype.closePath=function(){var R=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&qt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){R=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},v.prototype.lineTo=function(R,$){if(isNaN(R)||isNaN($))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},v.prototype.quadraticCurveTo=function(R,$,q,K){if(isNaN(q)||isNaN(K)||isNaN(R)||isNaN($))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new o(q,K)),oe=this.ctx.transform.applyToPoint(new o(R,$));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},v.prototype.bezierCurveTo=function(R,$,q,K,ee,oe){if(isNaN(ee)||isNaN(oe)||isNaN(R)||isNaN($)||isNaN(q)||isNaN(K))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ee,oe)),fe=this.ctx.transform.applyToPoint(new o(R,$)),Te=this.ctx.transform.applyToPoint(new o(q,K));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Te.x,y2:Te.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},v.prototype.arc=function(R,$,q,K,ee,oe){if(isNaN(R)||isNaN($)||isNaN(q)||isNaN(K)||isNaN(ee))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(R,$));R=he.x,$=he.y;var fe=this.ctx.transform.applyToPoint(new o(0,q)),Te=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(fe.x-Te.x,2)+Math.pow(fe.y-Te.y,2))}Math.abs(ee-K)>=2*Math.PI&&(K=0,ee=2*Math.PI),this.path.push({type:"arc",x:R,y:$,radius:q,startAngle:K,endAngle:ee,counterclockwise:oe})},v.prototype.arcTo=function(R,$,q,K,ee){throw new Error("arcTo not implemented.")},v.prototype.rect=function(R,$,q,K){if(isNaN(R)||isNaN($)||isNaN(q)||isNaN(K))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,$),this.lineTo(R+q,$),this.lineTo(R+q,$+K),this.lineTo(R,$+K),this.lineTo(R,$),this.lineTo(R+q,$),this.lineTo(R,$)},v.prototype.fillRect=function(R,$,q,K){if(isNaN(R)||isNaN($)||isNaN(q)||isNaN(K))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,$,q,K),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},v.prototype.strokeRect=function(R,$,q,K){if(isNaN(R)||isNaN($)||isNaN(q)||isNaN(K))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(R,$,q,K),this.stroke())},v.prototype.clearRect=function(R,$,q,K){if(isNaN(R)||isNaN($)||isNaN(q)||isNaN(K))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,$,q,K))},v.prototype.save=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage($),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},v.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage($),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(R){var $,q,K,ee;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))$=0,q=0,K=0,ee=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(oe!==null)$=parseInt(oe[1]),q=parseInt(oe[2]),K=parseInt(oe[3]),ee=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)$=parseInt(oe[1]),q=parseInt(oe[2]),K=parseInt(oe[3]),ee=parseFloat(oe[4]);else{if(ee=1,typeof R=="string"&&R.charAt(0)!=="#"){var he=new Y3(R);R=he.ok?he.toHex():"#000000"}R.length===4?($=R.substring(1,2),$+=$,q=R.substring(2,3),q+=q,K=R.substring(3,4),K+=K):($=R.substring(1,3),q=R.substring(3,5),K=R.substring(5,7)),$=parseInt($,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:$,g:q,b:K,a:ee,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(R,$,q,K){if(isNaN($)||isNaN(q)||typeof R!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!g.call(this)){var ee=X(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:R,x:$,y:q,scale:oe,angle:ee,align:this.textAlign,maxWidth:K})}},v.prototype.strokeText=function(R,$,q,K){if(isNaN($)||isNaN(q)||typeof R!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){K=isNaN(K)?void 0:K;var ee=X(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:R,x:$,y:q,scale:oe,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:K})}},v.prototype.measureText=function(R){if(typeof R!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,q=this.pdf.internal.scaleFactor,K=$.internal.getFontSize(),ee=$.getStringUnitWidth(R)*K/$.internal.scaleFactor,oe=function(he){var fe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new oe({width:ee*=Math.round(96*q/72*1e4)/1e4})},v.prototype.scale=function(R,$){if(isNaN(R)||isNaN($))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(R,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.rotate=function(R){if(isNaN(R))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.translate=function(R,$){if(isNaN(R)||isNaN($))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,R,$);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.transform=function(R,$,q,K,ee,oe){if(isNaN(R)||isNaN($)||isNaN(q)||isNaN(K)||isNaN(ee)||isNaN(oe))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(R,$,q,K,ee,oe);this.ctx.transform=this.ctx.transform.multiply(he)},v.prototype.setTransform=function(R,$,q,K,ee,oe){R=isNaN(R)?1:R,$=isNaN($)?0:$,q=isNaN(q)?0:q,K=isNaN(K)?1:K,ee=isNaN(ee)?0:ee,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(R,$,q,K,ee,oe)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(R,$,q,K,ee,oe,he,fe,Te){var Ie=this.pdf.getImageProperties(R),Me=1,Fe=1,et=1,Ee=1;K!==void 0&&fe!==void 0&&(et=fe/K,Ee=Te/ee,Me=Ie.width/K*fe/K,Fe=Ie.height/ee*Te/ee),oe===void 0&&(oe=$,he=q,$=0,q=0),K!==void 0&&fe===void 0&&(fe=K,Te=ee),K===void 0&&fe===void 0&&(fe=Ie.width,Te=Ie.height);for(var Y,dt=this.ctx.transform.decompose(),Qe=X(dt.rotate.shx),Re=new l,je=(Re=(Re=(Re=Re.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new a(oe-$*et,he-q*Ee,K*Me,ee*Fe)),$e=j.call(this,je),ze=[],Ze=0;Ze<$e.length;Ze+=1)ze.indexOf($e[Ze])===-1&&ze.push($e[Ze]);if(D(ze),this.autoPaging)for(var ut=ze[0],ft=ze[ze.length-1],tt=ut;tt<ft+1;tt++){this.pdf.setPage(tt);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=tt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=tt===1?0:it+(tt-2)*_t;if(this.ctx.clip_path.length!==0){var dn=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Y,this.posX+this.margin[3],-He+kt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=dn}var At=JSON.parse(JSON.stringify(je));At=S([At],this.posX+this.margin[3],-He+kt+this.ctx.prevPageLastElemOffset)[0];var Dr=(tt>ut||tt<ft)&&T.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,_t,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",At.x,At.y,At.w,At.h,null,null,Qe),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",je.x,je.y,je.w,je.h,null,null,Qe)};var j=function(R,$,q){var K=[];$=$||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":K.push(Math.floor((R.y+ee)/q)+1);break;case"arc":K.push(Math.floor((R.y+ee-R.radius)/q)+1),K.push(Math.floor((R.y+ee+R.radius)/q)+1);break;case"qct":var oe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);K.push(Math.floor((oe.y+ee)/q)+1),K.push(Math.floor((oe.y+oe.h+ee)/q)+1);break;case"bct":var he=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);K.push(Math.floor((he.y+ee)/q)+1),K.push(Math.floor((he.y+he.h+ee)/q)+1);break;case"rect":K.push(Math.floor((R.y+ee)/q)+1),K.push(Math.floor((R.y+R.h+ee)/q)+1)}for(var fe=0;fe<K.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<K[fe];)_.call(this);return K},_=function(){var R=this.fillStyle,$=this.strokeStyle,q=this.font,K=this.lineCap,ee=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=$,this.font=q,this.lineCap=K,this.lineWidth=ee,this.lineJoin=oe},S=function(R,$,q){for(var K=0;K<R.length;K++)switch(R[K].type){case"bct":R[K].x2+=$,R[K].y2+=q;case"qct":R[K].x1+=$,R[K].y1+=q;case"mt":case"lt":case"arc":default:R[K].x+=$,R[K].y+=q}return R},D=function(R){return R.sort(function($,q){return $-q})},W=function(R,$){for(var q,K,ee=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,Te=Math.abs(fe*this.ctx.transform.scaleX),Ie=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),et=[],Ee=0;Ee<Fe.length;Ee++)if(Fe[Ee].x!==void 0)for(var Y=j.call(this,Fe[Ee]),dt=0;dt<Y.length;dt+=1)et.indexOf(Y[dt])===-1&&et.push(Y[dt]);for(var Qe=0;Qe<et.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<et[Qe];)_.call(this);if(D(et),this.autoPaging)for(var Re=et[0],je=et[et.length-1],$e=Re;$e<je+1;$e++){this.pdf.setPage($e),this.fillStyle=ee,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=Te,this.lineJoin=Ie;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=$e===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=$e===1?0:ut+($e-2)*ft;if(this.ctx.clip_path.length!==0){var ot=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(q,this.posX+this.margin[3],-tt+Ze+this.ctx.prevPageLastElemOffset),J.call(this,R,!0),this.path=ot}if(K=JSON.parse(JSON.stringify(Me)),this.path=S(K,this.posX+this.margin[3],-tt+Ze+this.ctx.prevPageLastElemOffset),$===!1||$e===0){var kt=($e>Re||$e<je)&&T.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ft,null).clip().discardPath()),J.call(this,R,$),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Te,J.call(this,R,$),this.lineWidth=fe;this.path=Me},J=function(R,$){if((R!=="stroke"||$||!L.call(this))&&(R==="stroke"||$||!g.call(this))){for(var q,K,ee=[],oe=this.path,he=0;he<oe.length;he++){var fe=oe[he];switch(fe.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:fe,deltas:[],abs:[]});break;case"lt":var Te=ee.length;if(oe[he-1]&&!isNaN(oe[he-1].x)&&(q=[fe.x-oe[he-1].x,fe.y-oe[he-1].y],Te>0)){for(;Te>=0;Te--)if(ee[Te-1].close!==!0&&ee[Te-1].begin!==!0){ee[Te-1].deltas.push(q),ee[Te-1].abs.push(fe);break}}break;case"bct":q=[fe.x1-oe[he-1].x,fe.y1-oe[he-1].y,fe.x2-oe[he-1].x,fe.y2-oe[he-1].y,fe.x-oe[he-1].x,fe.y-oe[he-1].y],ee[ee.length-1].deltas.push(q);break;case"qct":var Ie=oe[he-1].x+2/3*(fe.x1-oe[he-1].x),Me=oe[he-1].y+2/3*(fe.y1-oe[he-1].y),Fe=fe.x+2/3*(fe.x1-fe.x),et=fe.y+2/3*(fe.y1-fe.y),Ee=fe.x,Y=fe.y;q=[Ie-oe[he-1].x,Me-oe[he-1].y,Fe-oe[he-1].x,et-oe[he-1].y,Ee-oe[he-1].x,Y-oe[he-1].y],ee[ee.length-1].deltas.push(q);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(fe)}}K=$?null:R==="stroke"?"stroke":"fill";for(var dt=!1,Qe=0;Qe<ee.length;Qe++)if(ee[Qe].arc)for(var Re=ee[Qe].abs,je=0;je<Re.length;je++){var $e=Re[je];$e.type==="arc"?A.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,$,!dt):N.call(this,$e.x,$e.y),dt=!0}else if(ee[Qe].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ee[Qe].begin!==!0){var ze=ee[Qe].start.x,Ze=ee[Qe].start.y;Q.call(this,ee[Qe].deltas,ze,Ze),dt=!0}K&&O.call(this,K),$&&B.call(this)}},ie=function(R){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-q;case"top":return R+$-q;case"hanging":return R+$-2*q;case"middle":return R+$/2-q;case"ideographic":return R;case"alphabetic":default:return R}},C=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function($,q){this.colorStops.push([$,q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(R,$,q,K,ee,oe,he,fe,Te){for(var Ie=ve.call(this,q,K,ee,oe),Me=0;Me<Ie.length;Me++){var Fe=Ie[Me];Me===0&&(Te?x.call(this,Fe.x1+R,Fe.y1+$):N.call(this,Fe.x1+R,Fe.y1+$)),ye.call(this,R,$,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}fe?B.call(this):O.call(this,he)},O=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(R,$){this.pdf.internal.out(n(R)+" "+r($)+" m")},I=function(R){var $;switch(R.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var q=this.pdf.getTextDimensions(R.text),K=ie.call(this,R.y),ee=C.call(this,K)-q.h,oe=this.ctx.transform.applyToPoint(new o(R.x,K)),he=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Te,Ie,Me,Fe=this.ctx.transform.applyToRectangle(new a(R.x,K,q.w,q.h)),et=fe.applyToRectangle(new a(R.x,ee,q.w,q.h)),Ee=j.call(this,et),Y=[],dt=0;dt<Ee.length;dt+=1)Y.indexOf(Ee[dt])===-1&&Y.push(Ee[dt]);if(D(Y),this.autoPaging)for(var Qe=Y[0],Re=Y[Y.length-1],je=Qe;je<Re+1;je++){this.pdf.setPage(je);var $e=je===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],ut=Ze-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],tt=ft-this.margin[3],ot=je===1?0:ze+(je-2)*ut;if(this.ctx.clip_path.length!==0){var kt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Te,this.posX+this.margin[3],-1*ot+$e),J.call(this,"fill",!0),this.path=kt}var it=S([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-ot+$e+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*R.scale),Me=this.lineWidth,this.lineWidth=Me*R.scale);var _t=this.autoPaging!=="text";if(_t||it.y+it.h<=Ze){if(_t||it.y>=$e&&it.x<=ft){var He=_t?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||ft-it.x)[0],dn=S([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-ot+$e+this.ctx.prevPageLastElemOffset)[0],At=_t&&(je>Qe||je<Re)&&T.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,ut,null).clip().discardPath()),this.pdf.text(He,dn.x,dn.y,{angle:R.angle,align:$,renderingMode:R.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else it.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-it.y);R.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=Me)}else R.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*R.scale),Me=this.lineWidth,this.lineWidth=Me*R.scale),this.pdf.text(R.text,oe.x+this.posX,oe.y+this.posY,{angle:R.angle,align:$,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=Me)},N=function(R,$,q,K){q=q||0,K=K||0,this.pdf.internal.out(n(R+q)+" "+r($+K)+" l")},Q=function(R,$,q){return this.pdf.lines(R,$,q,null,null)},ye=function(R,$,q,K,ee,oe,he,fe){this.pdf.internal.out([e(i(q+R)),e(s(K+$)),e(i(ee+R)),e(s(oe+$)),e(i(he+R)),e(s(fe+$)),"c"].join(" "))},ve=function(R,$,q,K){for(var ee=2*Math.PI,oe=Math.PI/2;$>q;)$-=ee;var he=Math.abs(q-$);he<ee&&K&&(he=ee-he);for(var fe=[],Te=K?-1:1,Ie=$;he>1e-5;){var Me=Ie+Te*Math.min(he,oe);fe.push(we.call(this,R,Ie,Me)),he-=Math.abs(Me-Ie),Ie=Me}return fe},we=function(R,$,q){var K=(q-$)/2,ee=R*Math.cos(K),oe=R*Math.sin(K),he=ee,fe=-oe,Te=he*he+fe*fe,Ie=Te+he*ee+fe*oe,Me=4/3*(Math.sqrt(2*Te*Ie)-Ie)/(he*oe-fe*ee),Fe=he-Me*fe,et=fe+Me*he,Ee=Fe,Y=-et,dt=K+$,Qe=Math.cos(dt),Re=Math.sin(dt);return{x1:R*Math.cos($),y1:R*Math.sin($),x2:Fe*Qe-et*Re,y2:Fe*Re+et*Qe,x3:Ee*Qe-Y*Re,y3:Ee*Re+Y*Qe,x4:R*Math.cos(q),y4:R*Math.sin(q)}},X=function(R){return 180*R/Math.PI},ce=function(R,$,q,K,ee,oe){var he=R+.5*(q-R),fe=$+.5*(K-$),Te=ee+.5*(q-ee),Ie=oe+.5*(K-oe),Me=Math.min(R,ee,he,Te),Fe=Math.max(R,ee,he,Te),et=Math.min($,oe,fe,Ie),Ee=Math.max($,oe,fe,Ie);return new a(Me,et,Fe-Me,Ee-et)},de=function(R,$,q,K,ee,oe,he,fe){var Te,Ie,Me,Fe,et,Ee,Y,dt,Qe,Re,je,$e,ze,Ze,ut=q-R,ft=K-$,tt=ee-q,ot=oe-K,kt=he-ee,it=fe-oe;for(Ie=0;Ie<41;Ie++)Qe=(Y=(Me=R+(Te=Ie/40)*ut)+Te*((et=q+Te*tt)-Me))+Te*(et+Te*(ee+Te*kt-et)-Y),Re=(dt=(Fe=$+Te*ft)+Te*((Ee=K+Te*ot)-Fe))+Te*(Ee+Te*(oe+Te*it-Ee)-dt),Ie==0?(je=Qe,$e=Re,ze=Qe,Ze=Re):(je=Math.min(je,Qe),$e=Math.min($e,Re),ze=Math.max(ze,Qe),Ze=Math.max(Ze,Re));return new a(Math.round(je),Math.round($e),Math.round(ze-je),Math.round(Ze-$e))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,$,q=(R=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:$}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(at.API),function(t){var e=function(s){var o,a,l,h,p,v,w,g,L,T;for(a=[],l=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>l;l+=4)(p=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(v=(p=((p=((p=((p=(p-(T=p%85))/85)-(L=p%85))/85)-(g=p%85))/85)-(w=p%85))/85)%85,a.push(v+33,w+33,g+33,L+33,T+33)):a.push(122);return function(j,_){for(var S=_;S>0;S--)j.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,h,p,v=String,w="length",g=255,L="charCodeAt",T="slice",j="replace";for(s[T](-2),s=s[T](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),l=[],h=0,p=(s+=o="uuuuu"[T](s[w]%5||5))[w];p>h;h+=5)a=52200625*(s[L](h)-33)+614125*(s[L](h+1)-33)+7225*(s[L](h+2)-33)+85*(s[L](h+3)-33)+(s[L](h+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(_,S){for(var D=S;D>0;D--)_.pop()}(l,o[w]),v.fromCharCode.apply(v,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=qg(o)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,h,p){var v=new XMLHttpRequest,w=0,g=function(L){var T=L.length,j=[],_=String.fromCharCode;for(w=0;w<T;w+=1)j.push(_(255&L.charCodeAt(w)));return j.join("")};if(v.open("GET",l,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?p(g(this.responseText)):p(void 0)}),v.send(null),h&&v.status===200)return g(v.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):jg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):jg(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=qt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,p){for(var v=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||v.appendChild(l(w,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(v.width=h.width,v.height=h.height,v.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(v.value=h.value),v.addEventListener("load",function(){v.scrollTop=h.scrollTop,v.scrollLeft=h.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var w=0;w<h.length;++w){var g=h[w],L=g.src.find(function(T){return T.format==="truetype"});L&&l.addFont(L.url,g.ref.name,g.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,l.context2d.save(!0),a(this.prop.container,v)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,h){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(h,p){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return l.updateProgress(null,h),v}).then(h,p).then(function(v){return l.updateProgress(1),v})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=l.call(h,o,a);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,at.getPageSize=function(o,a,l){if(qt(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+l).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+a}var g,L=0,T=0;if(w.hasOwnProperty(v))L=w[v][1]/p,T=w[v][0]/p;else try{L=l[1],T=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",T>L&&(g=T,T=L,L=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",L>T&&(g=T,T=L,L=g)}return{width:T,height:L,unit:a,k:p,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Yg):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return uw=t,this.internal.events.subscribe("postPutResources",function(){ef=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ef+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ef!==void 0&&lw!==void 0&&this.internal.out("/Names <</JavaScript "+ef+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var v=n.internal.newObject();p.push(v);var w=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(v){for(var w,g=256*v.charCodeAt(4)+v.charCodeAt(5),L=v.length,T={width:0,height:0,numcomponents:1},j=4;j<L;j+=2){if(j+=g,e.indexOf(v.charCodeAt(j+1))!==-1){w=256*v.charCodeAt(j+5)+v.charCodeAt(j+6),T={width:256*v.charCodeAt(j+7)+v.charCodeAt(j+8),height:w,numcomponents:v.charCodeAt(j+9)};break}g=256*v.charCodeAt(j+2)+v.charCodeAt(j+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(at.API);var ou,tf,cw,hw,dw,eR=function(){var t,e,n;function r(s){var o,a,l,h,p,v,w,g,L,T,j,_,S,D;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),L=(function(){var W,J;for(J=[],W=0;W<4;++W)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,v.delay=1e3*p/h,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(L==="fdAT"&&(this.pos+=4,o-=4),s=(v!=null?v.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((T=l-this.transparency.indexed.length)>0)for(S=0;0<=T?S<T:S>T;0<=T?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(j=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,j.slice(0,w)),this.text[g]=String.fromCharCode.apply(String,j.slice(w+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(D=this.colorType)===4||D===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(v,w,g,L){var T,j,_,S,D,W,J,ie,C,A,O,B,x,I,N,Q,ye,ve,we,X,ce,de=Math.ceil((h.width-v)/g),Le=Math.ceil((h.height-w)/L),R=h.width==de&&h.height==Le;for(I=o*de,B=R?a:new Uint8Array(I*Le),W=s.length,x=0,j=0;x<Le&&l<W;){switch(s[l++]){case 0:for(S=ye=0;ye<I;S=ye+=1)B[j++]=s[l++];break;case 1:for(S=ve=0;ve<I;S=ve+=1)T=s[l++],D=S<o?0:B[j-o],B[j++]=(T+D)%256;break;case 2:for(S=we=0;we<I;S=we+=1)T=s[l++],_=(S-S%o)/o,N=x&&B[(x-1)*I+_*o+S%o],B[j++]=(N+T)%256;break;case 3:for(S=X=0;X<I;S=X+=1)T=s[l++],_=(S-S%o)/o,D=S<o?0:B[j-o],N=x&&B[(x-1)*I+_*o+S%o],B[j++]=(T+Math.floor((D+N)/2))%256;break;case 4:for(S=ce=0;ce<I;S=ce+=1)T=s[l++],_=(S-S%o)/o,D=S<o?0:B[j-o],x===0?N=Q=0:(N=B[(x-1)*I+_*o+S%o],Q=_&&B[(x-1)*I+(_-1)*o+S%o]),J=D+N-Q,ie=Math.abs(J-D),A=Math.abs(J-N),O=Math.abs(J-Q),C=ie<=A&&ie<=O?D:A<=O?N:Q,B[j++]=(T+C)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!R){var $=((w+x*L)*h.width+v)*o,q=x*I;for(S=0;S<de;S+=1){for(var K=0;K<o;K+=1)a[$++]=B[q++];$+=(g-1)*o}}x++}}return s=CC(s),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,h,p,v,w,g;for(a=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+a.length),l=0,s=0,o=v=0,w=a.length;v<w;o=v+=3)h[l++]=a[o],h[l++]=a[o+1],h[l++]=a[o+2],h[l++]=(g=p[s++])!=null?g:255;return h},r.prototype.copyToImageData=function(s,o){var a,l,h,p,v,w,g,L,T,j,_;if(l=this.colors,T=null,a=this.hasAlphaChannel,this.palette.length&&(T=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),L=(h=s.data||s).length,v=T||o,p=w=0,l===1)for(;p<L;)g=T?4*o[p/4]:w,j=v[g++],h[p++]=j,h[p++]=j,h[p++]=j,h[p++]=a?v[g++]:255,w=g;else for(;p<L;)g=T?4*o[p/4]:w,h[p++]=v[g++],h[p++]=v[g++],h[p++]=v[g++],h[p++]=a?v[g++]:255,w=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,h,p,v,w,g;if(this.animation){for(g=[],a=p=0,v=(w=this.animation.frames).length;p<v;a=++p)o=w[a],l=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,h),o.imageData=l,g.push(o.image=t(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,h;return a=(l=this.animation.frames)[o],h=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,h,p,v,w=this;return a=0,v=this.animation,h=v.numFrames,l=v.frames,p=v.numPlays,(o=function(){var g,L;if(g=a++%h,L=l[g],w.renderFrame(s,g),h>1&&a/h<p)return w.animation._timeout=setTimeout(o,L.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function tR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var h=!0,p=[],v=0,w=null,g=0,L=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,L=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];v=t[e++]|t[e++]<<8,w=t[e++],!(1&T)&&(w=null),g=T>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,W=t[e++],J=W>>6&1,ie=1<<(7&W)+1,C=a,A=l,O=!1;W>>7&&(O=!0,C=e,A=ie,e+=3*ie);var B=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}p.push({x:j,y:_,width:S,height:D,has_local_palette:O,palette_offset:C,palette_size:A,data_offset:B,data_length:e-B,transparent_index:w,interlaced:!!J,delay:v,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return L},this.frameInfo=function(I){if(I<0||I>=p.length)throw new Error("Frame index out of range.");return p[I]},this.decodeAndBlitFrameBGRA=function(I,N){var Q=this.frameInfo(I),ye=Q.width*Q.height,ve=new Uint8Array(ye);fw(t,Q.data_offset,ve,ye);var we=Q.palette_offset,X=Q.transparent_index;X===null&&(X=256);var ce=Q.width,de=n-ce,Le=ce,R=4*(Q.y*n+Q.x),$=4*((Q.y+Q.height)*n+Q.x),q=R,K=4*de;Q.interlaced===!0&&(K+=4*n*7);for(var ee=8,oe=0,he=ve.length;oe<he;++oe){var fe=ve[oe];if(Le===0&&(Le=ce,(q+=K)>=$&&(K=4*de+4*n*(ee-1),q=R+(ce+de)*(ee<<1),ee>>=1)),fe===X)q+=4;else{var Te=t[we+3*fe],Ie=t[we+3*fe+1],Me=t[we+3*fe+2];N[q++]=Me,N[q++]=Ie,N[q++]=Te,N[q++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(I,N){var Q=this.frameInfo(I),ye=Q.width*Q.height,ve=new Uint8Array(ye);fw(t,Q.data_offset,ve,ye);var we=Q.palette_offset,X=Q.transparent_index;X===null&&(X=256);var ce=Q.width,de=n-ce,Le=ce,R=4*(Q.y*n+Q.x),$=4*((Q.y+Q.height)*n+Q.x),q=R,K=4*de;Q.interlaced===!0&&(K+=4*n*7);for(var ee=8,oe=0,he=ve.length;oe<he;++oe){var fe=ve[oe];if(Le===0&&(Le=ce,(q+=K)>=$&&(K=4*de+4*n*(ee-1),q=R+(ce+de)*(ee<<1),ee>>=1)),fe===X)q+=4;else{var Te=t[we+3*fe],Ie=t[we+3*fe+1],Me=t[we+3*fe+2];N[q++]=Te,N[q++]=Ie,N[q++]=Me,N[q++]=255}--Le}}}function fw(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,h=(1<<l)-1,p=0,v=0,w=0,g=t[e++],L=new Int32Array(4096),T=null;;){for(;p<16&&g!==0;)v|=t[e++]<<p,p+=8,g===1?g=t[e++]:--g;if(p<l)break;var j=v&h;if(v>>=l,p-=l,j!==s){if(j===o)break;for(var _=j<a?j:T,S=0,D=_;D>s;)D=L[D]>>8,++S;var W=D;if(w+S+(_!==j?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[w++]=W;var J=w+=S;for(_!==j&&(n[w++]=W),D=_;S--;)D=L[D],n[--J]=255&D,D>>=8;T!==null&&a<4096&&(L[a++]=T<<8|W,a>=h+1&&l<12&&(++l,h=h<<1|1)),T=j}else a=o+1,h=(1<<(l=i+1))-1,T=null}return w!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cm(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),p=new Array(64),v=new Array(65535),w=new Array(65535),g=new Array(64),L=new Array(64),T=[],j=0,_=7,S=new Array(64),D=new Array(64),W=new Array(64),J=new Array(256),ie=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(R,$){for(var q=0,K=0,ee=new Array,oe=1;oe<=16;oe++){for(var he=1;he<=R[oe];he++)ee[$[K]]=[],ee[$[K]][0]=q,ee[$[K]][1]=oe,K++,q++;q*=2}return ee}function we(R){for(var $=R[0],q=R[1]-1;q>=0;)$&1<<q&&(j|=1<<_),q--,--_<0&&(j==255?(X(255),X(0)):X(j),_=7,j=0)}function X(R){T.push(R)}function ce(R){X(R>>8&255),X(255&R)}function de(R,$,q,K,ee){for(var oe,he=ee[0],fe=ee[240],Te=function(Re,je){var $e,ze,Ze,ut,ft,tt,ot,kt,it,_t,He=0;for(it=0;it<8;++it){$e=Re[He],ze=Re[He+1],Ze=Re[He+2],ut=Re[He+3],ft=Re[He+4],tt=Re[He+5],ot=Re[He+6];var dn=$e+(kt=Re[He+7]),At=$e-kt,Dr=ze+ot,Dt=ze-ot,Yt=Ze+tt,hi=Ze-tt,It=ut+ft,ts=ut-ft,en=dn+It,Kn=dn-It,Kr=Dr+Yt,Qt=Dr-Yt;Re[He]=en+Kr,Re[He+4]=en-Kr;var nt=.707106781*(Qt+Kn);Re[He+2]=Kn+nt,Re[He+6]=Kn-nt;var Pt=.382683433*((en=ts+hi)-(Qt=Dt+At)),di=.5411961*en+Pt,kn=1.306562965*Qt+Pt,sr=.707106781*(Kr=hi+Dt),Yr=At+sr,Ge=At-sr;Re[He+5]=Ge+di,Re[He+3]=Ge-di,Re[He+1]=Yr+kn,Re[He+7]=Yr-kn,He+=8}for(He=0,it=0;it<8;++it){$e=Re[He],ze=Re[He+8],Ze=Re[He+16],ut=Re[He+24],ft=Re[He+32],tt=Re[He+40],ot=Re[He+48];var Or=$e+(kt=Re[He+56]),or=$e-kt,Pn=ze+ot,wn=ze-ot,fn=Ze+tt,Ln=Ze-tt,bo=ut+ft,ki=ut-ft,ar=Or+bo,Mr=Or-bo,Sr=Pn+fn,Ar=Pn-fn;Re[He]=ar+Sr,Re[He+32]=ar-Sr;var _n=.707106781*(Ar+Mr);Re[He+16]=Mr+_n,Re[He+48]=Mr-_n;var Qr=.382683433*((ar=ki+Ln)-(Ar=wn+or)),ns=.5411961*ar+Qr,rs=1.306562965*Ar+Qr,is=.707106781*(Sr=Ln+wn),Ls=or+is,Cs=or-is;Re[He+40]=Cs+ns,Re[He+24]=Cs-ns,Re[He+8]=Ls+rs,Re[He+56]=Ls-rs,He++}for(it=0;it<64;++it)_t=Re[it]*je[it],g[it]=_t>0?_t+.5|0:_t-.5|0;return g}(R,$),Ie=0;Ie<64;++Ie)L[C[Ie]]=Te[Ie];var Me=L[0]-q;q=L[0],Me==0?we(K[0]):(we(K[w[oe=32767+Me]]),we(v[oe]));for(var Fe=63;Fe>0&&L[Fe]==0;)Fe--;if(Fe==0)return we(he),q;for(var et,Ee=1;Ee<=Fe;){for(var Y=Ee;L[Ee]==0&&Ee<=Fe;)++Ee;var dt=Ee-Y;if(dt>=16){et=dt>>4;for(var Qe=1;Qe<=et;++Qe)we(fe);dt&=15}oe=32767+L[Ee],we(ee[(dt<<4)+w[oe]]),we(v[oe]),Ee++}return Fe!=63&&we(he),q}function Le(R){R=Math.min(Math.max(R,1),100),s!=R&&(function($){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ee=o((q[K]*$+50)/100);ee=Math.min(Math.max(ee,1),255),a[C[K]]=ee}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=o((oe[he]*$+50)/100);fe=Math.min(Math.max(fe,1),255),l[C[he]]=fe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,Me=0;Me<8;Me++)for(var Fe=0;Fe<8;Fe++)h[Ie]=1/(a[C[Ie]]*Te[Me]*Te[Fe]*8),p[Ie]=1/(l[C[Ie]]*Te[Me]*Te[Fe]*8),Ie++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,$){$&&Le($),T=new Array,j=0,_=7,ce(65496),ce(65504),ce(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ce(1),ce(1),X(0),X(0),function(){ce(65499),ce(132),X(0);for(var ze=0;ze<64;ze++)X(a[ze]);X(1);for(var Ze=0;Ze<64;Ze++)X(l[Ze])}(),function(ze,Ze){ce(65472),ce(17),X(8),ce(Ze),ce(ze),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(R.width,R.height),function(){ce(65476),ce(418),X(0);for(var ze=0;ze<16;ze++)X(A[ze+1]);for(var Ze=0;Ze<=11;Ze++)X(O[Ze]);X(16);for(var ut=0;ut<16;ut++)X(B[ut+1]);for(var ft=0;ft<=161;ft++)X(x[ft]);X(1);for(var tt=0;tt<16;tt++)X(I[tt+1]);for(var ot=0;ot<=11;ot++)X(N[ot]);X(17);for(var kt=0;kt<16;kt++)X(Q[kt+1]);for(var it=0;it<=161;it++)X(ye[it])}(),ce(65498),ce(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var q=0,K=0,ee=0;j=0,_=7,this.encode.displayName="_encode_";for(var oe,he,fe,Te,Ie,Me,Fe,et,Ee,Y=R.data,dt=R.width,Qe=R.height,Re=4*dt,je=0;je<Qe;){for(oe=0;oe<Re;){for(Ie=Re*je+oe,Fe=-1,et=0,Ee=0;Ee<64;Ee++)Me=Ie+(et=Ee>>3)*Re+(Fe=4*(7&Ee)),je+et>=Qe&&(Me-=Re*(je+1+et-Qe)),oe+Fe>=Re&&(Me-=oe+Fe-Re+4),he=Y[Me++],fe=Y[Me++],Te=Y[Me++],S[Ee]=(ie[he]+ie[fe+256>>0]+ie[Te+512>>0]>>16)-128,D[Ee]=(ie[he+768>>0]+ie[fe+1024>>0]+ie[Te+1280>>0]>>16)-128,W[Ee]=(ie[he+1280>>0]+ie[fe+1536>>0]+ie[Te+1792>>0]>>16)-128;q=de(S,h,q,e,r),K=de(D,p,K,n,i),ee=de(W,p,ee,n,i),oe+=32}je+=8}if(_>=0){var $e=[];$e[1]=_+1,$e[0]=(1<<_+1)-1,we($e)}return ce(65497),new Uint8Array(T)},t=t||50,function(){for(var R=String.fromCharCode,$=0;$<256;$++)J[$]=R($)}(),e=ve(A,O),n=ve(I,N),r=ve(B,x),i=ve(Q,ye),function(){for(var R=1,$=2,q=1;q<=15;q++){for(var K=R;K<$;K++)w[32767+K]=q,v[32767+K]=[],v[32767+K][1]=q,v[32767+K][0]=K;for(var ee=-($-1);ee<=-R;ee++)w[32767+ee]=q,v[32767+ee]=[],v[32767+ee][1]=q,v[32767+ee][0]=$-1+ee;R<<=1,$<<=1}}(),function(){for(var R=0;R<256;R++)ie[R]=19595*R,ie[R+256>>0]=38470*R,ie[R+512>>0]=7471*R+32768,ie[R+768>>0]=-11059*R,ie[R+1024>>0]=-21709*R,ie[R+1280>>0]=32768*R+8421375,ie[R+1536>>0]=-27439*R,ie[R+1792>>0]=-5329*R}(),Le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pw(t){function e(A){if(!A)throw Error("assert :P")}function n(A,O,B){for(var x=0;4>x;x++)if(A[O+x]!=B.charCodeAt(x))return!0;return!1}function r(A,O,B,x,I){for(var N=0;N<I;N++)A[O+N]=B[x+N]}function i(A,O,B,x){for(var I=0;I<x;I++)A[O+I]=B}function s(A){return new Int32Array(A)}function o(A,O){for(var B=[],x=0;x<A;x++)B.push(new O);return B}function a(A,O){var B=[];return function x(I,N,Q){for(var ye=Q[N],ve=0;ve<ye&&(I.push(Q.length>N+1?[]:new O),!(Q.length<N+1));ve++)x(I[ve],N+1,Q)}(B,0,A),B}var l=function(){var A=this;function O(u,d){for(var m=1<<d-1>>>0;u&m;)m>>>=1;return m?(u&m-1)+m:u}function B(u,d,m,b,P){e(!(b%m));do u[d+(b-=m)]=P;while(0<b)}function x(u,d,m,b,P){if(e(2328>=P),512>=P)var M=s(512);else if((M=s(P))==null)return 0;return function(F,U,z,H,ne,pe){var me,ue,xe=U,_e=1<<z,re=s(16),se=s(16);for(e(ne!=0),e(H!=null),e(F!=null),e(0<z),ue=0;ue<ne;++ue){if(15<H[ue])return 0;++re[H[ue]]}if(re[0]==ne)return 0;for(se[1]=0,me=1;15>me;++me){if(re[me]>1<<me)return 0;se[me+1]=se[me]+re[me]}for(ue=0;ue<ne;++ue)me=H[ue],0<H[ue]&&(pe[se[me]++]=ue);if(se[15]==1)return(H=new I).g=0,H.value=pe[0],B(F,xe,1,_e,H),_e;var Se,Ne=-1,Ae=_e-1,We=0,Ue=1,rt=1,qe=1<<z;for(ue=0,me=1,ne=2;me<=z;++me,ne<<=1){if(Ue+=rt<<=1,0>(rt-=re[me]))return 0;for(;0<re[me];--re[me])(H=new I).g=me,H.value=pe[ue++],B(F,xe+We,ne,qe,H),We=O(We,me)}for(me=z+1,ne=2;15>=me;++me,ne<<=1){if(Ue+=rt<<=1,0>(rt-=re[me]))return 0;for(;0<re[me];--re[me]){if(H=new I,(We&Ae)!=Ne){for(xe+=qe,Se=1<<(Ne=me)-z;15>Ne&&!(0>=(Se-=re[Ne]));)++Ne,Se<<=1;_e+=qe=1<<(Se=Ne-z),F[U+(Ne=We&Ae)].g=Se+z,F[U+Ne].value=xe-U-Ne}H.g=me-z,H.value=pe[ue++],B(F,xe+(We>>z),ne,qe,H),We=O(We,me)}}return Ue!=2*se[15]-1?0:_e}(u,d,m,b,P,M)}function I(){this.value=this.g=0}function N(){this.value=this.g=0}function Q(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xn,N)}function ye(u,d,m,b){e(u!=null),e(d!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=m,u.Jd=d,u.Yc=m+b,u.Zc=4<=b?m+b-4+1:m,oe(u)}function ve(u,d){for(var m=0;0<d--;)m|=fe(u,128)<<d;return m}function we(u,d){var m=ve(u,d);return he(u)?-m:m}function X(u,d,m,b){var P,M=0;for(e(u!=null),e(d!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),P=0;P<b;++P)M+=d[m+P]<<8*P;u.Ra=M,u.bb=b,u.oa=d,u.pa=m}function ce(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Kl-8>>>0,++u.bb,u.u-=8;q(u)&&(u.h=1,u.u=0)}function de(u,d){if(e(0<=d),!u.h&&d<=Gl){var m=$(u)&Wl[d];return u.u+=d,ce(u),m}return u.h=1,u.u=0}function Le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&Kl-1)>>>0}function q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Kl}function K(u,d){u.u=d,u.h=q(u)}function ee(u){u.u>=Sc&&(e(u.u>=Sc),ce(u))}function oe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return ve(u,1)}function fe(u,d){var m=u.Ca;0>u.b&&oe(u);var b=u.b,P=m*d>>>8,M=(u.I>>>b>P)+0;for(M?(m-=P,u.I-=P+1<<b>>>0):m=P+1,b=m,P=0;256<=b;)P+=8,b>>=8;return b=7^P+jr[b],u.b-=b,u.Ca=(m<<b)-1,M}function Te(u,d,m){u[d+0]=m>>24&255,u[d+1]=m>>16&255,u[d+2]=m>>8&255,u[d+3]=m>>0&255}function Ie(u,d){return u[d+0]<<0|u[d+1]<<8}function Me(u,d){return Ie(u,d)|u[d+2]<<16}function Fe(u,d){return Ie(u,d)|Ie(u,d+2)<<16}function et(u,d){var m=1<<d;return e(u!=null),e(0<d),u.X=s(m),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function Ee(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),r(d.X,0,u.X,0,1<<d.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function dt(u,d,m,b){e(m!=null),e(b!=null);var P=m[0],M=b[0];return P==0&&(P=(u*M+d/2)/d),M==0&&(M=(d*P+u/2)/u),0>=P||0>=M?0:(m[0]=P,b[0]=M,1)}function Qe(u,d){return u+(1<<d)-1>>>d}function Re(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function je(u,d){A[d]=function(m,b,P,M,F,U,z){var H;for(H=0;H<F;++H){var ne=A[u](U[z+H-1],P,M+H);U[z+H]=Re(m[b+H],ne)}}}function $e(){this.ud=this.hd=this.jd=0}function ze(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function Ze(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ut(u,d){return Ze(u+(u-d+.5>>1))}function ft(u,d,m){return Math.abs(d-m)-Math.abs(u-m)}function tt(u,d,m,b,P,M,F){for(b=M[F-1],m=0;m<P;++m)M[F+m]=b=Re(u[d+m],b)}function ot(u,d,m,b,P){var M;for(M=0;M<m;++M){var F=u[d+M],U=F>>8&255,z=16711935&(z=(z=16711935&F)+((U<<16)+U));b[P+M]=(4278255360&F)+z>>>0}}function kt(u,d){d.jd=u>>0&255,d.hd=u>>8&255,d.ud=u>>16&255}function it(u,d,m,b,P,M){var F;for(F=0;F<b;++F){var U=d[m+F],z=U>>>8,H=U,ne=255&(ne=(ne=U>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));H=255&(H=(H=H+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(ne<<24>>24)>>>5)),P[M+F]=(4278255360&U)+(ne<<16)+H}}function _t(u,d,m,b,P){A[d]=function(M,F,U,z,H,ne,pe,me,ue){for(z=pe;z<me;++z)for(pe=0;pe<ue;++pe)H[ne++]=P(U[b(M[F++])])},A[u]=function(M,F,U,z,H,ne,pe){var me=8>>M.b,ue=M.Ea,xe=M.K[0],_e=M.w;if(8>me)for(M=(1<<M.b)-1,_e=(1<<me)-1;F<U;++F){var re,se=0;for(re=0;re<ue;++re)re&M||(se=b(z[H++])),ne[pe++]=P(xe[se&_e]),se>>=me}else A["VP8LMapColor"+m](z,H,xe,_e,ne,pe,F,U,ue)}}function He(u,d,m,b,P){for(m=d+m;d<m;){var M=u[d++];b[P++]=M>>16&255,b[P++]=M>>8&255,b[P++]=M>>0&255}}function dn(u,d,m,b,P){for(m=d+m;d<m;){var M=u[d++];b[P++]=M>>16&255,b[P++]=M>>8&255,b[P++]=M>>0&255,b[P++]=M>>24&255}}function At(u,d,m,b,P){for(m=d+m;d<m;){var M=(F=u[d++])>>16&240|F>>12&15,F=F>>0&240|F>>28&15;b[P++]=M,b[P++]=F}}function Dr(u,d,m,b,P){for(m=d+m;d<m;){var M=(F=u[d++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;b[P++]=M,b[P++]=F}}function Dt(u,d,m,b,P){for(m=d+m;d<m;){var M=u[d++];b[P++]=M>>0&255,b[P++]=M>>8&255,b[P++]=M>>16&255}}function Yt(u,d,m,b,P,M){if(M==0)for(m=d+m;d<m;)Te(b,((M=u[d++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),P+=32;else r(b,P,u,d,m)}function hi(u,d){A[d][0]=A[u+"0"],A[d][1]=A[u+"1"],A[d][2]=A[u+"2"],A[d][3]=A[u+"3"],A[d][4]=A[u+"4"],A[d][5]=A[u+"5"],A[d][6]=A[u+"6"],A[d][7]=A[u+"7"],A[d][8]=A[u+"8"],A[d][9]=A[u+"9"],A[d][10]=A[u+"10"],A[d][11]=A[u+"11"],A[d][12]=A[u+"12"],A[d][13]=A[u+"13"],A[d][14]=A[u+"0"],A[d][15]=A[u+"0"]}function It(u){return u==r0||u==i0||u==fd||u==s0}function ts(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ts,this.f.kb=new en,this.sd=null}function Kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Pt(u,d){var m=u.T,b=d.ba.f.RGBA,P=b.eb,M=b.fb+u.ka*b.A,F=wi[d.ba.S],U=u.y,z=u.O,H=u.f,ne=u.N,pe=u.ea,me=u.W,ue=d.cc,xe=d.dc,_e=d.Mc,re=d.Nc,se=u.ka,Se=u.ka+u.T,Ne=u.U,Ae=Ne+1>>1;for(se==0?F(U,z,null,null,H,ne,pe,me,H,ne,pe,me,P,M,null,null,Ne):(F(d.ec,d.fc,U,z,ue,xe,_e,re,H,ne,pe,me,P,M-b.A,P,M,Ne),++m);se+2<Se;se+=2)ue=H,xe=ne,_e=pe,re=me,ne+=u.Rc,me+=u.Rc,M+=2*b.A,F(U,(z+=2*u.fa)-u.fa,U,z,ue,xe,_e,re,H,ne,pe,me,P,M-b.A,P,M,Ne);return z+=u.fa,u.j+Se<u.o?(r(d.ec,d.fc,U,z,Ne),r(d.cc,d.dc,H,ne,Ae),r(d.Mc,d.Nc,pe,me,Ae),m--):1&Se||F(U,z,null,null,H,ne,pe,me,H,ne,pe,me,P,M+b.A,null,null,Ne),m}function di(u,d,m){var b=u.F,P=[u.J];if(b!=null){var M=u.U,F=d.ba.S,U=F==dd||F==fd;d=d.ba.f.RGBA;var z=[0],H=u.ka;z[0]=u.T,u.Kb&&(H==0?--z[0]:(--H,P[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-H));var ne=d.eb;H=d.fb+H*d.A,u=Jt(b,P[0],u.width,M,z,ne,H+(U?0:3),d.A),e(m==z),u&&It(F)&&vi(ne,H,U,M,z,d.A)}return 0}function kn(u){var d=u.ma,m=d.ba.S,b=11>m,P=m==cd||m==hd||m==dd||m==n0||m==12||It(m);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!bc(d.Oa,u,P?11:12))return 0;if(P&&It(m)&&ke(),u.da)alert("todo:use_scaling");else{if(b){if(d.Ib=nt,u.Kb){if(m=u.U+1>>1,d.memory=s(u.U+2*m),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+m,d.Ib=Pt,ke()}}else alert("todo:EmitYUV");P&&(d.Jb=di,b&&le())}if(b&&!Z2){for(u=0;256>u;++u)FE[u]=89858*(u-128)+md>>pd,UE[u]=-22014*(u-128)+md,VE[u]=-45773*(u-128),jE[u]=113618*(u-128)+md>>pd;for(u=Pc;u<l0;++u)d=76283*(u-16)+md>>pd,BE[u-Pc]=Vt(d,255),zE[u-Pc]=Vt(d+8>>4,15);Z2=1}return 1}function sr(u){var d=u.ma,m=u.U,b=u.T;return e(!(1&u.ka)),0>=m||0>=b?0:(m=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,m),d.Dc+=m,1)}function Yr(u){u.ma.memory=null}function Ge(u,d,m,b){return de(u,8)!=47?0:(d[0]=de(u,14)+1,m[0]=de(u,14)+1,b[0]=de(u,1),de(u,3)!=0?0:!u.h)}function Or(u,d){if(4>u)return u+1;var m=u-2>>1;return(2+(1&u)<<m)+de(d,m)+1}function or(u,d){return 120<d?d-120:1<=(m=((m=SE[d-1])>>4)*u+(8-(15&m)))?m:1;var m}function Pn(u,d,m){var b=$(m),P=u[d+=255&b].g-8;return 0<P&&(K(m,m.u+8),b=$(m),d+=u[d].value,d+=b&(1<<P)-1),K(m,m.u+u[d].g),u[d].value}function wn(u,d,m){return m.g+=u.g,m.value+=u.value<<d>>>0,e(8>=m.g),u.g}function fn(u,d,m){var b=u.xc;return e((d=b==0?0:u.vc[u.md*(m>>b)+(d>>b)])<u.Wb),u.Ya[d]}function Ln(u,d,m,b){var P=u.ab,M=u.c*d,F=u.C;d=F+d;var U=m,z=b;for(b=u.Ta,m=u.Ua;0<P--;){var H=u.gc[P],ne=F,pe=d,me=U,ue=z,xe=(z=b,U=m,H.Ea);switch(e(ne<pe),e(pe<=H.nc),H.hc){case 2:rd(me,ue,(pe-ne)*xe,z,U);break;case 0:var _e=ne,re=pe,se=z,Se=U,Ne=(qe=H).Ea;_e==0&&(e0(me,ue,null,null,1,se,Se),tt(me,ue+1,0,0,Ne-1,se,Se+1),ue+=Ne,Se+=Ne,++_e);for(var Ae=1<<qe.b,We=Ae-1,Ue=Qe(Ne,qe.b),rt=qe.K,qe=qe.w+(_e>>qe.b)*Ue;_e<re;){var Ot=rt,Bt=qe,Lt=1;for(Ac(me,ue,se,Se-Ne,1,se,Se);Lt<Ne;){var St=(Lt&~We)+Ae;St>Ne&&(St=Ne),(0,Vo[Ot[Bt++]>>8&15])(me,ue+ +Lt,se,Se+Lt-Ne,St-Lt,se,Se+Lt),Lt=St}ue+=Ne,Se+=Ne,++_e&We||(qe+=Ue)}pe!=H.nc&&r(z,U-xe,z,U+(pe-ne-1)*xe,xe);break;case 1:for(xe=me,re=ue,Ne=(me=H.Ea)-(Se=me&~(se=(ue=1<<H.b)-1)),_e=Qe(me,H.b),Ae=H.K,H=H.w+(ne>>H.b)*_e;ne<pe;){for(We=Ae,Ue=H,rt=new $e,qe=re+Se,Ot=re+me;re<qe;)kt(We[Ue++],rt),Xa(rt,xe,re,ue,z,U),re+=ue,U+=ue;re<Ot&&(kt(We[Ue++],rt),Xa(rt,xe,re,Ne,z,U),re+=Ne,U+=Ne),++ne&se||(H+=_e)}break;case 3:if(me==z&&ue==U&&0<H.b){for(re=z,me=xe=U+(pe-ne)*xe-(Se=(pe-ne)*Qe(H.Ea,H.b)),ue=z,se=U,_e=[],Se=(Ne=Se)-1;0<=Se;--Se)_e[Se]=ue[se+Se];for(Se=Ne-1;0<=Se;--Se)re[me+Se]=_e[Se];pi(H,ne,pe,z,xe,z,U)}else pi(H,ne,pe,me,ue,z,U)}U=b,z=m}z!=m&&r(b,m,U,z,M)}function bo(u,d){var m=u.V,b=u.Ba+u.c*u.C,P=d-u.C;if(e(d<=u.l.o),e(16>=P),0<P){var M=u.l,F=u.Ta,U=u.Ua,z=M.width;if(Ln(u,P,m,b),P=U=[U],e((m=u.C)<(b=d)),e(M.v<M.va),b>M.o&&(b=M.o),m<M.j){var H=M.j-m;m=M.j,P[0]+=H*z}if(m>=b?m=0:(P[0]+=4*M.v,M.ka=m-M.j,M.U=M.va-M.v,M.T=b-m,m=1),m){if(U=U[0],11>(m=u.ca).S){var ne=m.f.RGBA,pe=(b=m.S,P=M.U,M=M.T,H=ne.eb,ne.A),me=M;for(ne=ne.fb+u.Ma*ne.A;0<me--;){var ue=F,xe=U,_e=P,re=H,se=ne;switch(b){case ud:Vr(ue,xe,_e,re,se);break;case cd:Ir(ue,xe,_e,re,se);break;case r0:Ir(ue,xe,_e,re,se),vi(re,se,0,_e,1,0);break;case q2:qs(ue,xe,_e,re,se);break;case hd:Yt(ue,xe,_e,re,se,1);break;case i0:Yt(ue,xe,_e,re,se,1),vi(re,se,0,_e,1,0);break;case dd:Yt(ue,xe,_e,re,se,0);break;case fd:Yt(ue,xe,_e,re,se,0),vi(re,se,1,_e,1,0);break;case n0:Uo(ue,xe,_e,re,se);break;case s0:Uo(ue,xe,_e,re,se),Xt(re,se,_e,1,0);break;case $2:zs(ue,xe,_e,re,se);break;default:e(0)}U+=z,ne+=pe}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=m.height)}}u.C=d,e(u.C<=u.i)}function ki(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var m=u.Ya[d].G,b=u.Ya[d].H;if(0<m[1][b[1]+0].g||0<m[2][b[2]+0].g||0<m[3][b[3]+0].g)return 0}return 1}function ar(u,d,m,b,P,M){if(u.Z!=0){var F=u.qd,U=u.rd;for(e($o[u.Z]!=null);d<m;++d)$o[u.Z](F,U,b,P,b,P,M),F=b,U=P,P+=M;u.qd=F,u.rd=U}}function Mr(u,d){var m=u.l.ma,b=m.Z==0||m.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(d<=u.l.o),d>b){var P=u.l.width,M=m.ca,F=m.tb+P*b,U=u.V,z=u.Ba+u.c*b,H=u.gc;e(u.ab==1),e(H[0].hc==3),id(H[0],b,d,U,z,M,F),ar(m,b,d,M,F,P)}u.C=u.Ma=d}function Sr(u,d,m,b,P,M,F){var U=u.$/b,z=u.$%b,H=u.m,ne=u.s,pe=m+u.$,me=pe;P=m+b*P;var ue=m+b*M,xe=280+ne.ua,_e=u.Pb?U:16777216,re=0<ne.ua?ne.Wa:null,se=ne.wc,Se=pe<ue?fn(ne,z,U):null;e(u.C<M),e(ue<=P);var Ne=!1;e:for(;;){for(;Ne||pe<ue;){var Ae=0;if(U>=_e){var We=pe-m;e((_e=u).Pb),_e.wd=_e.m,_e.xd=We,0<_e.s.ua&&Ee(_e.s.Wa,_e.s.vb),_e=U+xE}if(z&se||(Se=fn(ne,z,U)),e(Se!=null),Se.Qb&&(d[pe]=Se.qb,Ne=!0),!Ne)if(ee(H),Se.jc){Ae=H,We=d;var Ue=pe,rt=Se.pd[$(Ae)&Xn-1];e(Se.jc),256>rt.g?(K(Ae,Ae.u+rt.g),We[Ue]=rt.value,Ae=0):(K(Ae,Ae.u+rt.g-256),e(256<=rt.value),Ae=rt.value),Ae==0&&(Ne=!0)}else Ae=Pn(Se.G[0],Se.H[0],H);if(H.h)break;if(Ne||256>Ae){if(!Ne)if(Se.nd)d[pe]=(Se.qb|Ae<<8)>>>0;else{if(ee(H),Ne=Pn(Se.G[1],Se.H[1],H),ee(H),We=Pn(Se.G[2],Se.H[2],H),Ue=Pn(Se.G[3],Se.H[3],H),H.h)break;d[pe]=(Ue<<24|Ne<<16|Ae<<8|We)>>>0}if(Ne=!1,++pe,++z>=b&&(z=0,++U,F!=null&&U<=M&&!(U%16)&&F(u,U),re!=null))for(;me<pe;)Ae=d[me++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae}else if(280>Ae){if(Ae=Or(Ae-256,H),We=Pn(Se.G[4],Se.H[4],H),ee(H),We=or(b,We=Or(We,H)),H.h)break;if(pe-m<We||P-pe<Ae)break e;for(Ue=0;Ue<Ae;++Ue)d[pe+Ue]=d[pe+Ue-We];for(pe+=Ae,z+=Ae;z>=b;)z-=b,++U,F!=null&&U<=M&&!(U%16)&&F(u,U);if(e(pe<=P),z&se&&(Se=fn(ne,z,U)),re!=null)for(;me<pe;)Ae=d[me++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae}else{if(!(Ae<xe))break e;for(Ne=Ae-280,e(re!=null);me<pe;)Ae=d[me++],re.X[(506832829*Ae&4294967295)>>>re.Mb]=Ae;Ae=pe,e(!(Ne>>>(We=re).Xa)),d[Ae]=We.X[Ne],Ne=!0}Ne||e(H.h==q(H))}if(u.Pb&&H.h&&pe<P)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ee(u.s.vb,u.s.Wa);else{if(H.h)break e;F!=null&&F(u,U>M?M:U),u.a=0,u.$=pe-m}return 1}return u.a=3,0}function Ar(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function _n(){var u=new $l;return u==null?null:(u.a=0,u.xb=G2,hi("Predictor","VP8LPredictors"),hi("Predictor","VP8LPredictors_C"),hi("PredictorAdd","VP8LPredictorsAdd"),hi("PredictorAdd","VP8LPredictorsAdd_C"),rd=ot,Xa=it,Vr=He,Ir=dn,Uo=At,zs=Dr,qs=Dt,A.VP8LMapColor32b=Yl,A.VP8LMapColor8b=sd,u)}function Qr(u,d,m,b,P){var M=1,F=[u],U=[d],z=b.m,H=b.s,ne=null,pe=0;e:for(;;){if(m)for(;M&&de(z,1);){var me=F,ue=U,xe=b,_e=1,re=xe.m,se=xe.gc[xe.ab],Se=de(re,2);if(xe.Oc&1<<Se)M=0;else{switch(xe.Oc|=1<<Se,se.hc=Se,se.Ea=me[0],se.nc=ue[0],se.K=[null],++xe.ab,e(4>=xe.ab),Se){case 0:case 1:se.b=de(re,3)+2,_e=Qr(Qe(se.Ea,se.b),Qe(se.nc,se.b),0,xe,se.K),se.K=se.K[0];break;case 3:var Ne,Ae=de(re,8)+1,We=16<Ae?0:4<Ae?1:2<Ae?2:3;if(me[0]=Qe(se.Ea,We),se.b=We,Ne=_e=Qr(Ae,1,0,xe,se.K)){var Ue,rt=Ae,qe=se,Ot=1<<(8>>qe.b),Bt=s(Ot);if(Bt==null)Ne=0;else{var Lt=qe.K[0],St=qe.w;for(Bt[0]=qe.K[0][0],Ue=1;Ue<1*rt;++Ue)Bt[Ue]=Re(Lt[St+Ue],Bt[Ue-1]);for(;Ue<4*Ot;++Ue)Bt[Ue]=0;qe.K[0]=null,qe.K[0]=Bt,Ne=1}}_e=Ne;break;case 2:break;default:e(0)}M=_e}}if(F=F[0],U=U[0],M&&de(z,1)&&!(M=1<=(pe=de(z,4))&&11>=pe)){b.a=3;break e}var Gt;if(Gt=M)t:{var Ht,yt,Cn,Ur=b,Rn=F,Br=U,zt=pe,ti=m,ni=Ur.m,Bn=Ur.s,Jn=[null],Nr=1,_i=0,ps=AE[zt];n:for(;;){if(ti&&de(ni,1)){var zn=de(ni,3)+2,Gs=Qe(Rn,zn),nl=Qe(Br,zn),eu=Gs*nl;if(!Qr(Gs,nl,0,Ur,Jn))break n;for(Jn=Jn[0],Bn.xc=zn,Ht=0;Ht<eu;++Ht){var Ho=Jn[Ht]>>8&65535;Jn[Ht]=Ho,Ho>=Nr&&(Nr=Ho+1)}}if(ni.h)break n;for(yt=0;5>yt;++yt){var mn=H2[yt];!yt&&0<zt&&(mn+=1<<zt),_i<mn&&(_i=mn)}var u0=o(Nr*ps,I),nv=Nr,rv=o(nv,Q);if(rv==null)var vd=null;else e(65536>=nv),vd=rv;var Lc=s(_i);if(vd==null||Lc==null||u0==null){Ur.a=1;break n}var yd=u0;for(Ht=Cn=0;Ht<Nr;++Ht){var Vi=vd[Ht],tu=Vi.G,nu=Vi.H,iv=0,wd=1,sv=0;for(yt=0;5>yt;++yt){mn=H2[yt],tu[yt]=yd,nu[yt]=Cn,!yt&&0<zt&&(mn+=1<<zt);i:{var _d,c0=mn,bd=Ur,Cc=Lc,HE=yd,WE=Cn,h0=0,Wo=bd.m,GE=de(Wo,1);if(i(Cc,0,0,c0),GE){var KE=de(Wo,1)+1,YE=de(Wo,1),ov=de(Wo,YE==0?1:8);Cc[ov]=1,KE==2&&(Cc[ov=de(Wo,8)]=1);var Ed=1}else{var av=s(19),lv=de(Wo,4)+4;if(19<lv){bd.a=3;var Sd=0;break i}for(_d=0;_d<lv;++_d)av[EE[_d]]=de(Wo,3);var d0=void 0,Rc=void 0,uv=bd,QE=av,Ad=c0,cv=Cc,f0=0,Go=uv.m,hv=8,dv=o(128,I);r:for(;x(dv,0,7,QE,19);){if(de(Go,1)){var XE=2+2*de(Go,3);if((d0=2+de(Go,XE))>Ad)break r}else d0=Ad;for(Rc=0;Rc<Ad&&d0--;){ee(Go);var fv=dv[0+(127&$(Go))];K(Go,Go.u+fv.g);var ru=fv.value;if(16>ru)cv[Rc++]=ru,ru!=0&&(hv=ru);else{var JE=ru==16,pv=ru-16,ZE=_E[pv],mv=de(Go,wE[pv])+ZE;if(Rc+mv>Ad)break r;for(var eS=JE?hv:0;0<mv--;)cv[Rc++]=eS}}f0=1;break r}f0||(uv.a=3),Ed=f0}(Ed=Ed&&!Wo.h)&&(h0=x(HE,WE,8,Cc,c0)),Ed&&h0!=0?Sd=h0:(bd.a=3,Sd=0)}if(Sd==0)break n;if(wd&&bE[yt]==1&&(wd=yd[Cn].g==0),iv+=yd[Cn].g,Cn+=Sd,3>=yt){var Dc,p0=Lc[0];for(Dc=1;Dc<mn;++Dc)Lc[Dc]>p0&&(p0=Lc[Dc]);sv+=p0}}if(Vi.nd=wd,Vi.Qb=0,wd&&(Vi.qb=(tu[3][nu[3]+0].value<<24|tu[1][nu[1]+0].value<<16|tu[2][nu[2]+0].value)>>>0,iv==0&&256>tu[0][nu[0]+0].value&&(Vi.Qb=1,Vi.qb+=tu[0][nu[0]+0].value<<8)),Vi.jc=!Vi.Qb&&6>sv,Vi.jc){var xd,Ks=Vi;for(xd=0;xd<Xn;++xd){var Ko=xd,Yo=Ks.pd[Ko],Id=Ks.G[0][Ks.H[0]+Ko];256<=Id.value?(Yo.g=Id.g+256,Yo.value=Id.value):(Yo.g=0,Yo.value=0,Ko>>=wn(Id,8,Yo),Ko>>=wn(Ks.G[1][Ks.H[1]+Ko],16,Yo),Ko>>=wn(Ks.G[2][Ks.H[2]+Ko],0,Yo),wn(Ks.G[3][Ks.H[3]+Ko],24,Yo))}}}Bn.vc=Jn,Bn.Wb=Nr,Bn.Ya=vd,Bn.yc=u0,Gt=1;break t}Gt=0}if(!(M=Gt)){b.a=3;break e}if(0<pe){if(H.ua=1<<pe,!et(H.Wa,pe)){b.a=1,M=0;break e}}else H.ua=0;var m0=b,gv=F,tS=U,g0=m0.s,v0=g0.xc;if(m0.c=gv,m0.i=tS,g0.md=Qe(gv,v0),g0.wc=v0==0?-1:(1<<v0)-1,m){b.xb=CE;break e}if((ne=s(F*U))==null){b.a=1,M=0;break e}M=(M=Sr(b,ne,0,F,U,U,null))&&!z.h;break e}return M?(P!=null?P[0]=ne:(e(ne==null),e(m)),b.$=0,m||Ar(H)):Ar(H),M}function ns(u,d){var m=u.c*u.i,b=m+d+16*d;return e(u.c<=d),u.V=s(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+m+d,1)}function rs(u,d){var m=u.C,b=d-m,P=u.V,M=u.Ba+u.c*m;for(e(d<=u.l.o);0<b;){var F=16<b?16:b,U=u.l.ma,z=u.l.width,H=z*F,ne=U.ca,pe=U.tb+z*m,me=u.Ta,ue=u.Ua;Ln(u,F,P,M),En(me,ue,ne,pe,H),ar(U,m,m+F,ne,pe,z),b-=F,P+=F*u.c,m+=F}e(m==d),u.C=u.Ma=d}function is(){this.ub=this.yd=this.td=this.Rb=0}function Ls(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Dl(){this.Yb=function(){var u=[];return function d(m,b,P){for(var M=P[b],F=0;F<M&&(m.push(P.length>b+1?[]:0),!(P.length<b+1));F++)d(m[F],b+1,P)}(u,0,[3,11]),u}()}function Eo(){this.jb=s(3),this.Wc=a([4,8],Dl),this.Xc=a([4,17],Dl)}function Ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ss(){this.ld=this.La=this.dd=this.tc=0}function os(){this.Na=this.la=0}function Pi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ss),this.Y=0,this.ya=Array(new Rs),this.aa=0,this.l=new Ds}function Fa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ml(){this.cb=this.a=0,this.sc="",this.m=new Le,this.Od=new is,this.Kc=new Ls,this.ed=new Ol,this.Qa=new Cs,this.Ic=this.$c=this.Aa=0,this.D=new vc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Le),this.ia=0,this.pb=o(4,Pi),this.Pa=new Eo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fa),this.Hd=0,this.rb=Array(new os),this.sb=0,this.wa=Array(new ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rs),this.L=this.aa=0,this.gd=a([4,2],ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ds(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ja(){var u=new Ml;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,kc||(kc=Fl)),u}function tn(u,d,m){return u.a==0&&(u.a=d,u.sc=m,u.cb=0),0}function Va(u,d,m){return 3<=m&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function Ua(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return tn(u,2,"null VP8Io passed to VP8GetHeaders()");var m=d.data,b=d.w,P=d.ha;if(4>P)return tn(u,7,"Truncated header.");var M=m[b+0]|m[b+1]<<8|m[b+2]<<16,F=u.Od;if(F.Rb=!(1&M),F.td=M>>1&7,F.yd=M>>4&1,F.ub=M>>5,3<F.td)return tn(u,3,"Incorrect keyframe parameters.");if(!F.yd)return tn(u,4,"Frame not displayable.");b+=3,P-=3;var U=u.Kc;if(F.Rb){if(7>P)return tn(u,7,"cannot parse picture header");if(!Va(m,b,P))return tn(u,3,"Bad code word");U.c=16383&(m[b+4]<<8|m[b+3]),U.Td=m[b+4]>>6,U.i=16383&(m[b+6]<<8|m[b+5]),U.Ud=m[b+6]>>6,b+=7,P-=7,u.za=U.c+15>>4,u.Ub=U.i+15>>4,d.width=U.c,d.height=U.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((M=u.Pa).jb,0,255,M.jb.length),e((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(F.ub>P)return tn(u,7,"bad partition length");ye(M=u.m,m,b,F.ub),b+=F.ub,P-=F.ub,F.Rb&&(U.Ld=he(M),U.Kd=he(M)),U=u.Qa;var z,H=u.Pa;if(e(M!=null),e(U!=null),U.Cb=he(M),U.Cb){if(U.Bb=he(M),he(M)){for(U.Fb=he(M),z=0;4>z;++z)U.Zb[z]=he(M)?we(M,7):0;for(z=0;4>z;++z)U.Lb[z]=he(M)?we(M,6):0}if(U.Bb)for(z=0;3>z;++z)H.jb[z]=he(M)?ve(M,8):255}else U.Bb=0;if(M.Ka)return tn(u,3,"cannot parse segment header");if((U=u.ed).zd=he(M),U.Tb=ve(M,6),U.wb=ve(M,3),U.Pc=he(M),U.Pc&&he(M)){for(H=0;4>H;++H)he(M)&&(U.vd[H]=we(M,6));for(H=0;4>H;++H)he(M)&&(U.od[H]=we(M,6))}if(u.L=U.Tb==0?0:U.zd?1:2,M.Ka)return tn(u,3,"cannot parse filter header");var ne=P;if(P=z=b,b=z+ne,U=ne,u.Xb=(1<<ve(u.m,2))-1,ne<3*(H=u.Xb))m=7;else{for(z+=3*H,U-=3*H,ne=0;ne<H;++ne){var pe=m[P+0]|m[P+1]<<8|m[P+2]<<16;pe>U&&(pe=U),ye(u.Jc[+ne],m,z,pe),z+=pe,U-=pe,P+=3}ye(u.Jc[+H],m,z,U),m=z<b?0:5}if(m!=0)return tn(u,m,"cannot parse partitions");for(m=ve(z=u.m,7),P=he(z)?we(z,4):0,b=he(z)?we(z,4):0,U=he(z)?we(z,4):0,H=he(z)?we(z,4):0,z=he(z)?we(z,4):0,ne=u.Qa,pe=0;4>pe;++pe){if(ne.Cb){var me=ne.Zb[pe];ne.Fb||(me+=m)}else{if(0<pe){u.pb[pe]=u.pb[0];continue}me=m}var ue=u.pb[pe];ue.Sc[0]=o0[Vt(me+P,127)],ue.Sc[1]=a0[Vt(me+0,127)],ue.Eb[0]=2*o0[Vt(me+b,127)],ue.Eb[1]=101581*a0[Vt(me+U,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=o0[Vt(me+H,117)],ue.Qc[1]=a0[Vt(me+z,127)],ue.lc=me+z}if(!F.Rb)return tn(u,4,"Not a key frame.");for(he(M),F=u.Pa,m=0;4>m;++m){for(P=0;8>P;++P)for(b=0;3>b;++b)for(U=0;11>U;++U)H=fe(M,PE[m][P][b][U])?ve(M,8):NE[m][P][b][U],F.Wc[m][P].Yb[b][U]=H;for(P=0;17>P;++P)F.Xc[m][P]=F.Wc[m][LE[P]]}return u.kc=he(M),u.kc&&(u.Bd=ve(M,8)),u.cb=1}function Fl(u,d,m,b,P,M,F){var U=d[P].Yb[m];for(m=0;16>P;++P){if(!fe(u,U[m+0]))return P;for(;!fe(u,U[m+1]);)if(U=d[++P].Yb[0],m=0,P==16)return 16;var z=d[P+1].Yb;if(fe(u,U[m+2])){var H=u,ne=0;if(fe(H,(me=U)[(pe=m)+3]))if(fe(H,me[pe+6])){for(U=0,pe=2*(ne=fe(H,me[pe+8]))+(me=fe(H,me[pe+9+ne])),ne=0,me=IE[pe];me[U];++U)ne+=ne+fe(H,me[U]);ne+=3+(8<<pe)}else fe(H,me[pe+7])?(ne=7+2*fe(H,165),ne+=fe(H,145)):ne=5+fe(H,159);else ne=fe(H,me[pe+4])?3+fe(H,me[pe+5]):2;U=z[2]}else ne=1,U=z[1];z=F+TE[P],0>(H=u).b&&oe(H);var pe,me=H.b,ue=(pe=H.Ca>>1)-(H.I>>me)>>31;--H.b,H.Ca+=ue,H.Ca|=1,H.I-=(pe+1&ue)<<me,M[z]=((ne^ue)-ue)*b[(0<P)+0]}return 16}function Ba(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function jl(u,d){if(u==null)return 0;if(d==null)return tn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Ua(u,d))return 0;if(e(u.cb),d.ac==null||d.ac(d)){d.ob&&(u.L=0);var m=gd[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=d.v-m>>4,u.zb=d.j-m>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=d.o+15+m>>4,u.Hb=d.va+15+m>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var b=u.ed;for(m=0;4>m;++m){var P;if(u.Qa.Cb){var M=u.Qa.Lb[m];u.Qa.Fb||(M+=b.Tb)}else M=b.Tb;for(P=0;1>=P;++P){var F=u.gd[m][P],U=M;if(b.Pc&&(U+=b.vd[0],P&&(U+=b.od[0])),0<(U=0>U?0:63<U?63:U)){var z=U;0<b.wb&&(z=4<b.wb?z>>2:z>>1)>9-b.wb&&(z=9-b.wb),1>z&&(z=1),F.dd=z,F.tc=2*U+z,F.ld=40<=U?2:15<=U?1:0}else F.tc=0;F.La=P}}}m=0}else tn(u,6,"Frame setup failed"),m=u.a;if(m=m==0){if(m){u.$c=0,0<u.Aa||(u.Ic=$E);e:{m=u.Ic,b=4*(z=u.za);var H=32*z,ne=z+1,pe=0<u.L?z*(0<u.Aa?2:1):0,me=(u.Aa==2?2:1)*z;if((F=b+832+(P=3*(16*m+gd[u.L])/2*H)+(M=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=F)m=0;else{if(F>u.Vb){if(u.Vb=0,u.Ec=s(F),u.Fc=0,u.Ec==null){m=tn(u,1,"no memory during frame initialization.");break e}u.Vb=F}F=u.Ec,U=u.Fc,u.Ac=F,u.Bc=U,U+=b,u.Gd=o(H,Fa),u.Hd=0,u.rb=o(ne+1,os),u.sb=1,u.wa=pe?o(pe,ss):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=F,u.pc=U,U+=832,u.ya=o(me,Rs),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=(H=gd[u.L])*u.R,H=H/2*u.B,u.sa=F,u.ta=U+z,u.qa=u.sa,u.ra=u.ta+16*m*u.R+H,u.Ha=u.qa,u.Ia=u.ra+8*m*u.B+H,u.$c=0,U+=P,u.mb=M?F:null,u.nb=M?U:null,e(U+M<=u.Fc+u.Vb),Ba(u),i(u.Ac,u.Bc,0,b),m=1}}if(m){if(d.ka=0,d.y=u.sa,d.O=u.ta,d.f=u.qa,d.N=u.ra,d.ea=u.Ha,d.Vd=u.Ia,d.fa=u.R,d.Rc=u.B,d.F=null,d.J=0,!ad){for(m=-255;255>=m;++m)jn[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)Hs[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)Nc[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)Zl[255+m]=0>m?0:255<m?255:m;ad=1}Ql=Fs,$s=Ao,xc=za,Tr=Ut,mi=Ms,bn=Os,Xl=Lo,od=Oi,Ic=Ro,Ja=Qa,Za=Co,Bo=Vs,el=Do,Jl=cs,tl=js,zo=Zr,Tc=Fn,gi=ql,ji[0]=fi,ji[1]=yc,ji[2]=ls,ji[3]=_c,ji[4]=Bl,ji[5]=To,ji[6]=Xr,ji[7]=$a,ji[8]=ko,ji[9]=No,qo[0]=as,qo[1]=wc,qo[2]=Ci,qo[3]=xo,qo[4]=nn,qo[5]=Ul,qo[6]=qa,Ws[0]=Di,Ws[1]=Vl,Ws[2]=zl,Ws[3]=Ri,Ws[4]=jt,Ws[5]=Ha,Ws[6]=Wa,m=1}else m=0}m&&(m=function(ue,xe){for(ue.M=0;ue.M<ue.Va;++ue.M){var _e,re=ue.Jc[ue.M&ue.Xb],se=ue.m,Se=ue;for(_e=0;_e<Se.za;++_e){var Ne=se,Ae=Se,We=Ae.Ac,Ue=Ae.Bc+4*_e,rt=Ae.zc,qe=Ae.ya[Ae.aa+_e];if(Ae.Qa.Bb?qe.$b=fe(Ne,Ae.Pa.jb[0])?2+fe(Ne,Ae.Pa.jb[2]):fe(Ne,Ae.Pa.jb[1]):qe.$b=0,Ae.kc&&(qe.Ad=fe(Ne,Ae.Bd)),qe.Za=!fe(Ne,145)+0,qe.Za){var Ot=qe.Ob,Bt=0;for(Ae=0;4>Ae;++Ae){var Lt,St=rt[0+Ae];for(Lt=0;4>Lt;++Lt){St=kE[We[Ue+Lt]][St];for(var Gt=W2[fe(Ne,St[0])];0<Gt;)Gt=W2[2*Gt+fe(Ne,St[Gt])];St=-Gt,We[Ue+Lt]=St}r(Ot,Bt,We,Ue,4),Bt+=4,rt[0+Ae]=St}}else St=fe(Ne,156)?fe(Ne,128)?1:3:fe(Ne,163)?2:0,qe.Ob[0]=St,i(We,Ue,St,4),i(rt,0,St,4);qe.Dd=fe(Ne,142)?fe(Ne,114)?fe(Ne,183)?1:3:2:0}if(Se.m.Ka)return tn(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(Se=re,Ne=(se=ue).rb[se.sb-1],We=se.rb[se.sb+se.ja],_e=se.ya[se.aa+se.ja],Ue=se.kc?_e.Ad:0)Ne.la=We.la=0,_e.Za||(Ne.Na=We.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Ht,yt;if(Ne=We,We=Se,Ue=se.Pa.Xc,rt=se.ya[se.aa+se.ja],qe=se.pb[rt.$b],Ae=rt.ad,Ot=0,Bt=se.rb[se.sb-1],St=Lt=0,i(Ae,Ot,0,384),rt.Za)var Cn=0,Ur=Ue[3];else{Gt=s(16);var Rn=Ne.Na+Bt.Na;if(Rn=kc(We,Ue[1],Rn,qe.Eb,0,Gt,0),Ne.Na=Bt.Na=(0<Rn)+0,1<Rn)Ql(Gt,0,Ae,Ot);else{var Br=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Ae[Ot+Gt]=Br}Cn=1,Ur=Ue[0]}var zt=15&Ne.la,ti=15&Bt.la;for(Gt=0;4>Gt;++Gt){var ni=1&ti;for(Br=yt=0;4>Br;++Br)zt=zt>>1|(ni=(Rn=kc(We,Ur,Rn=ni+(1&zt),qe.Sc,Cn,Ae,Ot))>Cn)<<7,yt=yt<<2|(3<Rn?3:1<Rn?2:Ae[Ot+0]!=0),Ot+=16;zt>>=4,ti=ti>>1|ni<<7,Lt=(Lt<<8|yt)>>>0}for(Ur=zt,Cn=ti>>4,Ht=0;4>Ht;Ht+=2){for(yt=0,zt=Ne.la>>4+Ht,ti=Bt.la>>4+Ht,Gt=0;2>Gt;++Gt){for(ni=1&ti,Br=0;2>Br;++Br)Rn=ni+(1&zt),zt=zt>>1|(ni=0<(Rn=kc(We,Ue[2],Rn,qe.Qc,0,Ae,Ot)))<<3,yt=yt<<2|(3<Rn?3:1<Rn?2:Ae[Ot+0]!=0),Ot+=16;zt>>=2,ti=ti>>1|ni<<5}St|=yt<<4*Ht,Ur|=zt<<4<<Ht,Cn|=(240&ti)<<Ht}Ne.la=Ur,Bt.la=Cn,rt.Hc=Lt,rt.Gc=St,rt.ia=43690&St?0:qe.ia,Ue=!(Lt|St)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[_e.$b][_e.Za],se.wa[se.Y+se.ja].La|=!Ue),Se.Ka)return tn(ue,7,"Premature end-of-file encountered.")}if(Ba(ue),se=xe,Se=1,_e=(re=ue).D,Ne=0<re.L&&re.M>=re.zb&&re.M<=re.Va,re.Aa==0)e:{if(_e.M=re.M,_e.uc=Ne,ds(re,_e),Se=1,_e=(yt=re.D).Nb,Ne=(St=gd[re.L])*re.R,We=St/2*re.B,Gt=16*_e*re.R,Br=8*_e*re.B,Ue=re.sa,rt=re.ta-Ne+Gt,qe=re.qa,Ae=re.ra-We+Br,Ot=re.Ha,Bt=re.Ia-We+Br,ti=(zt=yt.M)==0,Lt=zt>=re.Va-1,re.Aa==2&&ds(re,yt),yt.uc)for(ni=(Rn=re).D.M,e(Rn.D.uc),yt=Rn.yb;yt<Rn.Hb;++yt){Cn=yt,Ur=ni;var Bn=(Jn=(mn=Rn).D).Nb;Ht=mn.R;var Jn=Jn.wa[Jn.Y+Cn],Nr=mn.sa,_i=mn.ta+16*Bn*Ht+16*Cn,ps=Jn.dd,zn=Jn.tc;if(zn!=0)if(e(3<=zn),mn.L==1)0<Cn&&zo(Nr,_i,Ht,zn+4),Jn.La&&gi(Nr,_i,Ht,zn),0<Ur&&tl(Nr,_i,Ht,zn+4),Jn.La&&Tc(Nr,_i,Ht,zn);else{var Gs=mn.B,nl=mn.qa,eu=mn.ra+8*Bn*Gs+8*Cn,Ho=mn.Ha,mn=mn.Ia+8*Bn*Gs+8*Cn;Bn=Jn.ld,0<Cn&&(od(Nr,_i,Ht,zn+4,ps,Bn),Ja(nl,eu,Ho,mn,Gs,zn+4,ps,Bn)),Jn.La&&(Bo(Nr,_i,Ht,zn,ps,Bn),Jl(nl,eu,Ho,mn,Gs,zn,ps,Bn)),0<Ur&&(Xl(Nr,_i,Ht,zn+4,ps,Bn),Ic(nl,eu,Ho,mn,Gs,zn+4,ps,Bn)),Jn.La&&(Za(Nr,_i,Ht,zn,ps,Bn),el(nl,eu,Ho,mn,Gs,zn,ps,Bn))}}if(re.ia&&alert("todo:DitherRow"),se.put!=null){if(yt=16*zt,zt=16*(zt+1),ti?(se.y=re.sa,se.O=re.ta+Gt,se.f=re.qa,se.N=re.ra+Br,se.ea=re.Ha,se.W=re.Ia+Br):(yt-=St,se.y=Ue,se.O=rt,se.f=qe,se.N=Ae,se.ea=Ot,se.W=Bt),Lt||(zt-=St),zt>se.o&&(zt=se.o),se.F=null,se.J=null,re.Fa!=null&&0<re.Fa.length&&yt<zt&&(se.J=jo(re,se,yt,zt-yt),se.F=re.mb,se.F==null&&se.F.length==0)){Se=tn(re,3,"Could not decode alpha data.");break e}yt<se.j&&(St=se.j-yt,yt=se.j,e(!(1&St)),se.O+=re.R*St,se.N+=re.B*(St>>1),se.W+=re.B*(St>>1),se.F!=null&&(se.J+=se.width*St)),yt<zt&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=yt-se.j,se.U=se.va-se.v,se.T=zt-yt,Se=se.put(se))}_e+1!=re.Ic||Lt||(r(re.sa,re.ta-Ne,Ue,rt+16*re.R,Ne),r(re.qa,re.ra-We,qe,Ae+8*re.B,We),r(re.Ha,re.Ia-We,Ot,Bt+8*re.B,We))}if(!Se)return tn(ue,6,"Output aborted.")}return 1}(u,d)),d.bc!=null&&d.bc(d),m&=1}return m?(u.cb=0,m):0}function Fr(u,d,m,b,P){P=u[d+m+32*b]+(P>>3),u[d+m+32*b]=-256&P?0>P?0:255:P}function So(u,d,m,b,P,M){Fr(u,d,0,m,b+P),Fr(u,d,1,m,b+M),Fr(u,d,2,m,b-M),Fr(u,d,3,m,b-P)}function pn(u){return(20091*u>>16)+u}function xr(u,d,m,b){var P,M=0,F=s(16);for(P=0;4>P;++P){var U=u[d+0]+u[d+8],z=u[d+0]-u[d+8],H=(35468*u[d+4]>>16)-pn(u[d+12]),ne=pn(u[d+4])+(35468*u[d+12]>>16);F[M+0]=U+ne,F[M+1]=z+H,F[M+2]=z-H,F[M+3]=U-ne,M+=4,d++}for(P=M=0;4>P;++P)U=(u=F[M+0]+4)+F[M+8],z=u-F[M+8],H=(35468*F[M+4]>>16)-pn(F[M+12]),Fr(m,b,0,0,U+(ne=pn(F[M+4])+(35468*F[M+12]>>16))),Fr(m,b,1,0,z+H),Fr(m,b,2,0,z-H),Fr(m,b,3,0,U-ne),M++,b+=32}function Os(u,d,m,b){var P=u[d+0]+4,M=35468*u[d+4]>>16,F=pn(u[d+4]),U=35468*u[d+1]>>16;So(m,b,0,P+F,u=pn(u[d+1]),U),So(m,b,1,P+M,u,U),So(m,b,2,P-M,u,U),So(m,b,3,P-F,u,U)}function Ao(u,d,m,b,P){xr(u,d,m,b),P&&xr(u,d+16,m,b+4)}function za(u,d,m,b){$s(u,d+0,m,b,1),$s(u,d+32,m,b+128,1)}function Ut(u,d,m,b){var P;for(u=u[d+0]+4,P=0;4>P;++P)for(d=0;4>d;++d)Fr(m,b,d,P,u)}function Ms(u,d,m,b){u[d+0]&&Tr(u,d+0,m,b),u[d+16]&&Tr(u,d+16,m,b+4),u[d+32]&&Tr(u,d+32,m,b+128),u[d+48]&&Tr(u,d+48,m,b+128+4)}function Fs(u,d,m,b){var P,M=s(16);for(P=0;4>P;++P){var F=u[d+0+P]+u[d+12+P],U=u[d+4+P]+u[d+8+P],z=u[d+4+P]-u[d+8+P],H=u[d+0+P]-u[d+12+P];M[0+P]=F+U,M[8+P]=F-U,M[4+P]=H+z,M[12+P]=H-z}for(P=0;4>P;++P)F=(u=M[0+4*P]+3)+M[3+4*P],U=M[1+4*P]+M[2+4*P],z=M[1+4*P]-M[2+4*P],H=u-M[3+4*P],m[b+0]=F+U>>3,m[b+16]=H+z>>3,m[b+32]=F-U>>3,m[b+48]=H-z>>3,b+=64}function Li(u,d,m){var b,P=d-32,M=ei,F=255-u[P-1];for(b=0;b<m;++b){var U,z=M,H=F+u[d-1];for(U=0;U<m;++U)u[d+U]=z[H+u[P+U]];d+=32}}function yc(u,d){Li(u,d,4)}function Vl(u,d){Li(u,d,8)}function wc(u,d){Li(u,d,16)}function Ci(u,d){var m;for(m=0;16>m;++m)r(u,d+32*m,u,d-32,16)}function xo(u,d){var m;for(m=16;0<m;--m)i(u,d,u[d-1],16),d+=32}function Io(u,d,m){var b;for(b=0;16>b;++b)i(d,m+32*b,u,16)}function as(u,d){var m,b=16;for(m=0;16>m;++m)b+=u[d-1+32*m]+u[d+m-32];Io(b>>5,u,d)}function nn(u,d){var m,b=8;for(m=0;16>m;++m)b+=u[d-1+32*m];Io(b>>4,u,d)}function Ul(u,d){var m,b=8;for(m=0;16>m;++m)b+=u[d+m-32];Io(b>>4,u,d)}function qa(u,d){Io(128,u,d)}function ct(u,d,m){return u+2*d+m+2>>2}function ls(u,d){var m,b=d-32;for(b=new Uint8Array([ct(u[b-1],u[b+0],u[b+1]),ct(u[b+0],u[b+1],u[b+2]),ct(u[b+1],u[b+2],u[b+3]),ct(u[b+2],u[b+3],u[b+4])]),m=0;4>m;++m)r(u,d+32*m,b,0,b.length)}function _c(u,d){var m=u[d-1],b=u[d-1+32],P=u[d-1+64],M=u[d-1+96];Te(u,d+0,16843009*ct(u[d-1-32],m,b)),Te(u,d+32,16843009*ct(m,b,P)),Te(u,d+64,16843009*ct(b,P,M)),Te(u,d+96,16843009*ct(P,M,M))}function fi(u,d){var m,b=4;for(m=0;4>m;++m)b+=u[d+m-32]+u[d-1+32*m];for(b>>=3,m=0;4>m;++m)i(u,d+32*m,b,4)}function Bl(u,d){var m=u[d-1+0],b=u[d-1+32],P=u[d-1+64],M=u[d-1-32],F=u[d+0-32],U=u[d+1-32],z=u[d+2-32],H=u[d+3-32];u[d+0+96]=ct(b,P,u[d-1+96]),u[d+1+96]=u[d+0+64]=ct(m,b,P),u[d+2+96]=u[d+1+64]=u[d+0+32]=ct(M,m,b),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=ct(F,M,m),u[d+3+64]=u[d+2+32]=u[d+1+0]=ct(U,F,M),u[d+3+32]=u[d+2+0]=ct(z,U,F),u[d+3+0]=ct(H,z,U)}function Xr(u,d){var m=u[d+1-32],b=u[d+2-32],P=u[d+3-32],M=u[d+4-32],F=u[d+5-32],U=u[d+6-32],z=u[d+7-32];u[d+0+0]=ct(u[d+0-32],m,b),u[d+1+0]=u[d+0+32]=ct(m,b,P),u[d+2+0]=u[d+1+32]=u[d+0+64]=ct(b,P,M),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=ct(P,M,F),u[d+3+32]=u[d+2+64]=u[d+1+96]=ct(M,F,U),u[d+3+64]=u[d+2+96]=ct(F,U,z),u[d+3+96]=ct(U,z,z)}function To(u,d){var m=u[d-1+0],b=u[d-1+32],P=u[d-1+64],M=u[d-1-32],F=u[d+0-32],U=u[d+1-32],z=u[d+2-32],H=u[d+3-32];u[d+0+0]=u[d+1+64]=M+F+1>>1,u[d+1+0]=u[d+2+64]=F+U+1>>1,u[d+2+0]=u[d+3+64]=U+z+1>>1,u[d+3+0]=z+H+1>>1,u[d+0+96]=ct(P,b,m),u[d+0+64]=ct(b,m,M),u[d+0+32]=u[d+1+96]=ct(m,M,F),u[d+1+32]=u[d+2+96]=ct(M,F,U),u[d+2+32]=u[d+3+96]=ct(F,U,z),u[d+3+32]=ct(U,z,H)}function $a(u,d){var m=u[d+0-32],b=u[d+1-32],P=u[d+2-32],M=u[d+3-32],F=u[d+4-32],U=u[d+5-32],z=u[d+6-32],H=u[d+7-32];u[d+0+0]=m+b+1>>1,u[d+1+0]=u[d+0+64]=b+P+1>>1,u[d+2+0]=u[d+1+64]=P+M+1>>1,u[d+3+0]=u[d+2+64]=M+F+1>>1,u[d+0+32]=ct(m,b,P),u[d+1+32]=u[d+0+96]=ct(b,P,M),u[d+2+32]=u[d+1+96]=ct(P,M,F),u[d+3+32]=u[d+2+96]=ct(M,F,U),u[d+3+64]=ct(F,U,z),u[d+3+96]=ct(U,z,H)}function No(u,d){var m=u[d-1+0],b=u[d-1+32],P=u[d-1+64],M=u[d-1+96];u[d+0+0]=m+b+1>>1,u[d+2+0]=u[d+0+32]=b+P+1>>1,u[d+2+32]=u[d+0+64]=P+M+1>>1,u[d+1+0]=ct(m,b,P),u[d+3+0]=u[d+1+32]=ct(b,P,M),u[d+3+32]=u[d+1+64]=ct(P,M,M),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=M}function ko(u,d){var m=u[d-1+0],b=u[d-1+32],P=u[d-1+64],M=u[d-1+96],F=u[d-1-32],U=u[d+0-32],z=u[d+1-32],H=u[d+2-32];u[d+0+0]=u[d+2+32]=m+F+1>>1,u[d+0+32]=u[d+2+64]=b+m+1>>1,u[d+0+64]=u[d+2+96]=P+b+1>>1,u[d+0+96]=M+P+1>>1,u[d+3+0]=ct(U,z,H),u[d+2+0]=ct(F,U,z),u[d+1+0]=u[d+3+32]=ct(m,F,U),u[d+1+32]=u[d+3+64]=ct(b,m,F),u[d+1+64]=u[d+3+96]=ct(P,b,m),u[d+1+96]=ct(M,P,b)}function zl(u,d){var m;for(m=0;8>m;++m)r(u,d+32*m,u,d-32,8)}function Ri(u,d){var m;for(m=0;8>m;++m)i(u,d,u[d-1],8),d+=32}function Jr(u,d,m){var b;for(b=0;8>b;++b)i(d,m+32*b,u,8)}function Di(u,d){var m,b=8;for(m=0;8>m;++m)b+=u[d+m-32]+u[d-1+32*m];Jr(b>>4,u,d)}function Ha(u,d){var m,b=4;for(m=0;8>m;++m)b+=u[d+m-32];Jr(b>>3,u,d)}function jt(u,d){var m,b=4;for(m=0;8>m;++m)b+=u[d-1+32*m];Jr(b>>3,u,d)}function Wa(u,d){Jr(128,u,d)}function Po(u,d,m){var b=u[d-m],P=u[d+0],M=3*(P-b)+t0[1020+u[d-2*m]-u[d+m]],F=ld[112+(M+4>>3)];u[d-m]=ei[255+b+ld[112+(M+3>>3)]],u[d+0]=ei[255+P-F]}function Ga(u,d,m,b){var P=u[d+0],M=u[d+m];return yi[255+u[d-2*m]-u[d-m]]>b||yi[255+M-P]>b}function Ka(u,d,m,b){return 4*yi[255+u[d-m]-u[d+0]]+yi[255+u[d-2*m]-u[d+m]]<=b}function Ya(u,d,m,b,P){var M=u[d-3*m],F=u[d-2*m],U=u[d-m],z=u[d+0],H=u[d+m],ne=u[d+2*m],pe=u[d+3*m];return 4*yi[255+U-z]+yi[255+F-H]>b?0:yi[255+u[d-4*m]-M]<=P&&yi[255+M-F]<=P&&yi[255+F-U]<=P&&yi[255+pe-ne]<=P&&yi[255+ne-H]<=P&&yi[255+H-z]<=P}function js(u,d,m,b){var P=2*b+1;for(b=0;16>b;++b)Ka(u,d+b,m,P)&&Po(u,d+b,m)}function Zr(u,d,m,b){var P=2*b+1;for(b=0;16>b;++b)Ka(u,d+b*m,1,P)&&Po(u,d+b*m,1)}function Fn(u,d,m,b){var P;for(P=3;0<P;--P)js(u,d+=4*m,m,b)}function ql(u,d,m,b){var P;for(P=3;0<P;--P)Zr(u,d+=4,m,b)}function us(u,d,m,b,P,M,F,U){for(M=2*M+1;0<P--;){if(Ya(u,d,m,M,F))if(Ga(u,d,m,U))Po(u,d,m);else{var z=u,H=d,ne=m,pe=z[H-2*ne],me=z[H-ne],ue=z[H+0],xe=z[H+ne],_e=z[H+2*ne],re=27*(Se=t0[1020+3*(ue-me)+t0[1020+pe-xe]])+63>>7,se=18*Se+63>>7,Se=9*Se+63>>7;z[H-3*ne]=ei[255+z[H-3*ne]+Se],z[H-2*ne]=ei[255+pe+se],z[H-ne]=ei[255+me+re],z[H+0]=ei[255+ue-re],z[H+ne]=ei[255+xe-se],z[H+2*ne]=ei[255+_e-Se]}d+=b}}function Yn(u,d,m,b,P,M,F,U){for(M=2*M+1;0<P--;){if(Ya(u,d,m,M,F))if(Ga(u,d,m,U))Po(u,d,m);else{var z=u,H=d,ne=m,pe=z[H-ne],me=z[H+0],ue=z[H+ne],xe=ld[112+((_e=3*(me-pe))+4>>3)],_e=ld[112+(_e+3>>3)],re=xe+1>>1;z[H-2*ne]=ei[255+z[H-2*ne]+re],z[H-ne]=ei[255+pe+_e],z[H+0]=ei[255+me-xe],z[H+ne]=ei[255+ue-re]}d+=b}}function Lo(u,d,m,b,P,M){us(u,d,m,1,16,b,P,M)}function Oi(u,d,m,b,P,M){us(u,d,1,m,16,b,P,M)}function Co(u,d,m,b,P,M){var F;for(F=3;0<F;--F)Yn(u,d+=4*m,m,1,16,b,P,M)}function Vs(u,d,m,b,P,M){var F;for(F=3;0<F;--F)Yn(u,d+=4,1,m,16,b,P,M)}function Ro(u,d,m,b,P,M,F,U){us(u,d,P,1,8,M,F,U),us(m,b,P,1,8,M,F,U)}function Qa(u,d,m,b,P,M,F,U){us(u,d,1,P,8,M,F,U),us(m,b,1,P,8,M,F,U)}function Do(u,d,m,b,P,M,F,U){Yn(u,d+4*P,P,1,8,M,F,U),Yn(m,b+4*P,P,1,8,M,F,U)}function cs(u,d,m,b,P,M,F,U){Yn(u,d+4,1,P,8,M,F,U),Yn(m,b+4,1,P,8,M,F,U)}function Us(){this.ba=new Kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mo(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new I}function $l(){this.xb=this.a=0,this.l=new Ds,this.ca=new Kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mo,this.ab=0,this.gc=o(4,Bs),this.Oc=0}function Mi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ds,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hs(u,d,m,b,P,M,F){for(u=u==null?0:u[d+0],d=0;d<F;++d)P[M+d]=u+m[b+d]&255,u=P[M+d]}function Fo(u,d,m,b,P,M,F){var U;if(u==null)hs(null,null,m,b,P,M,F);else for(U=0;U<F;++U)P[M+U]=u[d+U]+m[b+U]&255}function lr(u,d,m,b,P,M,F){if(u==null)hs(null,null,m,b,P,M,F);else{var U,z=u[d+0],H=z,ne=z;for(U=0;U<F;++U)H=ne+(z=u[d+U])-H,ne=m[b+U]+(-256&H?0>H?0:255:H)&255,H=z,P[M+U]=ne}}function jo(u,d,m,b){var P=d.width,M=d.o;if(e(u!=null&&d!=null),0>m||0>=b||m+b>M)return null;if(!u.Cc){if(u.ga==null){var F;if(u.ga=new Mi,(F=u.ga==null)||(F=d.width*d.o,e(u.Gb.length==0),u.Gb=s(F),u.Uc=0,u.Gb==null?F=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,F=1),F=!F),!F){F=u.ga;var U=u.Fa,z=u.P,H=u.qc,ne=u.mb,pe=u.nb,me=z+1,ue=H-1,xe=F.l;if(e(U!=null&&ne!=null&&d!=null),$o[0]=null,$o[1]=hs,$o[2]=Fo,$o[3]=lr,F.ca=ne,F.tb=pe,F.c=d.width,F.i=d.height,e(0<F.c&&0<F.i),1>=H)d=0;else if(F.$a=U[z+0]>>0&3,F.Z=U[z+0]>>2&3,F.Lc=U[z+0]>>4&3,z=U[z+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||z)d=0;else if(xe.put=sr,xe.ac=kn,xe.bc=Yr,xe.ma=F,xe.width=d.width,xe.height=d.height,xe.Da=d.Da,xe.v=d.v,xe.va=d.va,xe.j=d.j,xe.o=d.o,F.$a)e:{e(F.$a==1),d=_n();t:for(;;){if(d==null){d=0;break e}if(e(F!=null),F.mc=d,d.c=F.c,d.i=F.i,d.l=F.l,d.l.ma=F,d.l.width=F.c,d.l.height=F.i,d.a=0,X(d.m,U,me,ue),!Qr(F.c,F.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&ki(d.s)?(F.ic=1,U=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(U),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(F.ic=0,d=ns(d,F.c)),!d))break t;d=1;break e}F.mc=null,d=0}else d=ue>=F.c*F.i;F=!d}if(F)return null;u.ga.Lc!=1?u.Ga=0:b=M-m}e(u.ga!=null),e(m+b<=M);e:{if(d=(U=u.ga).c,M=U.l.o,U.$a==0){if(me=u.rc,ue=u.Vc,xe=u.Fa,z=u.P+1+m*d,H=u.mb,ne=u.nb+m*d,e(z<=u.P+u.qc),U.Z!=0)for(e($o[U.Z]!=null),F=0;F<b;++F)$o[U.Z](me,ue,xe,z,H,ne,d),me=H,ue=ne,ne+=d,z+=d;else for(F=0;F<b;++F)r(H,ne,xe,z,d),me=H,ue=ne,ne+=d,z+=d;u.rc=me,u.Vc=ue}else{if(e(U.mc!=null),d=m+b,e((F=U.mc)!=null),e(d<=F.i),F.C>=d)d=1;else if(U.ic||le(),U.ic){U=F.V,me=F.Ba,ue=F.c;var _e=F.i,re=(xe=1,z=F.$/ue,H=F.$%ue,ne=F.m,pe=F.s,F.$),se=ue*_e,Se=ue*d,Ne=pe.wc,Ae=re<Se?fn(pe,H,z):null;e(re<=se),e(d<=_e),e(ki(pe));t:for(;;){for(;!ne.h&&re<Se;){if(H&Ne||(Ae=fn(pe,H,z)),e(Ae!=null),ee(ne),256>(_e=Pn(Ae.G[0],Ae.H[0],ne)))U[me+re]=_e,++re,++H>=ue&&(H=0,++z<=d&&!(z%16)&&Mr(F,z));else{if(!(280>_e)){xe=0;break t}_e=Or(_e-256,ne);var We,Ue=Pn(Ae.G[4],Ae.H[4],ne);if(ee(ne),!(re>=(Ue=or(ue,Ue=Or(Ue,ne)))&&se-re>=_e)){xe=0;break t}for(We=0;We<_e;++We)U[me+re+We]=U[me+re+We-Ue];for(re+=_e,H+=_e;H>=ue;)H-=ue,++z<=d&&!(z%16)&&Mr(F,z);re<Se&&H&Ne&&(Ae=fn(pe,H,z))}e(ne.h==q(ne))}Mr(F,z>d?d:z);break t}!xe||ne.h&&re<se?(xe=0,F.a=ne.h?5:3):F.$=re,d=xe}else d=Sr(F,F.V,F.Ba,F.c,F.i,d,rs);if(!d){b=0;break e}}m+b>=M&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+m*P}function f(u,d,m,b,P,M){for(;0<P--;){var F,U=u,z=d+(m?1:0),H=u,ne=d+(m?0:3);for(F=0;F<b;++F){var pe=H[ne+4*F];pe!=255&&(pe*=32897,U[z+4*F+0]=U[z+4*F+0]*pe>>23,U[z+4*F+1]=U[z+4*F+1]*pe>>23,U[z+4*F+2]=U[z+4*F+2]*pe>>23)}d+=M}}function k(u,d,m,b,P){for(;0<b--;){var M;for(M=0;M<m;++M){var F=u[d+2*M+0],U=15&(H=u[d+2*M+1]),z=4369*U,H=(240&H|H>>4)*z>>16;u[d+2*M+0]=(240&F|F>>4)*z>>16&240|(15&F|F<<4)*z>>16>>4&15,u[d+2*M+1]=240&H|U}d+=P}}function G(u,d,m,b,P,M,F,U){var z,H,ne=255;for(H=0;H<P;++H){for(z=0;z<b;++z){var pe=u[d+z];M[F+4*z]=pe,ne&=pe}d+=m,F+=U}return ne!=255}function te(u,d,m,b,P){var M;for(M=0;M<P;++M)m[b+M]=u[d+M]>>8}function le(){vi=f,Xt=k,Jt=G,En=te}function be(u,d,m){A[u]=function(b,P,M,F,U,z,H,ne,pe,me,ue,xe,_e,re,se,Se,Ne){var Ae,We=Ne-1>>1,Ue=U[z+0]|H[ne+0]<<16,rt=pe[me+0]|ue[xe+0]<<16;e(b!=null);var qe=3*Ue+rt+131074>>2;for(d(b[P+0],255&qe,qe>>16,_e,re),M!=null&&(qe=3*rt+Ue+131074>>2,d(M[F+0],255&qe,qe>>16,se,Se)),Ae=1;Ae<=We;++Ae){var Ot=U[z+Ae]|H[ne+Ae]<<16,Bt=pe[me+Ae]|ue[xe+Ae]<<16,Lt=Ue+Ot+rt+Bt+524296,St=Lt+2*(Ot+rt)>>3;qe=St+Ue>>1,Ue=(Lt=Lt+2*(Ue+Bt)>>3)+Ot>>1,d(b[P+2*Ae-1],255&qe,qe>>16,_e,re+(2*Ae-1)*m),d(b[P+2*Ae-0],255&Ue,Ue>>16,_e,re+(2*Ae-0)*m),M!=null&&(qe=Lt+rt>>1,Ue=St+Bt>>1,d(M[F+2*Ae-1],255&qe,qe>>16,se,Se+(2*Ae-1)*m),d(M[F+2*Ae+0],255&Ue,Ue>>16,se,Se+(2*Ae+0)*m)),Ue=Ot,rt=Bt}1&Ne||(qe=3*Ue+rt+131074>>2,d(b[P+Ne-1],255&qe,qe>>16,_e,re+(Ne-1)*m),M!=null&&(qe=3*rt+Ue+131074>>2,d(M[F+Ne-1],255&qe,qe>>16,se,Se+(Ne-1)*m)))}}function ke(){wi[ud]=RE,wi[cd]=K2,wi[q2]=DE,wi[hd]=Y2,wi[dd]=Q2,wi[n0]=X2,wi[$2]=OE,wi[r0]=K2,wi[i0]=Y2,wi[fd]=Q2,wi[s0]=X2}function Be(u){return u&~ME?0>u?0:255:u>>J2}function c(u,d){return Be((19077*u>>8)+(26149*d>>8)-14234)}function y(u,d,m){return Be((19077*u>>8)-(6419*d>>8)-(13320*m>>8)+8708)}function E(u,d){return Be((19077*u>>8)+(33050*d>>8)-17685)}function V(u,d,m,b,P){b[P+0]=c(u,m),b[P+1]=y(u,d,m),b[P+2]=E(u,d)}function ae(u,d,m,b,P){b[P+0]=E(u,d),b[P+1]=y(u,d,m),b[P+2]=c(u,m)}function ge(u,d,m,b,P){var M=y(u,d,m);d=M<<3&224|E(u,d)>>3,b[P+0]=248&c(u,m)|M>>5,b[P+1]=d}function Pe(u,d,m,b,P){var M=240&E(u,d)|15;b[P+0]=240&c(u,m)|y(u,d,m)>>4,b[P+1]=M}function pt(u,d,m,b,P){b[P+0]=255,V(u,d,m,b,P+1)}function Et(u,d,m,b,P){ae(u,d,m,b,P),b[P+3]=255}function mt(u,d,m,b,P){V(u,d,m,b,P),b[P+3]=255}function Vt(u,d){return 0>u?0:u>d?d:u}function Wt(u,d,m){A[u]=function(b,P,M,F,U,z,H,ne,pe){for(var me=ne+(-2&pe)*m;ne!=me;)d(b[P+0],M[F+0],U[z+0],H,ne),d(b[P+1],M[F+0],U[z+0],H,ne+m),P+=2,++F,++z,ne+=2*m;1&pe&&d(b[P+0],M[F+0],U[z+0],H,ne)}}function Fi(u,d,m){return m==0?u==0?d==0?6:5:d==0?4:0:m}function Qn(u,d,m,b,P){switch(u>>>30){case 3:$s(d,m,b,P,0);break;case 2:bn(d,m,b,P);break;case 1:Tr(d,m,b,P)}}function ds(u,d){var m,b,P=d.M,M=d.Nb,F=u.oc,U=u.pc+40,z=u.oc,H=u.pc+584,ne=u.oc,pe=u.pc+600;for(m=0;16>m;++m)F[U+32*m-1]=129;for(m=0;8>m;++m)z[H+32*m-1]=129,ne[pe+32*m-1]=129;for(0<P?F[U-1-32]=z[H-1-32]=ne[pe-1-32]=129:(i(F,U-32-1,127,21),i(z,H-32-1,127,9),i(ne,pe-32-1,127,9)),b=0;b<u.za;++b){var me=d.ya[d.aa+b];if(0<b){for(m=-1;16>m;++m)r(F,U+32*m-4,F,U+32*m+12,4);for(m=-1;8>m;++m)r(z,H+32*m-4,z,H+32*m+4,4),r(ne,pe+32*m-4,ne,pe+32*m+4,4)}var ue=u.Gd,xe=u.Hd+b,_e=me.ad,re=me.Hc;if(0<P&&(r(F,U-32,ue[xe].y,0,16),r(z,H-32,ue[xe].f,0,8),r(ne,pe-32,ue[xe].ea,0,8)),me.Za){var se=F,Se=U-32+16;for(0<P&&(b>=u.za-1?i(se,Se,ue[xe].y[15],4):r(se,Se,ue[xe+1].y,0,4)),m=0;4>m;m++)se[Se+128+m]=se[Se+256+m]=se[Se+384+m]=se[Se+0+m];for(m=0;16>m;++m,re<<=2)se=F,Se=U+ev[m],ji[me.Ob[m]](se,Se),Qn(re,_e,16*+m,se,Se)}else if(se=Fi(b,P,me.Ob[0]),qo[se](F,U),re!=0)for(m=0;16>m;++m,re<<=2)Qn(re,_e,16*+m,F,U+ev[m]);for(m=me.Gc,se=Fi(b,P,me.Dd),Ws[se](z,H),Ws[se](ne,pe),re=_e,se=z,Se=H,255&(me=m>>0)&&(170&me?xc(re,256,se,Se):mi(re,256,se,Se)),me=ne,re=pe,255&(m>>=8)&&(170&m?xc(_e,320,me,re):mi(_e,320,me,re)),P<u.Ub-1&&(r(ue[xe].y,0,F,U+480,16),r(ue[xe].f,0,z,H+224,8),r(ue[xe].ea,0,ne,pe+224,8)),m=8*M*u.B,ue=u.sa,xe=u.ta+16*b+16*M*u.R,_e=u.qa,me=u.ra+8*b+m,re=u.Ha,se=u.Ia+8*b+m,m=0;16>m;++m)r(ue,xe+m*u.R,F,U+32*m,16);for(m=0;8>m;++m)r(_e,me+m*u.B,z,H+32*m,8),r(re,se+m*u.B,ne,pe+32*m,8)}}function fs(u,d,m,b,P,M,F,U,z){var H=[0],ne=[0],pe=0,me=z!=null?z.kd:0,ue=z??new Oo;if(u==null||12>m)return 7;ue.data=u,ue.w=d,ue.ha=m,d=[d],m=[m],ue.gb=[ue.gb];e:{var xe=d,_e=m,re=ue.gb;if(e(u!=null),e(_e!=null),e(re!=null),re[0]=0,12<=_e[0]&&!n(u,xe[0],"RIFF")){if(n(u,xe[0]+8,"WEBP")){re=3;break e}var se=Fe(u,xe[0]+4);if(12>se||4294967286<se){re=3;break e}if(me&&se>_e[0]-8){re=7;break e}re[0]=se,xe[0]+=12,_e[0]-=12}re=0}if(re!=0)return re;for(se=0<ue.gb[0],m=m[0];;){e:{var Se=u;_e=d,re=m;var Ne=H,Ae=ne,We=xe=[0];if((qe=pe=[pe])[0]=0,8>re[0])re=7;else{if(!n(Se,_e[0],"VP8X")){if(Fe(Se,_e[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var Ue=Fe(Se,_e[0]+8),rt=1+Me(Se,_e[0]+12);if(2147483648<=rt*(Se=1+Me(Se,_e[0]+15))){re=3;break e}We!=null&&(We[0]=Ue),Ne!=null&&(Ne[0]=rt),Ae!=null&&(Ae[0]=Se),_e[0]+=18,re[0]-=18,qe[0]=1}re=0}}if(pe=pe[0],xe=xe[0],re!=0)return re;if(_e=!!(2&xe),!se&&pe)return 3;if(M!=null&&(M[0]=!!(16&xe)),F!=null&&(F[0]=_e),U!=null&&(U[0]=0),F=H[0],xe=ne[0],pe&&_e&&z==null){re=0;break}if(4>m){re=7;break}if(se&&pe||!se&&!pe&&!n(u,d[0],"ALPH")){m=[m],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Ue=u,re=d,se=m;var qe=ue.gb;Ne=ue.na,Ae=ue.P,We=ue.Sa,rt=22,e(Ue!=null),e(se!=null),Se=re[0];var Ot=se[0];for(e(Ne!=null),e(We!=null),Ne[0]=null,Ae[0]=null,We[0]=0;;){if(re[0]=Se,se[0]=Ot,8>Ot){re=7;break e}var Bt=Fe(Ue,Se+4);if(4294967286<Bt){re=3;break e}var Lt=8+Bt+1&-2;if(rt+=Lt,0<qe&&rt>qe){re=3;break e}if(!n(Ue,Se,"VP8 ")||!n(Ue,Se,"VP8L")){re=0;break e}if(Ot[0]<Lt){re=7;break e}n(Ue,Se,"ALPH")||(Ne[0]=Ue,Ae[0]=Se+8,We[0]=Bt),Se+=Lt,Ot-=Lt}}if(m=m[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],re!=0)break}m=[m],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(qe=u,re=d,se=m,Ne=ue.gb[0],Ae=ue.Ja,We=ue.xa,Ue=re[0],Se=!n(qe,Ue,"VP8 "),rt=!n(qe,Ue,"VP8L"),e(qe!=null),e(se!=null),e(Ae!=null),e(We!=null),8>se[0])re=7;else{if(Se||rt){if(qe=Fe(qe,Ue+4),12<=Ne&&qe>Ne-12){re=3;break e}if(me&&qe>se[0]-8){re=7;break e}Ae[0]=qe,re[0]+=8,se[0]-=8,We[0]=rt}else We[0]=5<=se[0]&&qe[Ue+0]==47&&!(qe[Ue+4]>>5),Ae[0]=se[0];re=0}if(m=m[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],d=d[0],re!=0)break;if(4294967286<ue.Ja)return 3;if(U==null||_e||(U[0]=ue.xa?2:1),F=[F],xe=[xe],ue.xa){if(5>m){re=7;break}U=F,me=xe,_e=M,u==null||5>m?u=0:5<=m&&u[d+0]==47&&!(u[d+4]>>5)?(se=[0],qe=[0],Ne=[0],X(Ae=new R,u,d,m),Ge(Ae,se,qe,Ne)?(U!=null&&(U[0]=se[0]),me!=null&&(me[0]=qe[0]),_e!=null&&(_e[0]=Ne[0]),u=1):u=0):u=0}else{if(10>m){re=7;break}U=xe,u==null||10>m||!Va(u,d+3,m-3)?u=0:(me=u[d+0]|u[d+1]<<8|u[d+2]<<16,_e=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=ue.Ja||!_e||!u?u=0:(F&&(F[0]=_e),U&&(U[0]=u),u=1))}if(!u||(F=F[0],xe=xe[0],pe&&(H[0]!=F||ne[0]!=xe)))return 3;z!=null&&(z[0]=ue,z.offset=d-z.w,e(4294967286>d-z.w),e(z.offset==z.ha-m));break}return re==0||re==7&&pe&&z==null?(M!=null&&(M[0]|=ue.na!=null&&0<ue.na.length),b!=null&&(b[0]=F),P!=null&&(P[0]=xe),0):re}function bc(u,d,m){var b=d.width,P=d.height,M=0,F=0,U=b,z=P;if(d.Da=u!=null&&0<u.Da,d.Da&&(U=u.cd,z=u.bd,M=u.v,F=u.j,11>m||(M&=-2,F&=-2),0>M||0>F||0>=U||0>=z||M+U>b||F+z>P))return 0;if(d.v=M,d.j=F,d.va=M+U,d.o=F+z,d.U=U,d.T=z,d.da=u!=null&&0<u.da,d.da){if(!dt(U,z,m=[u.ib],M=[u.hb]))return 0;d.ib=m[0],d.hb=M[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*P/4,d.Kb=0),1}function Ec(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function Hl(u,d,m,b){if(b==null||0>=u||0>=d)return 2;if(m!=null){if(m.Da){var P=m.cd,M=m.bd,F=-2&m.v,U=-2&m.j;if(0>F||0>U||0>=P||0>=M||F+P>u||U+M>d)return 2;u=P,d=M}if(m.da){if(!dt(u,d,P=[m.ib],M=[m.hb]))return 2;u=P[0],d=M[0]}}b.width=u,b.height=d;e:{var z=b.width,H=b.height;if(u=b.S,0>=z||0>=H||!(u>=ud&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){F=M=P=d=0;var ne=(U=z*tv[u])*H;if(11>u||(M=(H+1)/2*(d=(z+1)/2),u==12&&(F=(P=z)*H)),(H=s(ne+2*M+F))==null){u=1;break e}b.sd=H,11>u?((z=b.f.RGBA).eb=H,z.fb=0,z.A=U,z.size=ne):((z=b.f.kb).y=H,z.O=0,z.fa=U,z.Fd=ne,z.f=H,z.N=0+ne,z.Ab=d,z.Cd=M,z.ea=H,z.W=0+ne+M,z.Db=d,z.Ed=M,u==12&&(z.F=H,z.J=0+ne+2*M),z.Tc=F,z.lb=P)}if(d=1,P=b.S,M=b.width,F=b.height,P>=ud&&13>P)if(11>P)u=b.f.RGBA,d&=(U=Math.abs(u.A))*(F-1)+M<=u.size,d&=U>=M*tv[P],d&=u.eb!=null;else{u=b.f.kb,U=(M+1)/2,ne=(F+1)/2,z=Math.abs(u.fa),H=Math.abs(u.Ab);var pe=Math.abs(u.Db),me=Math.abs(u.lb),ue=me*(F-1)+M;d&=z*(F-1)+M<=u.Fd,d&=H*(ne-1)+U<=u.Cd,d=(d&=pe*(ne-1)+U<=u.Ed)&z>=M&H>=U&pe>=U,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,P==12&&(d&=me>=M,d&=ue<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||m!=null&&m.fd&&(u=Ec(b)),u}var Xn=64,Wl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gl=24,Kl=32,Sc=8,jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(u){return u},A.Predictor2=function(u,d,m){return d[m+0]},A.Predictor3=function(u,d,m){return d[m+1]},A.Predictor4=function(u,d,m){return d[m-1]},A.Predictor5=function(u,d,m){return ze(ze(u,d[m+1]),d[m+0])},A.Predictor6=function(u,d,m){return ze(u,d[m-1])},A.Predictor7=function(u,d,m){return ze(u,d[m+0])},A.Predictor8=function(u,d,m){return ze(d[m-1],d[m+0])},A.Predictor9=function(u,d,m){return ze(d[m+0],d[m+1])},A.Predictor10=function(u,d,m){return ze(ze(u,d[m-1]),ze(d[m+0],d[m+1]))},A.Predictor11=function(u,d,m){var b=d[m+0];return 0>=ft(b>>24&255,u>>24&255,(d=d[m-1])>>24&255)+ft(b>>16&255,u>>16&255,d>>16&255)+ft(b>>8&255,u>>8&255,d>>8&255)+ft(255&b,255&u,255&d)?b:u},A.Predictor12=function(u,d,m){var b=d[m+0];return(Ze((u>>24&255)+(b>>24&255)-((d=d[m-1])>>24&255))<<24|Ze((u>>16&255)+(b>>16&255)-(d>>16&255))<<16|Ze((u>>8&255)+(b>>8&255)-(d>>8&255))<<8|Ze((255&u)+(255&b)-(255&d)))>>>0},A.Predictor13=function(u,d,m){var b=d[m-1];return(ut((u=ze(u,d[m+0]))>>24&255,b>>24&255)<<24|ut(u>>16&255,b>>16&255)<<16|ut(u>>8&255,b>>8&255)<<8|ut(u>>0&255,b>>0&255))>>>0};var e0=A.PredictorAdd0;A.PredictorAdd1=tt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Ac=A.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var rd,pi=A.ColorIndexInverseTransform,Yl=A.MapARGB,id=A.VP8LColorIndexInverseTransformAlpha,sd=A.MapAlpha,Vo=A.VP8LPredictorsAdd=[];Vo.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Xa,Vr,Ir,Uo,zs,qs,Ql,$s,bn,xc,Tr,mi,Xl,od,Ic,Ja,Za,Bo,el,Jl,tl,zo,Tc,gi,vi,Xt,Jt,En,jn=s(511),Hs=s(2041),Nc=s(225),Zl=s(767),ad=0,t0=Hs,ld=Nc,ei=Zl,yi=jn,ud=0,cd=1,q2=2,hd=3,dd=4,n0=5,$2=6,r0=7,i0=8,fd=9,s0=10,wE=[2,3,7],_E=[3,3,11],H2=[280,256,256,256,40],bE=[0,1,1,1,0],EE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],SE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],AE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xE=8,o0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],a0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kc=null,IE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],TE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],LE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qo=[],ji=[],Ws=[],CE=1,G2=2,$o=[],wi=[];be("UpsampleRgbLinePair",V,3),be("UpsampleBgrLinePair",ae,3),be("UpsampleRgbaLinePair",mt,4),be("UpsampleBgraLinePair",Et,4),be("UpsampleArgbLinePair",pt,4),be("UpsampleRgba4444LinePair",Pe,2),be("UpsampleRgb565LinePair",ge,2);var RE=A.UpsampleRgbLinePair,DE=A.UpsampleBgrLinePair,K2=A.UpsampleRgbaLinePair,Y2=A.UpsampleBgraLinePair,Q2=A.UpsampleArgbLinePair,X2=A.UpsampleRgba4444LinePair,OE=A.UpsampleRgb565LinePair,pd=16,md=1<<pd-1,Pc=-227,l0=482,J2=6,ME=(256<<J2)-1,Z2=0,FE=s(256),jE=s(256),VE=s(256),UE=s(256),BE=s(l0-Pc),zE=s(l0-Pc);Wt("YuvToRgbRow",V,3),Wt("YuvToBgrRow",ae,3),Wt("YuvToRgbaRow",mt,4),Wt("YuvToBgraRow",Et,4),Wt("YuvToArgbRow",pt,4),Wt("YuvToRgba4444Row",Pe,2),Wt("YuvToRgb565Row",ge,2);var ev=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gd=[0,2,8],qE=[8,7,6,4,4,2,2,2,1,1,1,1],$E=1;this.WebPDecodeRGBA=function(u,d,m,b,P){var M=cd,F=new Us,U=new Kn;F.ba=U,U.S=M,U.width=[U.width],U.height=[U.height];var z=U.width,H=U.height,ne=new Kr;if(ne==null||u==null)var pe=2;else e(ne!=null),pe=fs(u,d,m,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(pe!=0?z=0:(z!=null&&(z[0]=ne.width[0]),H!=null&&(H[0]=ne.height[0]),z=1),z){U.width=U.width[0],U.height=U.height[0],b!=null&&(b[0]=U.width),P!=null&&(P[0]=U.height);e:{if(b=new Ds,(P=new Oo).data=u,P.w=d,P.ha=m,P.kd=1,d=[0],e(P!=null),((u=fs(P.data,P.w,P.ha,null,null,null,d,null,P))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(F!=null),b.data=P.data,b.w=P.w+P.offset,b.ha=P.ha-P.offset,b.put=sr,b.ac=kn,b.bc=Yr,b.ma=F,P.xa){if((u=_n())==null){F=1;break e}if(function(me,ue){var xe=[0],_e=[0],re=[0];t:for(;;){if(me==null)return 0;if(ue==null)return me.a=2,0;if(me.l=ue,me.a=0,X(me.m,ue.data,ue.w,ue.ha),!Ge(me.m,xe,_e,re)){me.a=3;break t}if(me.xb=G2,ue.width=xe[0],ue.height=_e[0],!Qr(xe[0],_e[0],1,me,null))break t;return 1}return e(me.a!=0),0}(u,b)){if(b=(d=Hl(b.width,b.height,F.Oa,F.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((m=b.l)!=null),e((P=m.ma)!=null),b.xb!=0){if(b.ca=P.ba,b.tb=P.tb,e(b.ca!=null),!bc(P.Oa,m,hd)){b.a=2;break n}if(!ns(b,m.width)||m.da)break n;if((m.da||It(b.ca.S))&&le(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&le()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!et(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Sr(b,b.V,b.Ba,b.c,b.i,m.o,bo))break n;P.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=u.a)}else d=u.a}else{if((u=new ja)==null){F=1;break e}if(u.Fa=P.na,u.P=P.P,u.qc=P.Sa,Ua(u,b)){if((d=Hl(b.width,b.height,F.Oa,F.ba))==0){if(u.Aa=0,m=F.Oa,e((P=u)!=null),m!=null){if(0<(z=0>(z=m.Md)?0:100<z?255:255*z/100)){for(H=ne=0;4>H;++H)12>(pe=P.pb[H]).lc&&(pe.ia=z*qE[0>pe.lc?0:pe.lc]>>3),ne|=pe.ia;ne&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=m.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}jl(u,b)||(d=u.a)}}else d=u.a}d==0&&F.Oa!=null&&F.Oa.fd&&(d=Ec(F.ba))}F=d}M=F!=0?null:11>M?U.f.RGBA.eb:U.f.kb.y}else M=null;return M};var tv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(A,O){for(var B="",x=0;x<4;x++)B+=String.fromCharCode(A[O++]);return B}function p(A,O){return(A[O+0]<<0|A[O+1]<<8|A[O+2]<<16)>>>0}function v(A,O){return(A[O+0]<<0|A[O+1]<<8|A[O+2]<<16|A[O+3]<<24)>>>0}new l;var w=[0],g=[0],L=[],T=new l,j=t,_=function(A,O){var B={},x=0,I=!1,N=0,Q=0;if(B.frames=[],!function($,q,K,ee){for(var oe=0;oe<ee;oe++)if($[q+oe]!=K.charCodeAt(oe))return!0;return!1}(A,O,"RIFF",4)){var ye,ve;for(v(A,O+=4),O+=8;O<A.length;){var we=h(A,O),X=v(A,O+=4);O+=4;var ce=X+(1&X);switch(we){case"VP8 ":case"VP8L":B.frames[x]===void 0&&(B.frames[x]={}),(R=B.frames[x]).src_off=I?Q:O-8,R.src_size=N+X+8,x++,I&&(I=!1,N=0,Q=0);break;case"VP8X":(R=B.header={}).feature_flags=A[O];var de=O+4;R.canvas_width=1+p(A,de),de+=3,R.canvas_height=1+p(A,de),de+=3;break;case"ALPH":I=!0,N=ce+8,Q=O-8;break;case"ANIM":(R=B.header).bgcolor=v(A,O),de=O+4,R.loop_count=(ye=A)[(ve=de)+0]<<0|ye[ve+1]<<8,de+=2;break;case"ANMF":var Le,R;(R=B.frames[x]={}).offset_x=2*p(A,O),O+=3,R.offset_y=2*p(A,O),O+=3,R.width=1+p(A,O),O+=3,R.height=1+p(A,O),O+=3,R.duration=p(A,O),O+=3,Le=A[O++],R.dispose=1&Le,R.blend=Le>>1&1}we!="ANMF"&&(O+=ce)}return B}}(j,0);_.response=j,_.rgbaoutput=!0,_.dataurl=!1;var S=_.header?_.header:null,D=_.frames?_.frames:null;if(S){S.loop_counter=S.loop_count,w=[S.canvas_height],g=[S.canvas_width];for(var W=0;W<D.length&&D[W].blend!=0;W++);}var J=D[0],ie=T.WebPDecodeRGBA(j,J.src_off,J.src_size,g,w);J.rgba=ie,J.imgwidth=g[0],J.imgheight=w[0];for(var C=0;C<g[0]*w[0]*4;C++)L[C]=ie[C];return this.width=g,this.height=w,this.data=L,this}(function(t){var e=function(){return typeof qg=="function"},n=function(w,g,L,T){var j=4,_=o;switch(T){case t.image_compression.FAST:j=1,_=s;break;case t.image_compression.MEDIUM:j=6,_=a;break;case t.image_compression.SLOW:j=9,_=l}w=r(w,g,L,_);var S=qg(w,{level:j});return t.__addimage__.arrayBufferToBinaryString(S)},r=function(w,g,L,T){for(var j,_,S,D=w.length/g,W=new Uint8Array(w.length+D),J=p(),ie=0;ie<D;ie+=1){if(S=ie*g,j=w.subarray(S,S+g),T)W.set(T(j,L,_),S+ie);else{for(var C,A=J.length,O=[];C<A;C+=1)O[C]=J[C](j,L,_);var B=v(O.concat());W.set(O[B],S+ie)}_=j}return W},i=function(w){var g=Array.apply([],w);return g.unshift(0),g},s=function(w,g){var L,T=[],j=w.length;T[0]=1;for(var _=0;_<j;_+=1)L=w[_-g]||0,T[_+1]=w[_]-L+256&255;return T},o=function(w,g,L){var T,j=[],_=w.length;j[0]=2;for(var S=0;S<_;S+=1)T=L&&L[S]||0,j[S+1]=w[S]-T+256&255;return j},a=function(w,g,L){var T,j,_=[],S=w.length;_[0]=3;for(var D=0;D<S;D+=1)T=w[D-g]||0,j=L&&L[D]||0,_[D+1]=w[D]+256-(T+j>>>1)&255;return _},l=function(w,g,L){var T,j,_,S,D=[],W=w.length;D[0]=4;for(var J=0;J<W;J+=1)T=w[J-g]||0,j=L&&L[J]||0,_=L&&L[J-g]||0,S=h(T,j,_),D[J+1]=w[J]-S+256&255;return D},h=function(w,g,L){if(w===g&&g===L)return w;var T=Math.abs(g-L),j=Math.abs(w-L),_=Math.abs(w+g-L-L);return T<=j&&T<=_?w:j<=_?g:L},p=function(){return[i,s,o,a,l]},v=function(w){var g=w.map(function(L){return L.reduce(function(T,j){return T+Math.abs(j)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(w,g,L,T){var j,_,S,D,W,J,ie,C,A,O,B,x,I,N,Q,ye=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(S=new eR(w)).imgData,_=S.bits,j=S.colorSpace,W=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){A=(C=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,B=new Uint8Array(A*S.colors),O=new Uint8Array(A);var we,X=S.pixelBitlength-S.bits;for(N=0,Q=0;N<A;N++){for(I=C[N],we=0;we<X;)B[Q++]=I>>>we&255,we+=S.bits;O[N]=I>>>we&255}}if(S.bits===16){A=(C=new Uint32Array(S.decodePixels().buffer)).length,B=new Uint8Array(A*(32/S.pixelBitlength)*S.colors),O=new Uint8Array(A*(32/S.pixelBitlength)),x=S.colors>1,N=0,Q=0;for(var ce=0;N<A;)I=C[N++],B[Q++]=I>>>0&255,x&&(B[Q++]=I>>>16&255,I=C[N++],B[Q++]=I>>>0&255),O[ce++]=I>>>16&255;_=8}T!==t.image_compression.NONE&&e()?(w=n(B,S.width*S.colors,S.colors,T),ie=n(O,S.width,1,T)):(w=B,ie=O,ye=void 0)}if(S.colorType===3&&(j=this.color_spaces.INDEXED,J=S.palette,S.transparency.indexed)){var de=S.transparency.indexed,Le=0;for(N=0,A=de.length;N<A;++N)Le+=de[N];if((Le/=255)===A-1&&de.indexOf(0)!==-1)D=[de.indexOf(0)];else if(Le!==A){for(C=S.decodePixels(),O=new Uint8Array(C.length),N=0,A=C.length;N<A;N++)O[N]=de[C[N]];ie=n(O,S.width,1)}}var R=function($){var q;switch($){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(T);return ye===this.decode.FLATE_DECODE&&(ve="/Predictor "+R+" "),ve+="/Colors "+W+" /BitsPerComponent "+_+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(ie&&this.__addimage__.isArrayBuffer(ie)||this.__addimage__.isArrayBufferView(ie))&&(ie=this.__addimage__.arrayBufferToBinaryString(ie)),{alias:L,data:w,index:g,filter:ye,decodeParameters:ve,transparency:D,palette:J,sMask:ie,predictor:R,width:S.width,height:S.height,bitsPerComponent:_,colorSpace:j}}}})(at.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new tR(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:o,height:a},p=new cm(100).encode(h,100);return t.processJPEG.call(this,p,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=l,this.data[p+1]=a,this.data[p+2]=o,this.data[p+3]=h}this.pos+=t}},zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=255}this.pos+=t}},zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new zi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new cm(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(at.API),pw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new pw(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new cm(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var p=r[h],v=r[h+1],w=r[h+2],g=r[h+3];s[a++]=p,s[a++]=v,s[a++]=w,o[l++]=g}var L=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:L,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ou=at.API,tf=ou.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,v=e.doKerning!==!1,w=0,g=t.length,L=0,T=a[0]||l,j=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(w=v&&qt(h[r])==="object"&&!isNaN(parseInt(h[r][L],10))?h[r][L]/p:0,j.push((a[r]||T)/l+w)),L=r;return j},cw=ou.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ou.processArabic&&(t=ou.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:tf.apply(this,arguments).reduce(function(s,o){return s+o},0)},hw=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},dw=function(t,e,n){n||(n={});var r,i,s,o,a,l,h,p=[],v=[p],w=n.textIndent||0,g=0,L=0,T=t.split(" "),j=tf.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),S=[];T.map(function(W){(W=W.split(/\s*\n/)).length>1?S=S.concat(W.map(function(J,ie){return(ie&&J.length?`
`:"")+J})):S.push(W[0])}),T=S,l=cw.apply(this,[_,n])}for(s=0,o=T.length;s<o;s++){var D=0;if(r=T[s],l&&r[0]==`
`&&(r=r.substr(1),D=1),w+g+(L=(i=tf.apply(this,[r,n])).reduce(function(W,J){return W+J},0))>e||D){if(L>e){for(a=hw.apply(this,[r,i,e-(w+g),e]),p.push(a.shift()),p=[a.pop()];a.length;)v.push([a.shift()]);L=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(W,J){return W+J},0)}else p=[r];v.push(p),w=L+l,g=j}else p.push(r),w+=g+L,g=j}return h=l?function(W,J){return(J?_:"")+W.join(" ")}:function(W){return W.join(" ")},v.map(h)},ou.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(dw.apply(this,[r[a],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(v){return"0x"+parseInt(v,10).toString(16)},o=t.__fontmetrics__.compress=function(v){var w,g,L,T,j=["{"];for(var _ in v){if(w=v[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=s(_).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof w=="number")w<0?(L=s(w).slice(3),T="-"):(L=s(w).slice(2),T=""),L=T+L.slice(0,-1)+r[L.slice(-1)];else{if(qt(w)!=="object")throw new Error("Don't know what to do with value type "+qt(w)+".");L=o(w)}j.push(g+L)}return j.push("}"),j.join("")},a=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,g,L,T,j={},_=1,S=j,D=[],W="",J="",ie=v.length-1,C=1;C<ie;C+=1)(T=v[C])=="'"?w?(L=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(D.push([S,L]),S={},L=void 0):T=="}"?((g=D.pop())[0][g[1]]=S,L=void 0,S=g[0]):T=="-"?_=-1:L===void 0?n.hasOwnProperty(T)?(W+=n[T],L=parseInt(W,16)*_,_=1,W=""):W+=T:n.hasOwnProperty(T)?(J+=n[T],S[L]=parseInt(J,16)*_,_=1,L=void 0,J=""):J+=T;return j},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var w=v.font,g=p.Unicode[w.postScriptName];g&&(w.metadata.Unicode={},w.metadata.Unicode.widths=g.widths,w.metadata.Unicode.kerning=g.kerning);var L=h.Unicode[w.postScriptName];L&&(w.metadata.Unicode.encoding=L,w.encoding=L.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(fh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):jg(()=>import("./index.es-mFonbwbo.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}at.API.addSvgAsImage=function(n,r,i,s,o,a,l,h){if(isNaN(r)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(L){return L.fromString(v,n,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(L){return L.render(w)}).then(function(){g.addImage(p.toDataURL("image/jpeg",1),r,i,s,o,l,h)})}}(),at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],h=0,p=0,v=0;function w(L,T){var j,_=!1;for(j=0;j<L.length;j+=1)L[j]===T&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(v=0;v<g;v+=1)n[a[v]].value=n[a[v]].defaultValue,n[a[v]].explicitSet=!1}if(qt(t)==="object"){for(i in t)if(s=t[i],w(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&w(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")l.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&l.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,T=[];for(L in n)n[L].explicitSet===!0&&(n[L].type==="name"?T.push("/"+L+" /"+n[L].value):T.push("/"+L+" "+n[L].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],v=0,w=s.length;v<w;++v){if(a=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(v),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return p.join("");a=a.toString(16),p.push(h[4-a.length],a)}return p.join("")},r=function(s){var o,a,l,h,p,v,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],v=0,w=(a=Object.keys(s).sort(function(g,L){return g-L})).length;v<w;v++)o=a[v],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+h+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,p=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var v=a.metadata.Unicode.widths,w=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",L=0;L<w.length;L++)g+=String.fromCharCode(w[L]);var T=h();p({data:g,addLength1:!0,objectId:T}),l("endobj");var j=h();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:j}),l("endobj");var _=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+hu(a.fontName)),l("/FontFile2 "+T+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+hu(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(v)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+j+" 0 R"),l("/BaseFont /"+hu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,p=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var v=a.metadata.rawData,w="",g=0;g<v.length;g++)w+=String.fromCharCode(v[g]);var L=h();p({data:w,addLength1:!0,objectId:L}),l("endobj");var T=h();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var j=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+L+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+hu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+hu(a.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,h=s.y,p=s.options||{},v=s.mutex||{},w=v.pdfEscape,g=v.activeFontKey,L=v.fonts,T=g,j="",_=0,S="",D=L[T].encoding;if(L[T].encoding!=="Identity-H")return{text:a,x:l,y:h,options:p,mutex:v};for(S=a,T=g,Array.isArray(a)&&(S=a[0]),_=0;_<S.length;_+=1)L[T].metadata.hasOwnProperty("cmap")&&(o=L[T].metadata.cmap.unicode.codeMap[S[_].charCodeAt(0)]),o||S[_].charCodeAt(0)<256&&L[T].metadata.hasOwnProperty("Unicode")?j+=S[_]:j+="";var W="";return parseInt(T.slice(1))<14||D==="WinAnsiEncoding"?W=w(j,T).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(W=n(j,L[T])),v.isHex=!0,{text:W,x:l,y:h,options:p,mutex:v}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},l,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},l,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,h,p,v=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,D=0;this.__bidiEngine__={};var W=function(x){var I=x.charCodeAt(),N=I>>8,Q=T[N];return Q!==void 0?v[256*Q+(255&I)]:N===252||N===253?"AL":_.test(N)?"L":N===8?"R":"N"},J=function(x){for(var I,N=0;N<x.length;N++){if((I=W(x.charAt(N)))==="L")return!1;if(I==="R")return!0}return!1},ie=function(x,I,N,Q){var ye,ve,we,X,ce=I[Q];switch(ce){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(ce="AN");break;case"AL":S=!0,ce="R";break;case"WS":ce="N";break;case"CS":Q<1||Q+1>=I.length||(ye=N[Q-1])!=="EN"&&ye!=="AN"||(ve=I[Q+1])!=="EN"&&ve!=="AN"?ce="N":S&&(ve="AN"),ce=ve===ye?ve:"N";break;case"ES":ce=(ye=Q>0?N[Q-1]:"B")==="EN"&&Q+1<I.length&&I[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&N[Q-1]==="EN"){ce="EN";break}if(S){ce="N";break}for(we=Q+1,X=I.length;we<X&&I[we]==="ET";)we++;ce=we<X&&I[we]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(X=I.length,we=Q+1;we<X&&I[we]==="NSM";)we++;if(we<X){var de=x[Q],Le=de>=1425&&de<=2303||de===64286;if(ye=I[we],Le&&(ye==="R"||ye==="AL")){ce="R";break}}}ce=Q<1||(ye=I[Q-1])==="B"?"N":N[Q-1];break;case"B":S=!1,i=!0,ce=D;break;case"S":s=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":ce="N"}return ce},C=function(x,I,N){var Q=x.split("");return N&&A(Q,N,{hiLevel:D}),Q.reverse(),I&&I.reverse(),Q.join("")},A=function(x,I,N){var Q,ye,ve,we,X,ce=-1,de=x.length,Le=0,R=[],$=D?g:w,q=[];for(S=!1,i=!1,s=!1,ye=0;ye<de;ye++)q[ye]=W(x[ye]);for(ve=0;ve<de;ve++){if(X=Le,R[ve]=ie(x,q,R,ve),Q=240&(Le=$[X][L[R[ve]]]),Le&=15,I[ve]=we=$[Le][5],Q>0)if(Q===16){for(ye=ce;ye<ve;ye++)I[ye]=1;ce=-1}else ce=-1;if($[Le][6])ce===-1&&(ce=ve);else if(ce>-1){for(ye=ce;ye<ve;ye++)I[ye]=we;ce=-1}q[ve]==="B"&&(I[ve]=0),N.hiLevel|=we}s&&function(K,ee,oe){for(var he=0;he<oe;he++)if(K[he]==="S"){ee[he]=D;for(var fe=he-1;fe>=0&&K[fe]==="WS";fe--)ee[fe]=D}}(q,I,de)},O=function(x,I,N,Q,ye){if(!(ye.hiLevel<x)){if(x===1&&D===1&&!i)return I.reverse(),void(N&&N.reverse());for(var ve,we,X,ce,de=I.length,Le=0;Le<de;){if(Q[Le]>=x){for(X=Le+1;X<de&&Q[X]>=x;)X++;for(ce=Le,we=X-1;ce<we;ce++,we--)ve=I[ce],I[ce]=I[we],I[we]=ve,N&&(ve=N[ce],N[ce]=N[we],N[we]=ve);Le=X}Le++}}},B=function(x,I,N){var Q=x.split(""),ye={hiLevel:D};return N||(N=[]),A(Q,N,ye),function(ve,we,X){if(X.hiLevel!==0&&p)for(var ce,de=0;de<ve.length;de++)we[de]===1&&(ce=j.indexOf(ve[de]))>=0&&(ve[de]=j[ce+1])}(Q,N,ye),O(2,Q,I,N,ye),O(1,Q,I,N,ye),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(x,I,N){if(function(ye,ve){if(ve)for(var we=0;we<ye.length;we++)ve[we]=we;a===void 0&&(a=J(ye)),h===void 0&&(h=J(ye))}(x,I),o||!l||h)if(o&&l&&a^h)D=a?1:0,x=C(x,I,N);else if(!o&&l&&h)D=a?1:0,x=B(x,I,N),x=C(x,I);else if(!o||a||l||h){if(o&&!l&&a^h)x=C(x,I),a?(D=0,x=B(x,I,N)):(D=1,x=B(x,I,N),x=C(x,I));else if(o&&a&&!l&&h)D=1,x=B(x,I,N),x=C(x,I);else if(!o&&!l&&a^h){var Q=p;a?(D=1,x=B(x,I,N),D=0,p=!1,x=B(x,I,N),p=Q):(D=0,x=B(x,I,N),x=C(x,I),D=1,p=!1,x=B(x,I,N),p=Q,x=C(x,I))}}else D=0,x=B(x,I,N);else D=a?1:0,x=B(x,I,N);return x},this.__bidiEngine__.setOptions=function(x){x&&(o=x.isInputVisual,l=x.isOutputVisual,a=x.isInputRtl,h=x.isOutputRtl,p=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ca(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new gR(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new nR(this.contents),this.head=new iR(this),this.name=new uR(this),this.cmap=new sE(this),this.toUnicode={},this.hhea=new sR(this),this.maxp=new cR(this),this.hmtx=new hR(this),this.post=new aR(this),this.os2=new oR(this),this.loca=new mR(this),this.glyf=new dR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,h;for(h=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var es,Ca=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),nR=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,h,p,v,w,g,L,T;for(T in g=Object.keys(n).length,l=Math.log(2),v=16*Math.floor(Math.log(g)/l),o=Math.floor(v/l),p=16*g-v,(i=new Ca).writeInt(this.scalarType),i.writeShort(g),i.writeShort(v),i.writeShort(o),i.writeShort(p),s=16*g,h=i.pos+s,a=null,L=[],n)for(w=n[T],i.writeString(T),i.writeInt(t(w)),i.writeInt(h),i.writeInt(w.length),L=L.concat(w),T==="head"&&(a=h),h+=w.length;h%4;)L.push(0),h++;return i.write(L),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=oE.call(n);n.length%4;)n.push(0);for(s=new Ca(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),rR={}.hasOwnProperty,Ps=function(t,e){for(var n in e)rR.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};es=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var iR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ca).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),mw=function(){function t(e,n){var r,i,s,o,a,l,h,p,v,w,g,L,T,j,_,S,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),w=g/2,e.pos+=6,s=function(){var W,J;for(J=[],l=W=0;0<=w?W<w:W>w;l=0<=w?++W:--W)J.push(e.readUInt16());return J}(),e.pos+=2,T=function(){var W,J;for(J=[],l=W=0;0<=w?W<w:W>w;l=0<=w?++W:--W)J.push(e.readUInt16());return J}(),h=function(){var W,J;for(J=[],l=W=0;0<=w?W<w:W>w;l=0<=w?++W:--W)J.push(e.readUInt16());return J}(),p=function(){var W,J;for(J=[],l=W=0;0<=w?W<w:W>w;l=0<=w?++W:--W)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,a=function(){var W,J;for(J=[],l=W=0;0<=i?W<i:W>i;l=0<=i?++W:--W)J.push(e.readUInt16());return J}(),l=_=0,D=s.length;_<D;l=++_)for(j=s[l],r=S=L=T[l];L<=j?S<=j:S>=j;r=L<=j?++S:--S)p[l]===0?o=r+h[l]:(o=a[p[l]/2+(r-L)-(w-l)]||0)!==0&&(o+=h[l]),this.codeMap[r]=65535&o}e.pos=v}return t.encode=function(e,n){var r,i,s,o,a,l,h,p,v,w,g,L,T,j,_,S,D,W,J,ie,C,A,O,B,x,I,N,Q,ye,ve,we,X,ce,de,Le,R,$,q,K,ee,oe,he,fe,Te,Ie,Me;switch(Q=new Ca,o=Object.keys(e).sort(function(Fe,et){return Fe-et}),n){case"macroman":for(T=0,j=function(){var Fe=[];for(L=0;L<256;++L)Fe.push(0);return Fe}(),S={0:0},s={},ye=0,ce=o.length;ye<ce;ye++)S[fe=e[i=o[ye]]]==null&&(S[fe]=++T),s[i]={old:e[i],new:S[e[i]]},j[i]=S[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(j),{charMap:s,subtable:Q.data,maxGlyphID:T+1};case"unicode":for(I=[],v=[],D=0,S={},r={},_=h=null,ve=0,de=o.length;ve<de;ve++)S[J=e[i=o[ve]]]==null&&(S[J]=++D),r[i]={old:J,new:S[J]},a=S[J]-i,_!=null&&a===h||(_&&v.push(_),I.push(i),h=a),_=i;for(_&&v.push(_),v.push(65535),I.push(65535),B=2*(O=I.length),A=2*Math.pow(Math.log(O)/Math.LN2,2),w=Math.log(A/2)/Math.LN2,C=2*O-A,l=[],ie=[],g=[],L=we=0,Le=I.length;we<Le;L=++we){if(x=I[L],p=v[L],x===65535){l.push(0),ie.push(0);break}if(x-(N=r[x].new)>=32768)for(l.push(0),ie.push(2*(g.length+O-L)),i=X=x;x<=p?X<=p:X>=p;i=x<=p?++X:--X)g.push(r[i].new);else l.push(N-x),ie.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*O+2*g.length),Q.writeUInt16(0),Q.writeUInt16(B),Q.writeUInt16(A),Q.writeUInt16(w),Q.writeUInt16(C),oe=0,R=v.length;oe<R;oe++)i=v[oe],Q.writeUInt16(i);for(Q.writeUInt16(0),he=0,$=I.length;he<$;he++)i=I[he],Q.writeUInt16(i);for(Te=0,q=l.length;Te<q;Te++)a=l[Te],Q.writeUInt16(a);for(Ie=0,K=ie.length;Ie<K;Ie++)W=ie[Ie],Q.writeUInt16(W);for(Me=0,ee=g.length;Me<ee;Me++)T=g[Me],Q.writeUInt16(T);return{charMap:r,subtable:Q.data,maxGlyphID:D+1}}},t}(),sE=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new mw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=mw.encode(n,r),(s=new Ca).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),sR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),oR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),aR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),lR=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},uR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,h,p,v,w,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},o=v=0,w=i.length;v<w;o=++v)s=i[o],n.pos=s.offset,p=n.readString(s.length),a=new lR(p,s),h[g=s.nameID]==null&&(h[g]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),cR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),hR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,v;for(v=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)v.push(n.readInt16());return v}(),this.widths=(function(){var p,v,w,g;for(g=[],p=0,v=(w=this.metrics).length;p<v;p++)o=w[p],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),oE=[].slice,dR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,h,p,v,w;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Ca(r.read(s))).readShort(),p=l.readShort(),w=l.readShort(),h=l.readShort(),v=l.readShort(),this.cache[n]=a===-1?new pR(l,p,w,h,v):new fR(l,a,p,w,h,v),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,h;for(a=[],o=[],l=0,h=r.length;l<h;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),fR=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),pR=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ca(oE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),mR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,es),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(s+=h)}for(var p=new Array(4*i.length),v=0;v<i.length;++v)p[4*v+3]=255&i[v],p[4*v+2]=(65280&i[v])>>8,p[4*v+1]=(16711680&i[v])>>16,p[4*v]=(4278190080&i[v])>>24;return p},e}(),gR=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,h,p,v,w,g,L,T,j,_;for(i in r=sE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},_=r.charMap)g[(l=_[i]).old]=l.new;for(L in w=r.maxGlyphID,o)L in g||(g[L]=w++);return p=function(S){var D,W;for(D in W={},S)W[S[D]]=D;return W}(g),v=Object.keys(p).sort(function(S,D){return S-D}),T=function(){var S,D,W;for(W=[],S=0,D=v.length;S<D;S++)a=v[S],W.push(p[a]);return W}(),s=this.font.glyf.encode(o,T,g),h=this.font.loca.encode(s.offsets,T),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function vR(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var aE={exports:{}};const yR={},wR=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),_R=sS(wR);(function(t){(function(){var e,n=0,r=[],i;for(i=0;i<256;i++)r[i]=(i+256).toString(16).substr(1);l.BUFFER_SIZE=4096,l.bin=a,l.clearBuffer=function(){e=null,n=0},l.test=function(h){return typeof h=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(h):!1};var s;typeof crypto<"u"?s=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(s=window.msCrypto),typeof vR=="function"?(s=s||_R,t.exports=l):typeof window<"u"&&(window.uuid=l),l.randomBytes=function(){if(s){if(s.randomBytes)return s.randomBytes;if(s.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(h){var p=new Uint8Array(h);return s.getRandomValues(p),Array.from(p)}:function(h){var p=new Uint8Array(h);return s.getRandomValues(p),p}}return function(h){var p,v=[];for(p=0;p<h;p++)v.push(Math.floor(Math.random()*256));return v}}();function o(h){return(!e||n+h>l.BUFFER_SIZE)&&(n=0,e=l.randomBytes(l.BUFFER_SIZE)),e.slice(n,n+=h)}function a(){var h=o(16);return h[6]=h[6]&15|64,h[8]=h[8]&63|128,h}function l(){var h=a();return r[h[0]]+r[h[1]]+r[h[2]]+r[h[3]]+"-"+r[h[4]]+r[h[5]]+"-"+r[h[6]]+r[h[7]]+"-"+r[h[8]]+r[h[9]]+"-"+r[h[10]]+r[h[11]]+r[h[12]]+r[h[13]]+r[h[14]]+r[h[15]]}})()})(aE);var bR=aE.exports;const ER=bw(bR);var lE=(t=>(t.SECONDLY="SECONDLY",t.MINUTELY="MINUTELY",t.HOURLY="HOURLY",t.DAILY="DAILY",t.WEEKLY="WEEKLY",t.MONTHLY="MONTHLY",t.YEARLY="YEARLY",t))(lE||{}),Qg=(t=>(t.SU="SU",t.MO="MO",t.TU="TU",t.WE="WE",t.TH="TH",t.FR="FR",t.SA="SA",t))(Qg||{});function qi(t,e,n,r){if(t!=null&&t.startsWith("/")&&(t=t.substr(1)),typeof e=="string"||e instanceof Date){let i=new Date(e),s=i.getUTCFullYear()+String(i.getUTCMonth()+1).padStart(2,"0")+i.getUTCDate().toString().padStart(2,"0");return t&&(s=i.getFullYear()+String(i.getMonth()+1).padStart(2,"0")+i.getDate().toString().padStart(2,"0")),n?s:t?(s+="T"+i.getHours().toString().padStart(2,"0")+i.getMinutes().toString().padStart(2,"0")+i.getSeconds().toString().padStart(2,"0"),s):(s+="T"+i.getUTCHours().toString().padStart(2,"0")+i.getUTCMinutes().toString().padStart(2,"0")+i.getUTCSeconds().toString().padStart(2,"0")+(r?"":"Z"),s)}else if(Jp(e)){let i=t?vw(e)&&!e.tz()?e.clone().tz(t):e:r||n&&vw(e)&&e.tz()?e:e.utc();return i.format("YYYYMMDD")+(n?"":"T"+i.format("HHmmss")+(r||t?"":"Z"))}else if(Zp(e)){let i=t?e.setZone(t):r||n&&e.zone.type!=="system"?e:e.setZone("utc");return i.toFormat("yyyyLLdd")+(n?"":"T"+i.toFormat("HHmmss")+(r||t?"":"Z"))}else{let i=e;if(t)i=typeof e.tz=="function"?e.tz(t):e;else if(!r)if(typeof e.utc=="function")i=e.utc();else throw new Error("Unable to convert dayjs object to UTC value: UTC plugin is not available!");return i.format("YYYYMMDD")+(n?"":"T"+i.format("HHmmss")+(r||t?"":"Z"))}}function hm(t,e,n,r){let i="",s=(r==null?void 0:r.floating)||!1;return r!=null&&r.timezone&&(i=";TZID="+r.timezone,s=!0),e+i+":"+qi(t,n,!1,s)}function Mt(t,e){return String(t).replace(e?/[\\"]/g:/[\\;,]/g,function(n){return"\\"+n}).replace(/(?:\r\n|\r|\n)/g,"\\n")}function SR(t){return t.split(`\r
`).map(function(e){let n="",r=0;for(let i=0;i<e.length;i++){let s=e.charAt(i);s>="\uD800"&&s<="\uDBFF"&&(s+=e.charAt(++i));let o=new TextEncoder().encode(s).length;r+=o,r>74&&(n+=`\r
 `,r=o),n+=s}return n}).join(`\r
`)}function Ii(t,e,n){if(Array.isArray(e))t.x=e.map(r=>{if(Array.isArray(r))return r;if(typeof r.key!="string"||typeof r.value!="string")throw new Error("Either key or value is not a string!");if(r.key.substr(0,2)!=="X-")throw new Error("Key has to start with `X-`!");return[r.key,r.value]});else if(typeof e=="object")t.x=Object.entries(e).map(([r,i])=>{if(typeof r!="string"||typeof i!="string")throw new Error("Either key or value is not a string!");if(r.substr(0,2)!=="X-")throw new Error("Key has to start with `X-`!");return[r,i]});else if(typeof e=="string"&&typeof n=="string"){if(e.substr(0,2)!=="X-")throw new Error("Key has to start with `X-`!");t.x.push([e,n])}else return t.x.map(r=>({key:r[0],value:r[1]}))}function z2(t){let e=t.x.map(([n,r])=>n.toUpperCase()+":"+Mt(r,!1)).join(`\r
`);return e.length?e+`\r
`:""}function Vh(t,e){let n=null;if(typeof e=="string"){let r=e.match(/^(.+) ?<([^>]+)>$/);r?n={name:r[1].trim(),email:r[2].trim()}:e.includes("@")&&(n={name:e.trim(),email:e.trim()})}else typeof e=="object"&&(n={name:e.name,email:e.email,mailto:e.mailto,sentBy:e.sentBy});if(!n&&typeof e=="string")throw new Error("`"+t+"` isn't formated correctly. See https://sebbo2002.github.io/ical-generator/develop/reference/interfaces/ICalOrganizer.html");if(!n)throw new Error("`"+t+"` needs to be a valid formed string or an object. See https://sebbo2002.github.io/ical-generator/develop/reference/interfaces/ICalOrganizer.html");if(!n.name)throw new Error("`"+t+".name` is empty!");return n}function Gi(t,e){let n=Object.values(t),r=String(e).toUpperCase();if(!r||!n.includes(r))throw new Error(`Input must be one of the following: ${n.join(", ")}`);return r}function Xs(t,e){if(t instanceof Date&&isNaN(t.getTime())||typeof t=="string"&&isNaN(new Date(t).getTime()))throw new Error(`\`${e}\` has to be a valid date!`);if(t instanceof Date||typeof t=="string"||Zp(t)&&t.isValid===!0||(Jp(t)||AR(t))&&t.isValid())return t;throw new Error(`\`${e}\` has to be a valid date!`)}function gw(t){return typeof t=="string"||t instanceof Date?new Date(t):Zp(t)?t.toJSDate():t.toDate()}function Jp(t){return t!=null&&t._isAMomentObject!=null}function vw(t){return Jp(t)&&"tz"in t&&typeof t.tz=="function"}function AR(t){return typeof t=="object"&&t!==null&&!(t instanceof Date)&&!Jp(t)&&!Zp(t)}function Zp(t){return typeof t=="object"&&t!==null&&"toJSDate"in t&&typeof t.toJSDate=="function"}function xR(t){return t!==null&&typeof t=="object"&&"asSeconds"in t&&typeof t.asSeconds=="function"}function dm(t){return t!==null&&typeof t=="object"&&"between"in t&&typeof t.between=="function"&&typeof t.toString=="function"}function Js(t){return t?typeof t=="string"?t:t.toJSON():null}function Iu(t){let e="";return t<0&&(e="-",t*=-1),e+="P",t>=86400&&(e+=Math.floor(t/86400)+"D",t%=86400),!t&&e.length>1||(e+="T",t>=3600&&(e+=Math.floor(t/3600)+"H",t%=3600),t>=60&&(e+=Math.floor(t/60)+"M",t%=60),t>0?e+=t+"S":e.length<=2&&(e+="0S")),e}var uE=(t=>(t.CHAIR="CHAIR",t.REQ="REQ-PARTICIPANT",t.OPT="OPT-PARTICIPANT",t.NON="NON-PARTICIPANT",t))(uE||{}),cE=(t=>(t.ACCEPTED="ACCEPTED",t.TENTATIVE="TENTATIVE",t.DECLINED="DECLINED",t.DELEGATED="DELEGATED",t.NEEDSACTION="NEEDS-ACTION",t))(cE||{}),hE=(t=>(t.INDIVIDUAL="INDIVIDUAL",t.GROUP="GROUP",t.RESOURCE="RESOURCE",t.ROOM="ROOM",t.UNKNOWN="UNKNOWN",t))(hE||{}),yp=class Zs{constructor(e,n){ms(this,"data");ms(this,"parent");if(this.data={name:null,email:"",mailto:null,sentBy:null,status:null,role:"REQ-PARTICIPANT",rsvp:null,type:null,delegatedTo:null,delegatedFrom:null,x:[]},this.parent=n,!this.parent)throw new Error("`event` option required!");if(!e.email)throw new Error("No value for `email` in ICalAttendee given!");e.name!==void 0&&this.name(e.name),e.email!==void 0&&this.email(e.email),e.mailto!==void 0&&this.mailto(e.mailto),e.sentBy!==void 0&&this.sentBy(e.sentBy),e.status!==void 0&&this.status(e.status),e.role!==void 0&&this.role(e.role),e.rsvp!==void 0&&this.rsvp(e.rsvp),e.type!==void 0&&this.type(e.type),e.delegatedTo!==void 0&&this.delegatedTo(e.delegatedTo),e.delegatedFrom!==void 0&&this.delegatedFrom(e.delegatedFrom),e.delegatesTo&&this.delegatesTo(e.delegatesTo),e.delegatesFrom&&this.delegatesFrom(e.delegatesFrom),e.x!==void 0&&this.x(e.x)}name(e){return e===void 0?this.data.name:(this.data.name=e||null,this)}email(e){return e?(this.data.email=e,this):this.data.email}mailto(e){return e===void 0?this.data.mailto:(this.data.mailto=e||null,this)}sentBy(e){return e?(this.data.sentBy=e,this):this.data.sentBy}role(e){return e===void 0?this.data.role:(this.data.role=Gi(uE,e),this)}rsvp(e){return e===void 0?this.data.rsvp:e===null?(this.data.rsvp=null,this):(this.data.rsvp=!!e,this)}status(e){return e===void 0?this.data.status:e?(this.data.status=Gi(cE,e),this):(this.data.status=null,this)}type(e){return e===void 0?this.data.type:e?(this.data.type=Gi(hE,e),this):(this.data.type=null,this)}delegatedTo(e){return e===void 0?this.data.delegatedTo:e?(typeof e=="string"?this.data.delegatedTo=new Zs({email:e,...Vh("delegatedTo",e)},this.parent):e instanceof Zs?this.data.delegatedTo=e:this.data.delegatedTo=new Zs(e,this.parent),this.data.status="DELEGATED",this):(this.data.delegatedTo=null,this.data.status==="DELEGATED"&&(this.data.status=null),this)}delegatedFrom(e){return e===void 0?this.data.delegatedFrom:(e?typeof e=="string"?this.data.delegatedFrom=new Zs({email:e,...Vh("delegatedFrom",e)},this.parent):e instanceof Zs?this.data.delegatedFrom=e:this.data.delegatedFrom=new Zs(e,this.parent):this.data.delegatedFrom=null,this)}delegatesTo(e){let n=e instanceof Zs?e:this.parent.createAttendee(e);return this.delegatedTo(n),n.delegatedFrom(this),n}delegatesFrom(e){let n=e instanceof Zs?e:this.parent.createAttendee(e);return this.delegatedFrom(n),n.delegatedTo(this),n}x(e,n){if(e===void 0)return Ii(this.data);if(typeof e=="string"&&typeof n=="string")Ii(this.data,e,n);else if(typeof e=="object")Ii(this.data,e);else throw new Error("Either key or value is not a string!");return this}toJSON(){var e,n;return Object.assign({},this.data,{delegatedTo:((e=this.data.delegatedTo)==null?void 0:e.email())||null,delegatedFrom:((n=this.data.delegatedFrom)==null?void 0:n.email())||null,x:this.x()})}toString(){let e="ATTENDEE";if(!this.data.email)throw new Error("No value for `email` in ICalAttendee given!");return e+=";ROLE="+this.data.role,this.data.type&&(e+=";CUTYPE="+this.data.type),this.data.status&&(e+=";PARTSTAT="+this.data.status),this.data.rsvp!==null&&(e+=";RSVP="+this.data.rsvp.toString().toUpperCase()),this.data.sentBy!==null&&(e+=';SENT-BY="mailto:'+this.data.sentBy+'"'),this.data.delegatedTo&&(e+=';DELEGATED-TO="'+this.data.delegatedTo.email()+'"'),this.data.delegatedFrom&&(e+=';DELEGATED-FROM="'+this.data.delegatedFrom.email()+'"'),this.data.name&&(e+=';CN="'+Mt(this.data.name,!0)+'"'),this.data.email&&this.data.mailto&&(e+=";EMAIL="+Mt(this.data.email,!1)),this.data.x.length&&(e+=";"+this.data.x.map(([n,r])=>n.toUpperCase()+"="+Mt(r,!1)).join(";")),e+=":MAILTO:"+Mt(this.data.mailto||this.data.email,!1)+`\r
`,e}},dE=(t=>(t.display="display",t.audio="audio",t.email="email",t))(dE||{}),IR={end:"END",start:"START"},yw=class{constructor(t,e){ms(this,"data");ms(this,"event");if(this.data={type:"display",trigger:-600,relatesTo:null,repeat:null,interval:null,attach:null,description:null,summary:null,attendees:[],x:[]},this.event=e,!e)throw new Error("`event` option required!");t.type!==void 0&&this.type(t.type),"trigger"in t&&t.trigger!==void 0&&this.trigger(t.trigger),"triggerBefore"in t&&t.triggerBefore!==void 0&&this.triggerBefore(t.triggerBefore),"triggerAfter"in t&&t.triggerAfter!==void 0&&this.triggerAfter(t.triggerAfter),t.repeat&&this.repeat(t.repeat),t.attach!==void 0&&this.attach(t.attach),t.description!==void 0&&this.description(t.description),t.summary!==void 0&&this.summary(t.summary),t.attendees!==void 0&&this.attendees(t.attendees),t.x!==void 0&&this.x(t.x)}type(t){if(t===void 0)return this.data.type;if(!t||!Object.keys(dE).includes(t))throw new Error("`type` is not correct, must be either `display` or `audio`!");return this.data.type=t,this}trigger(t){if(t===void 0&&typeof this.data.trigger=="number")return-1*this.data.trigger;if(t===void 0)return this.data.trigger;if(typeof t=="number"&&isFinite(t))this.data.trigger=-1*t;else{if(!t||typeof t=="number")throw new Error("`trigger` is not correct, must be a finite number or a supported date!");this.data.trigger=Xs(t,"trigger")}return this}relatesTo(t){if(t===void 0)return this.data.relatesTo;if(!t)return this.data.relatesTo=null,this;if(!Object.values(IR).includes(t))throw new Error("`relatesTo` is not correct, must be either `START` or `END`!");return this.data.relatesTo=t,this}triggerAfter(t){return t===void 0?this.data.trigger:this.trigger(typeof t=="number"?-1*t:t)}triggerBefore(t){return t===void 0?this.trigger():this.trigger(t)}repeat(t){if(t===void 0)return this.data.repeat;if(!t)return this.data.repeat=null,this;if(typeof t!="object")throw new Error("`repeat` is not correct, must be an object!");if(typeof t.times!="number"||!isFinite(t.times))throw new Error("`repeat.times` is not correct, must be numeric!");if(typeof t.interval!="number"||!isFinite(t.interval))throw new Error("`repeat.interval` is not correct, must be numeric!");return this.data.repeat=t,this}attach(t){if(t===void 0)return this.data.attach;if(!t)return this.data.attach=null,this;let e=null;if(typeof t=="string")e={uri:t,mime:null};else if(typeof t=="object")e={uri:t.uri,mime:t.mime||null};else throw new Error("`attachment` needs to be a valid formed string or an object. See https://sebbo2002.github.io/ical-generator/develop/reference/classes/ICalAlarm.html#attach");if(!e.uri)throw new Error("`attach.uri` is empty!");return this.data.attach={uri:e.uri,mime:e.mime},this}description(t){return t===void 0?this.data.description:t?(this.data.description=t,this):(this.data.description=null,this)}summary(t){return t===void 0?this.data.summary:t?(this.data.summary=t,this):(this.data.summary=null,this)}createAttendee(t){if(t instanceof yp)return this.data.attendees.push(t),t;typeof t=="string"&&(t={email:t,...Vh("data",t)});let e=new yp(t,this);return this.data.attendees.push(e),e}attendees(t){return t?(t.forEach(e=>this.createAttendee(e)),this):this.data.attendees}x(t,e){if(t===void 0)return Ii(this.data);if(typeof t=="string"&&typeof e=="string")Ii(this.data,t,e);else if(typeof t=="object")Ii(this.data,t);else throw new Error("Either key or value is not a string!");return this}toJSON(){let t=this.trigger();return Object.assign({},this.data,{trigger:typeof t=="number"?t:Js(t),x:this.x()})}toString(){var e;let t=`BEGIN:VALARM\r
`;if(t+="ACTION:"+this.data.type.toUpperCase()+`\r
`,typeof this.data.trigger=="number"&&this.data.relatesTo===null?this.data.trigger>0?t+="TRIGGER;RELATED=END:"+Iu(this.data.trigger)+`\r
`:t+="TRIGGER:"+Iu(this.data.trigger)+`\r
`:typeof this.data.trigger=="number"?t+="TRIGGER;RELATED="+((e=this.data.relatesTo)==null?void 0:e.toUpperCase())+":"+Iu(this.data.trigger)+`\r
`:t+="TRIGGER;VALUE=DATE-TIME:"+qi(this.event.timezone(),this.data.trigger)+`\r
`,this.data.repeat){if(!this.data.repeat.times)throw new Error("No value for `repeat.times` in ICalAlarm given, but required for `interval`!");if(!this.data.repeat.interval)throw new Error("No value for `repeat.interval` in ICalAlarm given, but required for `repeat`!");t+="REPEAT:"+this.data.repeat.times+`\r
`,t+="DURATION:"+Iu(this.data.repeat.interval)+`\r
`}return this.data.type==="audio"&&this.data.attach&&this.data.attach.mime?t+="ATTACH;FMTTYPE="+Mt(this.data.attach.mime,!1)+":"+Mt(this.data.attach.uri,!1)+`\r
`:this.data.type==="audio"&&this.data.attach?t+="ATTACH;VALUE=URI:"+Mt(this.data.attach.uri,!1)+`\r
`:this.data.type==="audio"&&(t+=`ATTACH;VALUE=URI:Basso\r
`),this.data.type!=="audio"&&this.data.description?t+="DESCRIPTION:"+Mt(this.data.description,!1)+`\r
`:this.data.type!=="audio"&&(t+="DESCRIPTION:"+Mt(this.event.summary(),!1)+`\r
`),this.data.type==="email"&&this.data.summary?t+="SUMMARY:"+Mt(this.data.summary,!1)+`\r
`:this.data.type==="email"&&(t+="SUMMARY:"+Mt(this.event.summary(),!1)+`\r
`),this.data.type==="email"&&this.data.attendees.forEach(n=>{t+=n.toString()}),t+=z2(this.data),t+=`END:VALARM\r
`,t}},ww=class{constructor(t){ms(this,"data");if(this.data={name:""},!t.name)throw new Error("No value for `name` in ICalCategory given!");this.name(t.name)}name(t){return t===void 0?this.data.name:(this.data.name=t,this)}toJSON(){return Object.assign({},this.data)}toString(){return Mt(this.data.name,!1)}},fE=(t=>(t.CONFIRMED="CONFIRMED",t.TENTATIVE="TENTATIVE",t.CANCELLED="CANCELLED",t))(fE||{}),pE=(t=>(t.FREE="FREE",t.TENTATIVE="TENTATIVE",t.BUSY="BUSY",t.OOF="OOF",t))(pE||{}),mE=(t=>(t.TRANSPARENT="TRANSPARENT",t.OPAQUE="OPAQUE",t))(mE||{}),gE=(t=>(t.PUBLIC="PUBLIC",t.PRIVATE="PRIVATE",t.CONFIDENTIAL="CONFIDENTIAL",t))(gE||{}),_w=class{constructor(t,e){ms(this,"data");ms(this,"calendar");if(this.data={id:ER(),sequence:0,start:new Date,end:null,recurrenceId:null,timezone:null,stamp:new Date,allDay:!1,floating:!1,repeating:null,summary:"",location:null,description:null,organizer:null,attendees:[],alarms:[],categories:[],status:null,busystatus:null,priority:null,url:null,attachments:[],transparency:null,created:null,lastModified:null,class:null,x:[]},this.calendar=e,!e)throw new Error("`calendar` option required!");t.id&&this.id(t.id),t.sequence!==void 0&&this.sequence(t.sequence),t.start&&this.start(t.start),t.end!==void 0&&this.end(t.end),t.recurrenceId!==void 0&&this.recurrenceId(t.recurrenceId),t.timezone!==void 0&&this.timezone(t.timezone),t.stamp!==void 0&&this.stamp(t.stamp),t.allDay!==void 0&&this.allDay(t.allDay),t.floating!==void 0&&this.floating(t.floating),t.repeating!==void 0&&this.repeating(t.repeating),t.summary!==void 0&&this.summary(t.summary),t.location!==void 0&&this.location(t.location),t.description!==void 0&&this.description(t.description),t.organizer!==void 0&&this.organizer(t.organizer),t.attendees!==void 0&&this.attendees(t.attendees),t.alarms!==void 0&&this.alarms(t.alarms),t.categories!==void 0&&this.categories(t.categories),t.status!==void 0&&this.status(t.status),t.busystatus!==void 0&&this.busystatus(t.busystatus),t.priority!==void 0&&this.priority(t.priority),t.url!==void 0&&this.url(t.url),t.attachments!==void 0&&this.attachments(t.attachments),t.transparency!==void 0&&this.transparency(t.transparency),t.created!==void 0&&this.created(t.created),t.lastModified!==void 0&&this.lastModified(t.lastModified),t.class!==void 0&&this.class(t.class),t.x!==void 0&&this.x(t.x)}id(t){return t===void 0?this.data.id:(this.data.id=String(t),this)}uid(t){return t===void 0?this.id():this.id(t)}sequence(t){if(t===void 0)return this.data.sequence;let e=parseInt(String(t),10);if(isNaN(e))throw new Error("`sequence` must be a number!");return this.data.sequence=t,this}start(t){return t===void 0?(this.swapStartAndEndIfRequired(),this.data.start):(this.data.start=Xs(t,"start"),this)}end(t){return t===void 0?(this.swapStartAndEndIfRequired(),this.data.end):t===null?(this.data.end=null,this):(this.data.end=Xs(t,"end"),this)}swapStartAndEndIfRequired(){if(this.data.start&&this.data.end&&gw(this.data.start).getTime()>gw(this.data.end).getTime()){let t=this.data.start;this.data.start=this.data.end,this.data.end=t}}recurrenceId(t){return t===void 0?this.data.recurrenceId:t===null?(this.data.recurrenceId=null,this):(this.data.recurrenceId=Xs(t,"recurrenceId"),this)}timezone(t){return t===void 0&&this.data.timezone!==null?this.data.timezone:t===void 0?this.calendar.timezone():(this.data.timezone=t&&t!=="UTC"?t.toString():null,this.data.timezone&&(this.data.floating=!1),this)}stamp(t){return t===void 0?this.data.stamp:(this.data.stamp=Xs(t,"stamp"),this)}timestamp(t){return t===void 0?this.stamp():this.stamp(t)}allDay(t){return t===void 0?this.data.allDay:(this.data.allDay=!!t,this)}floating(t){return t===void 0?this.data.floating:(this.data.floating=!!t,this.data.floating&&(this.data.timezone=null),this)}repeating(t){if(t===void 0)return this.data.repeating;if(!t)return this.data.repeating=null,this;if(dm(t)||typeof t=="string")return this.data.repeating=t,this;if(this.data.repeating={freq:Gi(lE,t.freq)},t.count){if(!isFinite(t.count))throw new Error("`repeating.count` must be a finite number!");this.data.repeating.count=t.count}if(t.interval){if(!isFinite(t.interval))throw new Error("`repeating.interval` must be a finite number!");this.data.repeating.interval=t.interval}if(t.until!==void 0&&(this.data.repeating.until=Xs(t.until,"repeating.until")),t.byDay){let e=Array.isArray(t.byDay)?t.byDay:[t.byDay];this.data.repeating.byDay=e.map(n=>Gi(Qg,n))}if(t.byMonth){let e=Array.isArray(t.byMonth)?t.byMonth:[t.byMonth];this.data.repeating.byMonth=e.map(n=>{if(typeof n!="number"||n<1||n>12)throw new Error("`repeating.byMonth` contains invalid value `"+n+"`!");return n})}if(t.byMonthDay){let e=Array.isArray(t.byMonthDay)?t.byMonthDay:[t.byMonthDay];this.data.repeating.byMonthDay=e.map(n=>{if(typeof n!="number"||n<-31||n>31||n===0)throw new Error("`repeating.byMonthDay` contains invalid value `"+n+"`!");return n})}if(t.bySetPos){if(!this.data.repeating.byDay)throw"`repeating.bySetPos` must be used along with `repeating.byDay`!";let e=Array.isArray(t.bySetPos)?t.bySetPos:[t.bySetPos];this.data.repeating.bySetPos=e.map(n=>{if(typeof n!="number"||n<-366||n>366||n===0)throw"`repeating.bySetPos` contains invalid value `"+n+"`!";return n})}if(t.exclude){let e=Array.isArray(t.exclude)?t.exclude:[t.exclude];this.data.repeating.exclude=e.map((n,r)=>Xs(n,`repeating.exclude[${r}]`))}return t.startOfWeek&&(this.data.repeating.startOfWeek=Gi(Qg,t.startOfWeek)),this}summary(t){return t===void 0?this.data.summary:(this.data.summary=t?String(t):"",this)}location(t){if(t===void 0)return this.data.location;if(typeof t=="string")return this.data.location={title:t},this;if(t&&("title"in t&&!t.title||t!=null&&t.geo&&(typeof t.geo.lat!="number"||!isFinite(t.geo.lat)||typeof t.geo.lon!="number"||!isFinite(t.geo.lon))||!("title"in t)&&!(t!=null&&t.geo)))throw new Error("`location` isn't formatted correctly. See https://sebbo2002.github.io/ical-generator/develop/reference/classes/ICalEvent.html#location");return this.data.location=t||null,this}description(t){return t===void 0?this.data.description:t===null?(this.data.description=null,this):(typeof t=="string"?this.data.description={plain:t}:this.data.description=t,this)}organizer(t){return t===void 0?this.data.organizer:t===null?(this.data.organizer=null,this):(this.data.organizer=Vh("organizer",t),this)}createAttendee(t){if(t instanceof yp)return this.data.attendees.push(t),t;typeof t=="string"&&(t={email:t,...Vh("data",t)});let e=new yp(t,this);return this.data.attendees.push(e),e}attendees(t){return t?(t.forEach(e=>this.createAttendee(e)),this):this.data.attendees}createAlarm(t){let e=t instanceof yw?t:new yw(t,this);return this.data.alarms.push(e),e}alarms(t){return t?(t.forEach(e=>this.createAlarm(e)),this):this.data.alarms}createCategory(t){let e=t instanceof ww?t:new ww(t);return this.data.categories.push(e),e}categories(t){return t?(t.forEach(e=>this.createCategory(e)),this):this.data.categories}status(t){return t===void 0?this.data.status:t===null?(this.data.status=null,this):(this.data.status=Gi(fE,t),this)}busystatus(t){return t===void 0?this.data.busystatus:t===null?(this.data.busystatus=null,this):(this.data.busystatus=Gi(pE,t),this)}priority(t){if(t===void 0)return this.data.priority;if(t===null)return this.data.priority=null,this;if(t<0||t>9)throw new Error("`priority` is invalid, musst be 0 ≤ priority ≤ 9.");return this.data.priority=Math.round(t),this}url(t){return t===void 0?this.data.url:(this.data.url=t?String(t):null,this)}createAttachment(t){return this.data.attachments.push(t),this}attachments(t){return t?(t.forEach(e=>this.createAttachment(e)),this):this.data.attachments}transparency(t){return t===void 0?this.data.transparency:t?(this.data.transparency=Gi(mE,t),this):(this.data.transparency=null,this)}created(t){return t===void 0?this.data.created:t===null?(this.data.created=null,this):(this.data.created=Xs(t,"created"),this)}lastModified(t){return t===void 0?this.data.lastModified:t===null?(this.data.lastModified=null,this):(this.data.lastModified=Xs(t,"lastModified"),this)}class(t){return t===void 0?this.data.class:t===null?(this.data.class=null,this):(this.data.class=Gi(gE,t),this)}x(t,e){return t===void 0?Ii(this.data):(typeof t=="string"&&typeof e=="string"&&Ii(this.data,t,e),typeof t=="object"&&Ii(this.data,t),this)}toJSON(){var e;let t=null;return dm(this.data.repeating)||typeof this.data.repeating=="string"?t=this.data.repeating.toString():this.data.repeating&&(t=Object.assign({},this.data.repeating,{until:Js(this.data.repeating.until)||void 0,exclude:(e=this.data.repeating.exclude)==null?void 0:e.map(n=>Js(n))})),this.swapStartAndEndIfRequired(),Object.assign({},this.data,{start:Js(this.data.start)||null,end:Js(this.data.end)||null,recurrenceId:Js(this.data.recurrenceId)||null,stamp:Js(this.data.stamp)||null,created:Js(this.data.created)||null,lastModified:Js(this.data.lastModified)||null,repeating:t,x:this.x()})}toString(){var e,n,r,i;let t="";if(t+=`BEGIN:VEVENT\r
`,t+="UID:"+this.data.id+`\r
`,t+="SEQUENCE:"+this.data.sequence+`\r
`,this.swapStartAndEndIfRequired(),t+="DTSTAMP:"+qi(this.calendar.timezone(),this.data.stamp)+`\r
`,this.data.allDay?(t+="DTSTART;VALUE=DATE:"+qi(this.timezone(),this.data.start,!0)+`\r
`,this.data.end&&(t+="DTEND;VALUE=DATE:"+qi(this.timezone(),this.data.end,!0)+`\r
`),t+=`X-MICROSOFT-CDO-ALLDAYEVENT:TRUE\r
`,t+=`X-MICROSOFT-MSNCALENDAR-ALLDAYEVENT:TRUE\r
`):(t+=hm(this.timezone(),"DTSTART",this.data.start,this.data)+`\r
`,this.data.end&&(t+=hm(this.timezone(),"DTEND",this.data.end,this.data)+`\r
`)),dm(this.data.repeating)||typeof this.data.repeating=="string"){let s=this.data.repeating.toString().replace(/\r\n/g,`
`).split(`
`).filter(o=>o&&!o.startsWith("DTSTART:")).join(`\r
`);!s.includes(`\r
`)&&!s.startsWith("RRULE:")&&(s="RRULE:"+s),t+=s.trim()+`\r
`}else this.data.repeating&&(t+="RRULE:FREQ="+this.data.repeating.freq,this.data.repeating.count&&(t+=";COUNT="+this.data.repeating.count),this.data.repeating.interval&&(t+=";INTERVAL="+this.data.repeating.interval),this.data.repeating.until&&(t+=";UNTIL="+qi(this.calendar.timezone(),this.data.repeating.until,!1,this.floating())),this.data.repeating.byDay&&(t+=";BYDAY="+this.data.repeating.byDay.join(",")),this.data.repeating.byMonth&&(t+=";BYMONTH="+this.data.repeating.byMonth.join(",")),this.data.repeating.byMonthDay&&(t+=";BYMONTHDAY="+this.data.repeating.byMonthDay.join(",")),this.data.repeating.bySetPos&&(t+=";BYSETPOS="+this.data.repeating.bySetPos.join(",")),this.data.repeating.startOfWeek&&(t+=";WKST="+this.data.repeating.startOfWeek),t+=`\r
`,this.data.repeating.exclude&&(this.data.allDay?t+="EXDATE;VALUE=DATE:"+this.data.repeating.exclude.map(s=>qi(this.calendar.timezone(),s,!0)).join(",")+`\r
`:(t+="EXDATE",this.timezone()?t+=";TZID="+this.timezone()+":"+this.data.repeating.exclude.map(s=>qi(this.timezone(),s,!1,!0)).join(",")+`\r
`:t+=":"+this.data.repeating.exclude.map(s=>qi(this.timezone(),s,!1,this.floating())).join(",")+`\r
`)));return this.data.recurrenceId&&(t+=hm(this.timezone(),"RECURRENCE-ID",this.data.recurrenceId,this.data)+`\r
`),t+="SUMMARY:"+Mt(this.data.summary,!1)+`\r
`,this.data.transparency&&(t+="TRANSP:"+Mt(this.data.transparency,!1)+`\r
`),this.data.location&&"title"in this.data.location&&this.data.location.title&&(t+="LOCATION:"+Mt(this.data.location.title+(this.data.location.address?`
`+this.data.location.address:""),!1)+`\r
`,this.data.location.radius&&this.data.location.geo&&(t+="X-APPLE-STRUCTURED-LOCATION;VALUE=URI;"+(this.data.location.address?"X-ADDRESS="+Mt(this.data.location.address,!1)+";":"")+"X-APPLE-RADIUS="+Mt(this.data.location.radius,!1)+";X-TITLE="+Mt(this.data.location.title,!1)+":geo:"+Mt((e=this.data.location.geo)==null?void 0:e.lat,!1)+","+Mt((n=this.data.location.geo)==null?void 0:n.lon,!1)+`\r
`)),(i=(r=this.data.location)==null?void 0:r.geo)!=null&&i.lat&&this.data.location.geo.lon&&(t+="GEO:"+Mt(this.data.location.geo.lat,!1)+";"+Mt(this.data.location.geo.lon,!1)+`\r
`),this.data.description&&(t+="DESCRIPTION:"+Mt(this.data.description.plain,!1)+`\r
`,this.data.description.html&&(t+="X-ALT-DESC;FMTTYPE=text/html:"+Mt(this.data.description.html,!1)+`\r
`)),this.data.organizer&&(t+='ORGANIZER;CN="'+Mt(this.data.organizer.name,!0)+'"',this.data.organizer.sentBy&&(t+=';SENT-BY="mailto:'+Mt(this.data.organizer.sentBy,!0)+'"'),this.data.organizer.email&&this.data.organizer.mailto&&(t+=";EMAIL="+Mt(this.data.organizer.email,!1)),t+=":",this.data.organizer.email&&(t+="mailto:"+Mt(this.data.organizer.mailto||this.data.organizer.email,!1)),t+=`\r
`),this.data.attendees.forEach(function(s){t+=s.toString()}),this.data.alarms.forEach(function(s){t+=s.toString()}),this.data.categories.length>0&&(t+="CATEGORIES:"+this.data.categories.map(s=>s.toString()).join()+`\r
`),this.data.url&&(t+="URL;VALUE=URI:"+Mt(this.data.url,!1)+`\r
`),this.data.attachments.length>0&&this.data.attachments.forEach(s=>{t+="ATTACH:"+Mt(s,!1)+`\r
`}),this.data.status&&(t+="STATUS:"+this.data.status.toUpperCase()+`\r
`),this.data.busystatus&&(t+="X-MICROSOFT-CDO-BUSYSTATUS:"+this.data.busystatus.toUpperCase()+`\r
`),this.data.priority!==null&&(t+="PRIORITY:"+this.data.priority+`\r
`),t+=z2(this.data),this.data.created&&(t+="CREATED:"+qi(this.calendar.timezone(),this.data.created)+`\r
`),this.data.lastModified&&(t+="LAST-MODIFIED:"+qi(this.calendar.timezone(),this.data.lastModified)+`\r
`),this.data.class&&(t+="CLASS:"+this.data.class.toUpperCase()+`\r
`),t+=`END:VEVENT\r
`,t}},vE=(t=>(t.PUBLISH="PUBLISH",t.REQUEST="REQUEST",t.REPLY="REPLY",t.ADD="ADD",t.CANCEL="CANCEL",t.REFRESH="REFRESH",t.COUNTER="COUNTER",t.DECLINECOUNTER="DECLINECOUNTER",t))(vE||{}),TR=class{constructor(t={}){ms(this,"data");this.data={prodId:"//sebbo.net//ical-generator//EN",method:null,name:null,description:null,timezone:null,source:null,url:null,scale:null,ttl:null,events:[],x:[]},t.prodId!==void 0&&this.prodId(t.prodId),t.method!==void 0&&this.method(t.method),t.name!==void 0&&this.name(t.name),t.description!==void 0&&this.description(t.description),t.timezone!==void 0&&this.timezone(t.timezone),t.source!==void 0&&this.source(t.source),t.url!==void 0&&this.url(t.url),t.scale!==void 0&&this.scale(t.scale),t.ttl!==void 0&&this.ttl(t.ttl),t.events!==void 0&&this.events(t.events),t.x!==void 0&&this.x(t.x)}prodId(t){if(!t)return this.data.prodId;if(typeof t=="string")return this.data.prodId=t,this;if(typeof t!="object")throw new Error("`prodid` needs to be a string or an object!");if(!t.company)throw new Error("`prodid.company` is a mandatory item!");if(!t.product)throw new Error("`prodid.product` is a mandatory item!");let e=(t.language||"EN").toUpperCase();return this.data.prodId="//"+t.company+"//"+t.product+"//"+e,this}method(t){return t===void 0?this.data.method:t?(this.data.method=Gi(vE,t),this):(this.data.method=null,this)}name(t){return t===void 0?this.data.name:(this.data.name=t?String(t):null,this)}description(t){return t===void 0?this.data.description:(this.data.description=t?String(t):null,this)}timezone(t){var e;return t===void 0?((e=this.data.timezone)==null?void 0:e.name)||null:(t==="UTC"?this.data.timezone=null:typeof t=="string"?this.data.timezone={name:t}:t===null?this.data.timezone=null:this.data.timezone=t,this)}source(t){return t===void 0?this.data.source:(this.data.source=t||null,this)}url(t){return t===void 0?this.data.url:(this.data.url=t||null,this)}scale(t){return t===void 0?this.data.scale:(t===null?this.data.scale=null:this.data.scale=t.toUpperCase(),this)}ttl(t){return t===void 0?this.data.ttl:(xR(t)?this.data.ttl=t.asSeconds():t&&t>0?this.data.ttl=t:this.data.ttl=null,this)}createEvent(t){let e=t instanceof _w?t:new _w(t,this);return this.data.events.push(e),e}events(t){return t?(t.forEach(e=>this.createEvent(e)),this):this.data.events}clear(){return this.data.events=[],this}x(t,e){if(t===void 0)return Ii(this.data);if(typeof t=="string"&&typeof e=="string")Ii(this.data,t,e);else if(typeof t=="object")Ii(this.data,t);else throw new Error("Either key or value is not a string!");return this}toJSON(){return Object.assign({},this.data,{timezone:this.timezone(),events:this.data.events.map(t=>t.toJSON()),x:this.x()})}length(){return this.data.events.length}toString(){var e,n;let t="";return t=`BEGIN:VCALENDAR\r
VERSION:2.0\r
`,t+="PRODID:-"+this.data.prodId+`\r
`,this.data.url&&(t+="URL:"+this.data.url+`\r
`),this.data.source&&(t+="SOURCE;VALUE=URI:"+this.data.source+`\r
`),this.data.scale&&(t+="CALSCALE:"+this.data.scale+`\r
`),this.data.method&&(t+="METHOD:"+this.data.method+`\r
`),this.data.name&&(t+="NAME:"+this.data.name+`\r
`,t+="X-WR-CALNAME:"+this.data.name+`\r
`),this.data.description&&(t+="X-WR-CALDESC:"+this.data.description+`\r
`),(e=this.data.timezone)!=null&&e.generator&&[...new Set([this.timezone(),...this.data.events.map(r=>r.timezone())])].filter(r=>r!==null&&!r.startsWith("/")).forEach(r=>{var s;if(!((s=this.data.timezone)!=null&&s.generator))return;let i=this.data.timezone.generator(r);i&&(t+=i.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`).trim()+`\r
`)}),(n=this.data.timezone)!=null&&n.name&&(t+="TIMEZONE-ID:"+this.data.timezone.name+`\r
`,t+="X-WR-TIMEZONE:"+this.data.timezone.name+`\r
`),this.data.ttl&&(t+="REFRESH-INTERVAL;VALUE=DURATION:"+Iu(this.data.ttl)+`\r
`,t+="X-PUBLISHED-TTL:"+Iu(this.data.ttl)+`\r
`),this.data.events.forEach(r=>t+=r.toString()),t+=z2(this.data),t+="END:VCALENDAR",SR(t)}};function NR(t){return new TR(t)}var kR=NR;class PR extends t1.Component{constructor(){super(...arguments);ms(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?this.props.fallback||Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Something went wrong"}),Z.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:(n=this.state.error)==null?void 0:n.message}),Z.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reload Page"})]})}):this.props.children}}const LR={Monday:"MO",Tuesday:"TU",Wednesday:"WE",Thursday:"TH",Friday:"FR",Saturday:"SA",Sunday:"SU"};function CR(){var $;const[t,e]=Ve.useState(""),[n,r]=Ve.useState([]),[i,s]=Ve.useState([]),[o,a]=Ve.useState(null),[l,h]=Ve.useState([]),[p,v]=Ve.useState(!1),[w,g]=Ve.useState(!1),[L,T]=Ve.useState({day:"",level:"",timeRange:""}),[j,_]=Ve.useState(!1),[S,D]=Ve.useState(!1),[W,J]=Ve.useState({loading:!1,format:null}),[ie,C]=Ve.useState([]),A=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],O=["1","2","3","4"],B=[{label:"Morning (04:00 - 12:00)",value:"morning"},{label:"Afternoon (12:00 - 18:00)",value:"afternoon"},{label:"Evening (18:00 - 00:00)",value:"evening"}];Ve.useEffect(()=>{(async()=>{try{const ee=(await sc(rc(ac,"suburbs"))).docs.map(oe=>({id:oe.id,...oe.data()}));r(ee)}catch(K){console.error("Error fetching suburbs:",K),bi.error("Error loading suburbs")}})()},[]),Ve.useEffect(()=>{if(t){const q=n.filter(K=>K.name.toLowerCase().includes(t.toLowerCase())).slice(0,5);s(q)}else s([])},[t,n]);const x=async q=>{v(!0);try{if(!(q!=null&&q.id))throw new Error("Invalid suburb selected");const K=rc(ac,"schedules"),ee=I2(K,T2("suburbId","==",q.id)),oe=await sc(ee);if(oe.empty){h([]);return}const he=[];oe.forEach(Te=>{Te.data().sessions.forEach(Me=>{he.push({id:Te.id,...Me,suburbId:q.id})})});let fe=he;L.day&&(fe=fe.filter(Te=>Te.day===L.day)),L.level&&(fe=fe.filter(Te=>Te.level===parseInt(L.level))),L.timeRange&&(fe=fe.filter(Te=>{const Ie=parseInt(Te.startTime.split(":")[0]);switch(L.timeRange){case"morning":return Ie>=4&&Ie<12;case"afternoon":return Ie>=12&&Ie<18;case"evening":return Ie>=18||Ie<4;default:return!0}})),fe.sort((Te,Ie)=>{const Me=A.indexOf(Te.day)-A.indexOf(Ie.day);return Me===0?Te.startTime.localeCompare(Ie.startTime):Me}),h(fe)}catch(K){console.error("Error fetching schedules:",K),bi.error(K instanceof Error?K.message:"Error loading schedules"),h([])}finally{v(!1)}},I=(q,K)=>{const ee={...L,[q]:K};T(ee),o&&x(o)},N=async()=>{if(!l.length)return;const K=[["Day","Start Time","End Time","Level"].join(","),...l.map(fe=>[fe.day,fe.startTime,fe.endTime,fe.level].join(","))].join(`
`),ee=new Blob([K],{type:"text/csv"}),oe=window.URL.createObjectURL(ee),he=document.createElement("a");he.href=oe,he.download=`${o==null?void 0:o.name}_schedules.csv`,he.click(),window.URL.revokeObjectURL(oe)},Q=async()=>{if(!l.length)return;const q=new at;q.setFontSize(16),q.text(`Load Shedding Schedule - ${o==null?void 0:o.name}`,20,20),q.setFontSize(12);let K=40;l.forEach(ee=>{q.text(`${ee.day}: ${ee.startTime} - ${ee.endTime} (Level ${ee.level})`,20,K),K+=10,K>280&&(q.addPage(),K=20)}),q.save(`${o==null?void 0:o.name}_schedules.pdf`)},ye=async()=>{const q=kR({name:`Load Shedding - ${o==null?void 0:o.name}`});l.forEach(he=>{const[fe,Te]=he.startTime.split(":"),[Ie,Me]=he.endTime.split(":"),Fe=new Date;Fe.setHours(parseInt(fe),parseInt(Te),0);const et=new Date;et.setHours(parseInt(Ie),parseInt(Me),0),q.createEvent({start:Fe,end:et,summary:`Load Shedding Level ${he.level}`,description:`Load shedding in ${o==null?void 0:o.name}`,repeating:{freq:"weekly",byday:[LR[he.day]],count:52}})});const K=new Blob([q.toString()],{type:"text/calendar"}),ee=window.URL.createObjectURL(K),oe=document.createElement("a");oe.href=ee,oe.download=`${o==null?void 0:o.name}_schedule.ics`,oe.click(),window.URL.revokeObjectURL(ee)},ve=q=>{const K=l.map(oe=>`${oe.day}: ${oe.startTime}-${oe.endTime} (Level ${oe.level})`).join(`
`),ee=`Load Shedding Schedule for ${o==null?void 0:o.name}:
${K}`;switch(q.type){case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(ee)}`);break;case"email":window.open(`mailto:?subject=Load Shedding Schedule&body=${encodeURIComponent(ee)}`);break;case"copy":navigator.clipboard.writeText(ee),bi.success("Schedule copied to clipboard");break}_(!1)},we=q=>{const K=`Check out the load shedding schedule for ${o==null?void 0:o.name}`,ee=window.location.href;switch(q){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ee)}`);break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(K)}&url=${encodeURIComponent(ee)}`);break;case"linkedin":window.open(`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(ee)}&title=${encodeURIComponent(K)}`);break}},X=async()=>{try{await Notification.requestPermission()==="granted"?(D(!0),ce(),bi.success("Notifications enabled")):bi.error("Notification permission denied")}catch(q){console.error("Error requesting notification permission:",q),bi.error("Error enabling notifications")}},ce=()=>{l.length&&l.forEach(q=>{const[K,ee]=q.startTime.split(":"),oe=new Date;if(oe.setHours(parseInt(K),parseInt(ee)-30,0),oe>new Date){const he=oe.getTime()-new Date().getTime();setTimeout(()=>{new Notification("Load Shedding Alert",{body:`Load shedding will start in 30 minutes in ${o==null?void 0:o.name}`,icon:"/path-to-your-icon.png"})},he)}})},de=async q=>{if(l.length){J({loading:!0,format:q});try{switch(q){case"csv":await N();break;case"pdf":await Q();break;case"ical":await ye();break}bi.success(`Exported to ${q.toUpperCase()}`)}catch(K){console.error(`Error exporting to ${q}:`,K),bi.error(`Failed to export to ${q.toUpperCase()}`)}J({loading:!1,format:null})}},Le=(q,K)=>{switch(K){case"search":if(q.length<2)return{field:K,message:"Search term must be at least 2 characters"};if(!/^[a-zA-Z\s]+$/.test(q))return{field:K,message:"Only letters and spaces are allowed"};break}return null},R=q=>{const K=q.target.value;e(K);const ee=Le(K,"search");C(ee?oe=>[...oe.filter(he=>he.field!=="search"),ee]:oe=>oe.filter(he=>he.field!=="search"))};return Z.jsx(PR,{children:Z.jsxs("div",{className:"max-w-4xl mx-auto",children:[Z.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Your Suburb"}),Z.jsxs("div",{className:"relative",children:[Z.jsx(Lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),Z.jsx("input",{type:"text",placeholder:"Enter suburb name...",value:t,onChange:R,className:`w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white border ${ie.some(q=>q.field==="search")?"border-red-500 focus:ring-red-500":"border-gray-200 dark:border-gray-600 focus:ring-blue-500"} rounded-xl focus:ring-2`}),i.length>0&&Z.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:i.map(q=>Z.jsxs("button",{onClick:()=>{a(q),e(q.name),s([]),x(q)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[Z.jsx(Lh,{className:"h-4 w-4 text-blue-500"}),Z.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:q.name})]},q.id))})]}),ie.map(q=>q.field==="search"&&Z.jsx("p",{className:"mt-1 text-sm text-red-500",children:q.message},q.field))]})}),o&&Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[Z.jsxs("button",{onClick:()=>g(!w),className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 mb-4",children:[Z.jsx(zI,{className:"h-5 w-5"}),Z.jsx("span",{children:"Filters"}),Z.jsx(VI,{className:`h-5 w-5 transform transition-transform ${w?"rotate-180":""}`})]}),w&&Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Day"}),Z.jsxs("select",{value:L.day,onChange:q=>I("day",q.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg",children:[Z.jsx("option",{value:"",children:"All Days"}),A.map(q=>Z.jsx("option",{value:q,children:q},q))]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Level"}),Z.jsxs("select",{value:L.level,onChange:q=>I("level",q.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg",children:[Z.jsx("option",{value:"",children:"All Levels"}),O.map(q=>Z.jsxs("option",{value:q,children:["Level ",q]},q))]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),Z.jsxs("select",{value:L.timeRange,onChange:q=>I("timeRange",q.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg",children:[Z.jsx("option",{value:"",children:"All Times"}),B.map(q=>Z.jsx("option",{value:q.value,children:q.label},q.value))]})]})]})]}),p&&Z.jsxs("div",{className:"text-center py-8",children:[Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),Z.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading schedules..."})]}),!p&&o&&l.length>0&&Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[Z.jsx("div",{className:"overflow-x-auto",children:Z.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[Z.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:Z.jsxs("tr",{children:[Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Day"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Time"}),Z.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Level"})]})}),Z.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map((q,K)=>Z.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:q.day}),Z.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[q.startTime," - ",q.endTime]}),Z.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",children:["Level ",q.level]})})]},K))})]})}),Z.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[Z.jsxs("div",{className:"flex space-x-4",children:[Z.jsxs("div",{className:"dropdown relative",children:[Z.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg",disabled:W.loading,children:[W.loading?Z.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-green-500 border-t-transparent"}):Z.jsx(UI,{className:"h-4 w-4"}),Z.jsx("span",{children:W.loading?`Exporting ${($=W.format)==null?void 0:$.toUpperCase()}...`:"Export"})]}),Z.jsxs("div",{className:"dropdown-content absolute mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[Z.jsx("button",{onClick:()=>de("csv"),disabled:W.loading,className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",children:"CSV"}),Z.jsx("button",{onClick:()=>de("pdf"),disabled:W.loading,className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",children:"PDF"}),Z.jsx("button",{onClick:()=>de("ical"),disabled:W.loading,className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",children:"ICS"})]})]}),Z.jsxs("button",{onClick:()=>_(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800/30",children:[Z.jsx(Hd,{className:"h-4 w-4"}),Z.jsx("span",{children:"Share"})]})]}),Z.jsxs("button",{onClick:X,disabled:S,className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-800/30 disabled:opacity-50",children:[Z.jsx(jI,{className:"h-4 w-4"}),Z.jsx("span",{children:S?"Notifications On":"Enable Notifications"})]})]})]}),!p&&o&&l.length===0&&Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[Z.jsx(G1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Z.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Schedules Found"}),Z.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No schedules match your current filters. Try adjusting your search criteria."})]}),j&&Z.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[Z.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Share Schedule"}),Z.jsxs("div",{className:"space-y-3",children:[Z.jsxs("button",{onClick:()=>ve({type:"whatsapp"}),className:"w-full flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100",children:[Z.jsx("span",{children:"Share via WhatsApp"}),Z.jsx(Hd,{className:"h-4 w-4"})]}),Z.jsxs("button",{onClick:()=>ve({type:"email"}),className:"w-full flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100",children:[Z.jsx("span",{children:"Share via Email"}),Z.jsx(Hd,{className:"h-4 w-4"})]}),Z.jsxs("button",{onClick:()=>ve({type:"copy"}),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100",children:[Z.jsx("span",{children:"Copy to Clipboard"}),Z.jsx(Hd,{className:"h-4 w-4"})]})]}),Z.jsx("button",{onClick:()=>_(!1),className:"mt-4 w-full p-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Cancel"})]})}),Z.jsxs("div",{className:"flex justify-center space-x-4 mt-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[Z.jsx("button",{onClick:()=>we("facebook"),className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200",children:Z.jsx(BI,{className:"h-5 w-5"})}),Z.jsx("button",{onClick:()=>we("twitter"),className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200",children:Z.jsx(WI,{className:"h-5 w-5"})}),Z.jsx("button",{onClick:()=>we("linkedin"),className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200",children:Z.jsx(qI,{className:"h-5 w-5"})})]})]})})}function RR(){const[t,e]=Ve.useState(""),[n,r]=Ve.useState([]),[i,s]=Ve.useState([]),[o,a]=Ve.useState(null),[l,h]=Ve.useState([]),[p,v]=Ve.useState(!1),w=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=Array.from({length:24},(_,S)=>`${S.toString().padStart(2,"0")}:00`);Ve.useEffect(()=>{(async()=>{try{const D=(await sc(rc(ac,"suburbs"))).docs.map(W=>({id:W.id,...W.data()}));r(D)}catch(S){console.error("Error fetching suburbs:",S),bi.error("Error loading suburbs")}})()},[]),Ve.useEffect(()=>{if(t){const _=n.filter(S=>S.name.toLowerCase().includes(t.toLowerCase())).slice(0,5);s(_)}else s([])},[t,n]);const L=async _=>{v(!0);try{const S=rc(ac,"schedules"),D=I2(S,T2("suburbId","==",_.id)),W=await sc(D),J={};w.forEach(C=>{J[C]=[]}),W.forEach(C=>{C.data().sessions.forEach(O=>{const B={id:C.id,...O,suburbId:_.id};J[B.day].push(B)})}),Object.keys(J).forEach(C=>{J[C].sort((A,O)=>A.startTime.localeCompare(O.startTime))});const ie=w.map(C=>({day:C,schedules:J[C]}));h(ie)}catch(S){console.error("Error fetching schedules:",S),bi.error("Error loading schedules")}v(!1)},T=_=>{const[S,D]=_.split(":").map(Number);return(S+D/60)*60},j=(_,S)=>{const D=T(_);return T(S)-D};return Z.jsxs("div",{className:"max-w-7xl mx-auto",children:[Z.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Your Suburb"}),Z.jsxs("div",{className:"relative",children:[Z.jsx(Lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),Z.jsx("input",{type:"text",placeholder:"Enter suburb name...",value:t,onChange:_=>e(_.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),i.length>0&&Z.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:i.map(_=>Z.jsxs("button",{onClick:()=>{a(_),e(_.name),s([]),L(_)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[Z.jsx(hg,{className:"h-4 w-4 text-blue-500"}),Z.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:_.name})]},_.id))})]})}),p&&Z.jsxs("div",{className:"text-center py-8",children:[Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),Z.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading schedules..."})]}),!p&&o&&Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 overflow-x-auto",children:[Z.jsx("div",{className:"flex items-center justify-between mb-6",children:Z.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center",children:[Z.jsx(G1,{className:"h-6 w-6 mr-2 text-blue-500"}),"Weekly Schedule for ",o.name]})}),Z.jsxs("div",{className:"grid grid-cols-8 gap-4 min-w-[1000px]",children:[Z.jsxs("div",{className:"space-y-2",children:[Z.jsx("div",{className:"h-12"})," ",g.map(_=>Z.jsx("div",{className:"h-12 text-sm text-gray-500 dark:text-gray-400",children:_},_))]}),l.map(({day:_,schedules:S})=>Z.jsxs("div",{className:"space-y-2",children:[Z.jsx("div",{className:"h-12 font-medium text-gray-800 dark:text-white text-center",children:_}),Z.jsxs("div",{className:"relative h-[1152px]",children:[" ",g.map((D,W)=>Z.jsx("div",{className:"absolute w-full h-12 border-t border-gray-100 dark:border-gray-700",style:{top:`${W*48}px`}},W)),S.map((D,W)=>{const J=T(D.startTime)*2,ie=j(D.startTime,D.endTime)*2;return Z.jsx("div",{className:"absolute w-full px-1",style:{top:`${J}px`},children:Z.jsxs("div",{className:`p-2 rounded-lg text-xs font-medium ${D.level<=2?"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200"}`,style:{height:`${ie}px`},children:[Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("span",{children:["Level ",D.level]}),Z.jsx(z4,{className:"h-3 w-3"})]}),Z.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[D.startTime," - ",D.endTime]})]})},W)})]})]},_))]})]}),!p&&o&&l.every(_=>_.schedules.length===0)&&Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[Z.jsx(W1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),Z.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Schedules Found"}),Z.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No schedules are currently available for this suburb."})]})]})}const yE=Ve.createContext({theme:"light",toggleTheme:()=>{}});function DR({children:t}){const[e,n]=Ve.useState(()=>localStorage.getItem("theme")||"light");Ve.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return Z.jsx(yE.Provider,{value:{theme:e,toggleTheme:r},children:t})}const OR=()=>Ve.useContext(yE);function MR(){const{theme:t,toggleTheme:e}=OR();return Z.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:Z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Load Shedding Schedule"}),Z.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200","aria-label":"Toggle theme",children:t==="dark"?Z.jsx(HI,{className:"h-5 w-5"}):Z.jsx($I,{className:"h-5 w-5"})})]})})})}function FR(){return Z.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-sm mt-auto",children:Z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:Z.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[Z.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," Load Shedding Schedule. All rights reserved."]}),Z.jsx("div",{className:"mt-2 sm:mt-0",children:Z.jsxs("nav",{className:"flex space-x-4",children:[Z.jsx("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:"Privacy Policy"}),Z.jsx("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:"Terms of Service"})]})})]})})})}function jR({children:t}){return Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[Z.jsx(MR,{}),Z.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),Z.jsx(FR,{})]})}function VR(){const[t,e]=Ve.useState("status");return Z.jsxs(jR,{children:[Z.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:Z.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[Z.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4",children:"Load Shedding Schedule Checker"}),Z.jsx("p",{className:"text-blue-100 text-base sm:text-lg max-w-2xl mx-auto",children:"Stay informed about load shedding schedules in your area. Check current status, search schedules, and view weekly forecasts."})]})}),Z.jsxs("div",{className:"-mt-8 sm:-mt-10",children:[Z.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-2 sm:p-4",children:Z.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[Z.jsxs("button",{onClick:()=>e("status"),className:`flex items-center justify-center px-4 py-2 rounded-lg transition-colors ${t==="status"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[Z.jsx(W1,{className:"h-5 w-5 mr-2"}),Z.jsx("span",{children:"Current Status"})]}),Z.jsxs("button",{onClick:()=>e("search"),className:`flex items-center justify-center px-4 py-2 rounded-lg transition-colors ${t==="search"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[Z.jsx(Lh,{className:"h-5 w-5 mr-2"}),Z.jsx("span",{children:"Search Schedule"})]}),Z.jsxs("button",{onClick:()=>e("weekly"),className:`flex items-center justify-center px-4 py-2 rounded-lg transition-colors ${t==="weekly"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[Z.jsx(G1,{className:"h-5 w-5 mr-2"}),Z.jsx("span",{children:"Weekly View"})]})]})}),Z.jsxs("div",{className:"mt-6",children:[t==="status"&&Z.jsx(vC,{}),t==="search"&&Z.jsx(CR,{}),t==="weekly"&&Z.jsx(RR,{})]})]})]})}function UR(){return Z.jsxs(Hx,{children:[Z.jsx(OI,{}),Z.jsx(VR,{})]})}fm.createRoot(document.getElementById("root")).render(Z.jsx(t1.StrictMode,{children:Z.jsx(DR,{children:Z.jsx(UR,{})})}));export{qt as _,zR as c,bw as g};
